{"version":3,"sources":["../yjs/node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/simplewebrtc/node_modules/attachmediastream/attachmediastream.js","y-webrtc.js","node_modules/simplewebrtc/node_modules/filetransfer/filetransfer.js","node_modules/simplewebrtc/node_modules/localmedia/index.js","node_modules/simplewebrtc/node_modules/localmedia/node_modules/getscreenmedia/getscreenmedia.js","node_modules/simplewebrtc/node_modules/localmedia/node_modules/getusermedia/index-browser.js","node_modules/simplewebrtc/node_modules/localmedia/node_modules/getusermedia/node_modules/webrtc-adapter-test/adapter.js","node_modules/simplewebrtc/node_modules/localmedia/node_modules/hark/hark.js","node_modules/simplewebrtc/node_modules/localmedia/node_modules/hark/node_modules/wildemitter/wildemitter.js","node_modules/simplewebrtc/node_modules/localmedia/node_modules/mediastream-gain/mediastream-gain.js","node_modules/simplewebrtc/node_modules/mockconsole/mockconsole.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash._arrayeach/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash._baseeach/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash._getnative/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash._bindcallback/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.foreach/node_modules/lodash.isarray/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._baseget/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._topath/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._arraymap/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/parsers.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tojson.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tosdp.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/node_modules/traceablepeerconnection/index.js","node_modules/simplewebrtc/node_modules/rtcpeerconnection/rtcpeerconnection.js","node_modules/simplewebrtc/node_modules/socket.io-client/dist/socket.io.js","node_modules/simplewebrtc/node_modules/webrtcsupport/index-browser.js","node_modules/simplewebrtc/node_modules/wildemitter/wildemitter.js","node_modules/simplewebrtc/peer.js","node_modules/simplewebrtc/simplewebrtc.js","node_modules/simplewebrtc/socketioconnection.js","node_modules/simplewebrtc/webrtc.js","src/WebRTC.js","../yjs/node_modules/browserify/node_modules/inherits/inherits_browser.js","../yjs/node_modules/browserify/node_modules/process/browser.js","../yjs/node_modules/browserify/node_modules/util/support/isBufferBrowser.js","../yjs/node_modules/browserify/node_modules/util/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","stream","el","options","item","URL","window","opts","autoplay","mirror","muted","element","document","createElement","forEach","prefix","styleName","style","createObjectURL","src","srcObject","mozSrcObject",2,"Sender","WildEmitter","this","config","chunksize","pacing","file","channel","Receiver","receiveBuffer","received","metadata","util","inherits","prototype","send","self","sliceFile","offset","reader","FileReader","onload","target","result","emit","size","byteLength","setTimeout","slice","readAsArrayBuffer","receive","binaryType","onmessage","event","len","data","push","Blob","console","error","support","File","wildemitter",3,"LocalMedia","autoAdjustMic","detectSpeakingEvents","audioFallback","media","audio","video","logger","mockconsole","_log","log","bind","_logerror","screenSharingSupport","webrtc","screenSharing","localStreams","localScreens","hark","getUserMedia","getScreenMedia","GainController","start","mediaConstraints","cb","constraints","err","name","setupAudioMonitor","harkOptions","gainController","setMicIfEnabled","onended","stop","getTracks","track","idx","indexOf","splice","stopStreams","stopScreenShare","audioMonitor","startScreenShare","mute","_audioEnabled","hardMuted","unmute","timeout","on","clearTimeout","volume","treshold","setGain","pauseVideo","_videoEnabled","resumeVideo","pause","resume","bool","getAudioTracks","enabled","getVideoTracks","isAudioEnabled","isVideoEnabled","startLocalMedia","stopLocalMedia","Object","defineProperty","get","getscreenmedia","getusermedia","mediastream-gain","webrtcsupport",4,"cache","hasConstraints","arguments","callback","location","protocol","navigator","userAgent","match","chromever","parseInt","maxver","isCef","chrome","webstore","sessionStorage","getScreenMediaJSExtensionId","runtime","sendMessage","type","id","sourceId","mandatory","chromeMediaSource","maxWidth","screen","width","maxHeight","height","maxFrameRate","optional","googLeakyBucket","googTemporalLayeredScreencast","chromeMediaSourceId","cefGetScreenMedia","pending","constraint","postMessage","ffver","mozMediaSource","mediaSource","lastTime","currentTime","polly","setInterval","clearInterval","addEventListener","origin",5,"haveOpts","defaultOpts","denied","altDenied","notSatisfied","localStorage","useFirefoxFakeDevice","fake","webrtc-adapter-test",6,"requestUserMedia","Promise","resolve","reject","attachMediaStream","reattachMediaStream","webrtcDetectedBrowser","webrtcDetectedVersion","webrtcMinimumVersion","webrtcUtils","define","apply","extractVersion","uastring","expr","pos","HTMLMediaElement","_srcObject","set","to","from","mozGetUserMedia","mozRTCPeerConnection","RTCPeerConnection","pcConfig","pcConstraints","iceServers","newIceServers","server","hasOwnProperty","j","urls","newServer","url","username","credential","RTCSessionDescription","mozRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","onSuccess","onError","constraintsToFF37","c","keys","key","ideal","undefined","min","max","exact","advanced","oc","JSON","stringify","mediaDevices","removeEventListener","enumerateDevices","infos","kind","deviceId","label","groupId","orgEnumerateDevices","then","webkitGetUserMedia","webkitRTCPeerConnection","iceTransportPolicy","iceTransports","pc","origGetStats","getStats","selector","successCallback","errorCallback","args","fixChromeStats","response","standardReport","reports","report","standardStats","timestamp","names","stat","successCallbackWrapper","method","nativeMethod","constraintsToChrome","cc","oldname","charAt","toUpperCase","mix","concat","kinds","MediaStreamTrack","getSources","devices","map","device","origGetUserMedia","webrtcTesting","version",7,"getMaxVolume","analyser","fftBins","maxVolume","Infinity","getFloatFrequencyData","ii","audioContextType","AudioContext","webkitAudioContext","audioContext","harker","smoothing","interval","threshold","play","history","running","sourceNode","createAnalyser","fftSize","smoothingTimeConstant","Float32Array","jquery","HTMLAudioElement","HTMLVideoElement","createMediaElementSource","createMediaStreamSource","connect","destination","speaking","setThreshold","speakingHistory","looper","currentVolume","shift",8,"callbacks","groupName","fn","hasGroup","group","func","_groupName","once","off","releaseGroup","handlers","listeners","specialCallbacks","getWildcardCallbacks","eventName","split",9,"webAudio","mediaStream","gain","context","microphone","gainFilter","createGain","createMediaStreamDestination","outputStream","addTrack","removeTrack","val","value","getGain",10,"methods",11,"createForEach","arrayFunc","eachFunc","collection","iteratee","thisArg","isArray","bindCallback","arrayEach","baseEach","lodash._arrayeach","lodash._baseeach","lodash._bindcallback","lodash.isarray",12,"array","index",13,"baseForOwn","object","baseFor","baseProperty","createBaseEach","fromRight","getLength","isLength","iterable","toObject","createBaseFor","keysFunc","props","MAX_SAFE_INTEGER","isObject","lodash.keys",14,"isArrayLike","isIndex","reIsUint","test","shimKeys","keysIn","propsLength","allowIndexes","isArguments","Ctor","constructor","isProto","Array","skipIndexes","getNative","objectProto","nativeKeys","lodash._getnative","lodash.isarguments",15,"isObjectLike","isNative","isFunction","objToString","funcTag","reIsNative","fnToString","reIsHostCtor","Function","toString","RegExp","replace",16,"propertyIsEnumerable",17,"argCount","identity","accumulator","other","source",18,"arrayTag","nativeIsArray",19,"basePropertyDeep","path","pathKey","toPath","baseGet","isKey","reIsPlainProp","reIsDeepProp","pluck","property","lodash._baseget","lodash._topath","lodash.map",20,21,"baseToString","rePropName","number","quote","string","reEscapeChar",22,"dup",23,"baseMap","arrayMap","baseCallback","lodash._arraymap","lodash._basecallback",24,25,"baseMatches","baseMatchesProperty","baseIsMatch","matchData","customizer","noCustomizer","objValue","srcValue","baseIsEqual","getMatchData","isArr","isCommon","isStrictComparable","baseSlice","last","end","pairs","lodash._baseisequal","lodash.pairs",26,"arraySome","predicate","isLoose","stackA","stackB","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","argsTag","objectTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","objIsWrapped","othIsWrapped","equalArrays","equalObjects","pop","arrLength","othLength","arrValue","othValue","tag","boolTag","dateTag","errorTag","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","skipCtor","objCtor","othCtor","lodash.istypedarray",27,"typedArrayTags","mapTag","setTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag",28,29,30,31,32,33,34,"toSDP","toJSON","toIncomingSDPOffer","session","toSessionSDP","role","direction","toOutgoingSDPOffer","toIncomingSDPAnswer","toOutgoingSDPAnswer","toIncomingMediaSDPOffer","toMediaSDP","toOutgoingMediaSDPOffer","toIncomingMediaSDPAnswer","toOutgoingMediaSDPAnswer","toCandidateSDP","toIncomingJSONOffer","sdp","creators","toSessionJSON","toOutgoingJSONOffer","toIncomingJSONAnswer","toOutgoingJSONAnswer","toIncomingMediaJSONOffer","creator","toMediaJSON","toOutgoingMediaJSONOffer","toIncomingMediaJSONAnswer","toOutgoingMediaJSONAnswer","toCandidateJSON","./lib/tojson","./lib/tosdp",35,"lines","filter","line","findLine","mediaLines","sessionLines","prefixLength","substr","findLines","results","mline","parts","parsed","port","proto","formats","rtpmap","clockrate","channels","sctpmap","streams","fmtp","kv","trim","crypto","cipherSuite","keyParams","sessionParams","join","fingerprint","hash","extmap","idpart","sp","senders","uri","rtcpfb","subtype","parameters","candidate","substring","foundation","component","toLowerCase","priority","ip","generation","relAddr","relPort","tcpType","network","sourceGroups","semantics","sources","ssrc","attribute","groups","contents","bandwidth","msid","mslabel",36,"initiator","incoming","responder","both","none","recvonly","sendonly","sendrecv","inactive","outgoing",37,"SENDERS","parsers","idCounter","Math","random","_setIdCounter","counter","groupLines","content","description","descType","payloads","encryption","feedback","headerExtensions","transport","transType","candidates","fingerprints","sctp","desc","trans","mid","rtpmapLines","payload","fmtpLines","fbLines","cryptoLines","mux","extLines","ext","ssrcGroupLines","ssrcLines","msidLine","found","googConferenceFlag","fingerprintLines","setup","fp","ufragLine","pwdLine","ufrag","pwd","candidateLines","sctpmapLines","./parsers","./senders",38,"sid","Date","now","time","pushedSetup","param","fb","hdrExts","hdr","ssrcGroups","ssrcGroup","ssrcs",39,"dumpSDP","dumpStream","info","TraceablePeerConnection","peerconnection","trace","what","onicecandidate","onaddstream","onremovestream","onsignalingstatechange","signalingState","oniceconnectionstatechange","iceConnectionState","onnegotiationneeded","ondatachannel","getLocalStreams","getRemoteStreams","prop","addStream","removeStream","createDataChannel","setLocalDescription","failureCallback","setRemoteDescription","close","createOffer","offer","createAnswer","answer","addIceCandidate",40,41,"PeerConnection","enableChromeNativeSimulcast","adapter","appVersion","enableMultiStreamHacks","restrictBandwidth","andyetRestrictBandwidth","batchIceCandidates","andyetBatchIce","batchedIceCandidates","andyetFasterICE","eliminateDuplicateCandidates","andyetDontSignalCandidates","dontSignalCandidates","assumeSetLocalSuccess","andyetAssumeSetLocalSuccess","wtFirefox","andyetFirefoxMakesMeSad","firefoxcandidatebuffer","peerconn","_onIce","_onDataChannel","localDescription","remoteDescription","debug","ice","isInitiator","sdpSessionID","useJingle","hadLocalStunCandidate","hadRemoteStunCandidate","hadLocalRelayCandidate","hadRemoteRelayCandidate","hadLocalIPv6Candidate","hadRemoteIPv6Candidate","_remoteDataChannels","_localDataChannels","_candidateBuffer","each","SJJ","_role","localStream","_checkLocalCandidate","cand","_checkRemoteCandidate","processIce","update","jingle","contentNames","iceCandidate","sdpMLineIndex","sdpMid","OfferToReceiveAudio","OfferToReceiveVideo","expandedOffer","handleOffer","unshift","hasBw","answerAudioOnly","_answer","answerBroadcastOnly","handleAnswer","sim","hasSim","newssrc","parse","floor","rtxssrc","expandedAnswer","parameter","expandedCandidate","already","bundlePolicy","address","rtcpMuxPolicy","newCand","res","items","lodash.foreach","lodash.pluck","sdp-jingle-json","traceablepeerconnection",42,"io","global","transports","sockets","host","details","uuri","socket","parseUri","domain","hostname","uniqueUri","secure","query","merge","Socket","of","re","str","m","exec","base","addition","chunkQuery","components","part","qs","params","pageLoaded","load","readyState","capture","attachEvent","request","xdomain","XDomainRequest","ua","hasCORS","XMLHttpRequest","defer","webkit","importScripts","additional","deep","lastseen","seen","depth","mixin","ctor","ctor2","inherit","obj","intersect","arr","arr2","ret","longest","shortest","toArray","enu","withCredentials","iDevice","EventEmitter","$events","addListener","removeListener","listener","list","removeAllListeners","handler","parent","nativeJSON","date","d","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","escapable","lastIndex","meta","charCodeAt","holder","k","v","partial","mind","gap","rep","String","indent","cx","\b","\t","\n","\f","\r","\"","\\","replacer","space","","text","reviver","walk","eval","SyntaxError","parser","packets","reasons","advice","encodePacket","packet","endpoint","ack","reason","adv","ev","ackId","encoded","encodePayload","decoded","regexp","decodePacket","pieces","decodePayload","Number","Transport","sessid","heartbeats","onData","clearCloseTimeout","connected","connecting","reconnecting","setCloseTimeout","msgs","onPacket","setHeartbeatTimeout","onHeartbeat","onConnect","isOpen","closeTimeout","onDisconnect","clearTimeouts","reopenTimeout","heartbeat","onOpen","onClose","prepareUrl","scheme","resource","ready","connect timeout","try multiple transports","reconnect","reconnection delay","reconnection limit","reopen delay","max reconnection attempts","sync disconnect on unload","auto connect","flash policy port","manualFlush","open","namespaces","buffer","doBuffer","isXDomain","disconnectSync","empty","SocketNamespace","publish","nsp","$emit","handshake","complete","insertAt","getElementsByTagName","script","parentNode","insertBefore","removeChild","xhr","onreadystatechange","status","responseText","getTransport","override","check","xdomainCheck","sessionid","connectTimeoutTimer","remaining","heartbeatTimeout","origTransports","heartbeatTimeoutTimer","setBuffer","flushBuffer","disconnect","wasConnected","wasConnecting","reset","reconnectionAttempts","reconnectionTimer","maybeReconnect","reconnectionDelay","redoTransports","tryMultiple","maxAttempts","limit","flags","json","Flag","ackPackets","acks","namespace","lastArg","WS","websocket","MozWebSocket","WebSocket","onopen","onclose","onerror","Flashsocket","flashsocket","__addTask","__tasks","init","loaded","WEB_SOCKET_SWF_LOCATION","loadFlashPolicyFile","__initialize","body","swfobject","getFlashPlayerVersion","major","WEB_SOCKET_DISABLE_AUTO_INITIALIZATION","J","Z","appendChild","C","aa","X","U","Y","K","O","D","h","T","V","H","setAttribute","q","GetVariable","ab","M","pv","callee","ag","af","callbackFn","success","ae","F","swfVersion","wk","expressInstall","A","ai","getAttribute","styleclass","align","ah","ac","ad","P","p","w","ref","z","SetVariable","nodeName","win","mac","E","B","g","Q","R","title","ie","flashvars","display","replaceChild","innerHTML","childNodes","nodeType","cloneNode","movie","outerHTML","N","y","b","getElementById","I","G","styleSheets","addRule","createTextNode","visibility","L","encodeURIComponent","S","W","x","platform","parseFloat","plugins","mimeTypes","enabledPlugin","w3","detachEvent","top","documentElement","doScroll","registerObject","getObjectById","embedSWF","aj","al","am","ak","an","switchOffAutoHideShow","minor","release","hasFlashPlayerVersion","createSWF","showExpressInstall","removeSWF","createCSS","addDomLoadEvent","addLoadEvent","getQueryParamValue","search","expressInstallCallback","protocols","proxyHost","proxyPort","headers","__id","__nextId","__instances","CONNECTING","bufferedAmount","__events","__flash","create","CLOSED","CLOSING","useCapture","events","dispatchEvent","__handleEvent","flashEvent","jsEvent","__createSimpleEvent","decodeURIComponent","__createMessageEvent","createEvent","Event","initEvent","bubbles","cancelable","MessageEvent","opera","initMessageEvent","OPEN","loadManualPolicyFile","__swfLocation","container","position","__isFlashLite","left","hasPriority","swliveconnect","allowScriptAccess","__onFlashInitialized","setCallerUrl","href","setDebug","WEB_SOCKET_DEBUG","__onFlashEvent","receiveEvents","webSocketId","__log","__error","task","mimeType","filename","XHR","sendBuffer","post","stateChange","posting","sendXHR","req","setRequestHeader","contentType","usesXDomReq","socketProtocol","isXProtocol","HTMLFile","htmlfile","doc","write","parentWindow","iframeC","className","iframe","destroy","_","CollectGarbage","XHRPolling","retryCounter","abort","JSONPPolling","msg","indicator","initIframe","form","iframeId","area","action","submit","async","amd",43,"PC","IceCandidate","SessionDescription","MediaStream","webkitMediaStream","videoEl","supportVp8","canPlayType","msGetUserMedia","browserVersion","supportRTCPeerConnection","supportGetUserMedia","supportDataChannel","supportWebAudio","supportMediaStream","supportScreenSharing","dataChannel",44,"isWildEmitter",45,"Peer","oneway","sharemyscreen","browserPrefix","enableDataChannels","receiveMedia","peerConnectionConfig","peerConnectionConstraints","onIceCandidate","nick","handleRemoteStreamAdded","handleDataChannelAdded","handleStreamRemoved","localScreen","broadcaster","INBAND_FILETRANSFER_V1","receiver","FileTransfer","handleMessage","sessionDescription","messageType","roomType","sendDirectly","dc","getDataChannel","_observeDataChannel","closed","icerestart","IceRestart","warn","peers","sendFile","sender","getTime","filetransfer","rtcpeerconnection",46,"SimpleWebRTC","connection","socketio","localVideoEl","remoteVideosEl","autoRequestMedia","autoRemoveVideos","adjustPeerVolume","peerVolumeWhenSpeaking","localVideo","capabilities","webrtcSupport","SocketIoConnection","getSessionid","sessionReady","testReadiness","peer","getPeers","createPeer","room","removePeers","WebRTC","handlePeerStreamAdded","handlePeerStreamRemoved","setVolumeForAll","sendToAll","getRemoteVideoContainer","oncontextmenu","existingPeer","startLocalVideo","leaveRoom","roomName","getLocalScreen","getDomId","joinRoom","roomDescription","client","clients","getEl","idOrEl","getLocalVideoContainer","stopLocalVideo","tagName","shareScreen","createRoom","./socketioconnection","./webrtc","attachmediastream",47,"socket.io-client",48,"DtlsSrtpKeyAgreement","localMedia","val1","val2","sessionId","sendDirectlyToAll","./peer","localmedia",49,"_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","extend","_Y$AbstractConnector","_this","getPrototypeOf","webrtcOptions","swr","userId","setUserId","room_","receiveMessage","userJoined","userLeft","_createClass","_get","uid","AbstractConnector","defineProperties","descriptor","protoProps","staticProps","getOwnPropertyDescriptor","getter","simplewebrtc",50,"superCtor","super_","TempCtor",51,"cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","run","Item","fun","noop","process","nextTick","browser","env","argv","versions","binding","cwd","chdir","dir","umask",52,"arg","copy","fill","readUInt8",53,"inspect","ctx","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","recurseTimes","isString","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","isNull","numLinesEst","reduce","prev","cur","ar","isNullOrUndefined","isSymbol","objectToString","isPrimitive","pad","getHours","getMinutes","getSeconds","getDate","months","getMonth","formatRegExp","format","objects","deprecate","deprecated","warned","throwDeprecation","traceDeprecation","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","isBuffer","add","./support/isBuffer","_process"],"mappings":"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","file":"y-webrtc.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = function (stream, el, options) {\n    var URL = window.URL;\n    var opts = {\n        autoplay: true,\n        mirror: false,\n        muted: false\n    };\n    var element = el || document.createElement('video');\n    var item;\n\n    if (options) {\n        for (item in options) {\n            opts[item] = options[item];\n        }\n    }\n\n    if (opts.autoplay) element.autoplay = 'autoplay';\n    if (opts.muted) element.muted = true;\n    if (opts.mirror) {\n        ['', 'moz', 'webkit', 'o', 'ms'].forEach(function (prefix) {\n            var styleName = prefix ? prefix + 'Transform' : 'transform';\n            element.style[styleName] = 'scaleX(-1)';\n        });\n    }\n\n    // this first one should work most everywhere now\n    // but we have a few fallbacks just in case.\n    if (URL && URL.createObjectURL) {\n        element.src = URL.createObjectURL(stream);\n    } else if (element.srcObject) {\n        element.srcObject = stream;\n    } else if (element.mozSrcObject) {\n        element.mozSrcObject = stream;\n    } else {\n        return false;\n    }\n\n    return element;\n};\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = function (stream, el, options) {\n    var URL = window.URL;\n    var opts = {\n        autoplay: true,\n        mirror: false,\n        muted: false\n    };\n    var element = el || document.createElement('video');\n    var item;\n\n    if (options) {\n        for (item in options) {\n            opts[item] = options[item];\n        }\n    }\n\n    if (opts.autoplay) element.autoplay = 'autoplay';\n    if (opts.muted) element.muted = true;\n    if (opts.mirror) {\n        ['', 'moz', 'webkit', 'o', 'ms'].forEach(function (prefix) {\n            var styleName = prefix ? prefix + 'Transform' : 'transform';\n            element.style[styleName] = 'scaleX(-1)';\n        });\n    }\n\n    // this first one should work most everywhere now\n    // but we have a few fallbacks just in case.\n    if (URL && URL.createObjectURL) {\n        element.src = URL.createObjectURL(stream);\n    } else if (element.srcObject) {\n        element.srcObject = stream;\n    } else if (element.mozSrcObject) {\n        element.mozSrcObject = stream;\n    } else {\n        return false;\n    }\n\n    return element;\n};\n\n},{}],2:[function(require,module,exports){\nvar WildEmitter = require('wildemitter');\nvar util = require('util');\n\nfunction Sender(opts) {\n    WildEmitter.call(this);\n    var options = opts || {};\n    this.config = {\n        chunksize: 16384,\n        pacing: 0\n    };\n    // set our config from options\n    var item;\n    for (item in options) {\n        this.config[item] = options[item];\n    }\n\n    this.file = null;\n    this.channel = null;\n}\nutil.inherits(Sender, WildEmitter);\n\nSender.prototype.send = function (file, channel) {\n    var self = this;\n    this.file = file;\n    this.channel = channel;\n    var sliceFile = function(offset) {\n        var reader = new window.FileReader();\n        reader.onload = (function() {\n            return function(e) {\n                self.channel.send(e.target.result);\n                self.emit('progress', offset, file.size, e.target.result);\n                if (file.size > offset + e.target.result.byteLength) {\n                    window.setTimeout(sliceFile, self.config.pacing, offset + self.config.chunksize);\n                } else {\n                    self.emit('progress', file.size, file.size, null);\n                    self.emit('sentFile');\n                }\n            };\n        })(file);\n        var slice = file.slice(offset, offset + self.config.chunksize);\n        reader.readAsArrayBuffer(slice);\n    };\n    window.setTimeout(sliceFile, 0, 0);\n};\n\nfunction Receiver() {\n    WildEmitter.call(this);\n\n    this.receiveBuffer = [];\n    this.received = 0;\n    this.metadata = {};\n    this.channel = null;\n}\nutil.inherits(Receiver, WildEmitter);\n\nReceiver.prototype.receive = function (metadata, channel) {\n    var self = this;\n\n    if (metadata) {\n        this.metadata = metadata;\n    }\n    this.channel = channel;\n    // chrome only supports arraybuffers and those make it easier to calc the hash\n    channel.binaryType = 'arraybuffer';\n    this.channel.onmessage = function (event) {\n        var len = event.data.byteLength;\n        self.received += len;\n        self.receiveBuffer.push(event.data);\n\n        self.emit('progress', self.received, self.metadata.size, event.data);\n        if (self.received === self.metadata.size) {\n            self.emit('receivedFile', new window.Blob(self.receiveBuffer), self.metadata);\n            self.receiveBuffer = []; // discard receivebuffer\n        } else if (self.received > self.metadata.size) {\n            // FIXME\n            console.error('received more than expected, discarding...');\n            self.receiveBuffer = []; // just discard...\n\n        }\n    };\n};\n\nmodule.exports = {};\nmodule.exports.support = typeof window !== 'undefined' && window && window.File && window.FileReader && window.Blob;\nmodule.exports.Sender = Sender;\nmodule.exports.Receiver = Receiver;\n\n},{\"util\":53,\"wildemitter\":44}],3:[function(require,module,exports){\nvar util = require('util');\nvar hark = require('hark');\nvar webrtc = require('webrtcsupport');\nvar getUserMedia = require('getusermedia');\nvar getScreenMedia = require('getscreenmedia');\nvar WildEmitter = require('wildemitter');\nvar GainController = require('mediastream-gain');\nvar mockconsole = require('mockconsole');\n\n\nfunction LocalMedia(opts) {\n    WildEmitter.call(this);\n\n    var config = this.config = {\n        autoAdjustMic: false,\n        detectSpeakingEvents: true,\n        audioFallback: false,\n        media: {\n            audio: true,\n            video: true\n        },\n        logger: mockconsole\n    };\n\n    var item;\n    for (item in opts) {\n        this.config[item] = opts[item];\n    }\n\n    this.logger = config.logger;\n    this._log = this.logger.log.bind(this.logger, 'LocalMedia:');\n    this._logerror = this.logger.error.bind(this.logger, 'LocalMedia:');\n\n    this.screenSharingSupport = webrtc.screenSharing;\n\n    this.localStreams = [];\n    this.localScreens = [];\n\n    if (!webrtc.support) {\n        this._logerror('Your browser does not support local media capture.');\n    }\n}\n\nutil.inherits(LocalMedia, WildEmitter);\n\n\nLocalMedia.prototype.start = function (mediaConstraints, cb) {\n    var self = this;\n    var constraints = mediaConstraints || this.config.media;\n\n    getUserMedia(constraints, function (err, stream) {\n\n        if (!err) {\n            if (constraints.audio && self.config.detectSpeakingEvents) {\n                self.setupAudioMonitor(stream, self.config.harkOptions);\n            }\n            self.localStreams.push(stream);\n\n            if (self.config.autoAdjustMic) {\n                self.gainController = new GainController(stream);\n                // start out somewhat muted if we can track audio\n                self.setMicIfEnabled(0.5);\n            }\n\n            // TODO: might need to migrate to the video tracks onended\n            // FIXME: firefox does not seem to trigger this...\n            stream.onended = function () {\n                /*\n                var idx = self.localStreams.indexOf(stream);\n                if (idx > -1) {\n                    self.localScreens.splice(idx, 1);\n                }\n                self.emit('localStreamStopped', stream);\n                */\n            };\n\n            self.emit('localStream', stream);\n        } else {\n            // Fallback for users without a camera\n            if (self.config.audioFallback && err.name === 'DevicesNotFoundError' && constraints.video !== false) {\n                constraints.video = false;\n                self.start(constraints, cb);\n                return;\n            }\n        }\n        if (cb) {\n            return cb(err, stream);\n        }\n    });\n};\n\nLocalMedia.prototype.stop = function (stream) {\n    var self = this;\n    // FIXME: duplicates cleanup code until fixed in FF\n    if (stream) {\n        stream.getTracks().forEach(function (track) { track.stop(); });\n        var idx = self.localStreams.indexOf(stream);\n        if (idx > -1) {\n            self.emit('localStreamStopped', stream);\n            self.localStreams = self.localStreams.splice(idx, 1);\n        } else {\n            idx = self.localScreens.indexOf(stream);\n            if (idx > -1) {\n                self.emit('localScreenStopped', stream);\n                self.localScreens = self.localScreens.splice(idx, 1);\n            }\n        }\n    } else {\n        this.stopStreams();\n        this.stopScreenShare();\n    }\n};\n\nLocalMedia.prototype.stopStreams = function () {\n    var self = this;\n    if (this.audioMonitor) {\n        this.audioMonitor.stop();\n        delete this.audioMonitor;\n    }\n    this.localStreams.forEach(function (stream) {\n        stream.getTracks().forEach(function (track) { track.stop(); });\n        self.emit('localStreamStopped', stream);\n    });\n    this.localStreams = [];\n};\n\nLocalMedia.prototype.startScreenShare = function (cb) {\n    var self = this;\n    getScreenMedia(function (err, stream) {\n        if (!err) {\n            self.localScreens.push(stream);\n\n            // TODO: might need to migrate to the video tracks onended\n            // Firefox does not support .onended but it does not support\n            // screensharing either\n            stream.onended = function () {\n                var idx = self.localScreens.indexOf(stream);\n                if (idx > -1) {\n                    self.localScreens.splice(idx, 1);\n                }\n                self.emit('localScreenStopped', stream);\n            };\n            self.emit('localScreen', stream);\n        }\n\n        // enable the callback\n        if (cb) {\n            return cb(err, stream);\n        }\n    });\n};\n\nLocalMedia.prototype.stopScreenShare = function (stream) {\n    var self = this;\n    if (stream) {\n        stream.getTracks().forEach(function (track) { track.stop(); });\n        this.emit('localScreenStopped', stream);\n    } else {\n        this.localScreens.forEach(function (stream) {\n            stream.getTracks().forEach(function (track) { track.stop(); });\n            self.emit('localScreenStopped', stream);\n        });\n        this.localScreens = [];\n    }\n};\n\n// Audio controls\nLocalMedia.prototype.mute = function () {\n    this._audioEnabled(false);\n    this.hardMuted = true;\n    this.emit('audioOff');\n};\n\nLocalMedia.prototype.unmute = function () {\n    this._audioEnabled(true);\n    this.hardMuted = false;\n    this.emit('audioOn');\n};\n\nLocalMedia.prototype.setupAudioMonitor = function (stream, harkOptions) {\n    this._log('Setup audio');\n    var audio = this.audioMonitor = hark(stream, harkOptions);\n    var self = this;\n    var timeout;\n\n    audio.on('speaking', function () {\n        self.emit('speaking');\n        if (self.hardMuted) {\n            return;\n        }\n        self.setMicIfEnabled(1);\n    });\n\n    audio.on('stopped_speaking', function () {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        timeout = setTimeout(function () {\n            self.emit('stoppedSpeaking');\n            if (self.hardMuted) {\n                return;\n            }\n            self.setMicIfEnabled(0.5);\n        }, 1000);\n    });\n    audio.on('volume_change', function (volume, treshold) {\n        self.emit('volumeChange', volume, treshold);\n    });\n};\n\n// We do this as a seperate method in order to\n// still leave the \"setMicVolume\" as a working\n// method.\nLocalMedia.prototype.setMicIfEnabled = function (volume) {\n    if (!this.config.autoAdjustMic) {\n        return;\n    }\n    this.gainController.setGain(volume);\n};\n\n// Video controls\nLocalMedia.prototype.pauseVideo = function () {\n    this._videoEnabled(false);\n    this.emit('videoOff');\n};\nLocalMedia.prototype.resumeVideo = function () {\n    this._videoEnabled(true);\n    this.emit('videoOn');\n};\n\n// Combined controls\nLocalMedia.prototype.pause = function () {\n    this.mute();\n    this.pauseVideo();\n};\nLocalMedia.prototype.resume = function () {\n    this.unmute();\n    this.resumeVideo();\n};\n\n// Internal methods for enabling/disabling audio/video\nLocalMedia.prototype._audioEnabled = function (bool) {\n    // work around for chrome 27 bug where disabling tracks\n    // doesn't seem to work (works in canary, remove when working)\n    this.setMicIfEnabled(bool ? 1 : 0);\n    this.localStreams.forEach(function (stream) {\n        stream.getAudioTracks().forEach(function (track) {\n            track.enabled = !!bool;\n        });\n    });\n};\nLocalMedia.prototype._videoEnabled = function (bool) {\n    this.localStreams.forEach(function (stream) {\n        stream.getVideoTracks().forEach(function (track) {\n            track.enabled = !!bool;\n        });\n    });\n};\n\n// check if all audio streams are enabled\nLocalMedia.prototype.isAudioEnabled = function () {\n    var enabled = true;\n    this.localStreams.forEach(function (stream) {\n        stream.getAudioTracks().forEach(function (track) {\n            enabled = enabled && track.enabled;\n        });\n    });\n    return enabled;\n};\n\n// check if all video streams are enabled\nLocalMedia.prototype.isVideoEnabled = function () {\n    var enabled = true;\n    this.localStreams.forEach(function (stream) {\n        stream.getVideoTracks().forEach(function (track) {\n            enabled = enabled && track.enabled;\n        });\n    });\n    return enabled;\n};\n\n// Backwards Compat\nLocalMedia.prototype.startLocalMedia = LocalMedia.prototype.start;\nLocalMedia.prototype.stopLocalMedia = LocalMedia.prototype.stop;\n\n// fallback for old .localStream behaviour\nObject.defineProperty(LocalMedia.prototype, 'localStream', {\n    get: function () {\n        return this.localStreams.length > 0 ? this.localStreams[0] : null;\n    }\n});\n// fallback for old .localScreen behaviour\nObject.defineProperty(LocalMedia.prototype, 'localScreen', {\n    get: function () {\n        return this.localScreens.length > 0 ? this.localScreens[0] : null;\n    }\n});\n\nmodule.exports = LocalMedia;\n\n},{\"getscreenmedia\":4,\"getusermedia\":5,\"hark\":7,\"mediastream-gain\":9,\"mockconsole\":10,\"util\":53,\"webrtcsupport\":43,\"wildemitter\":44}],4:[function(require,module,exports){\n// getScreenMedia helper by @HenrikJoreteg\nvar getUserMedia = require('getusermedia');\n\n// cache for constraints and callback\nvar cache = {};\n\nmodule.exports = function (constraints, cb) {\n    var hasConstraints = arguments.length === 2;\n    var callback = hasConstraints ? cb : constraints;\n    var error;\n\n    if (typeof window === 'undefined' || window.location.protocol === 'http:') {\n        error = new Error('NavigatorUserMediaError');\n        error.name = 'HTTPS_REQUIRED';\n        return callback(error);\n    }\n\n    if (window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        var isCef = !window.chrome.webstore;\n        // \"known\" crash in chrome 34 and 35 on linux\n        if (window.navigator.userAgent.match('Linux')) maxver = 35;\n\n        // check that the extension is installed by looking for a\n        // sessionStorage variable that contains the extension id\n        // this has to be set after installation unless the contest\n        // script does that\n        if (sessionStorage.getScreenMediaJSExtensionId) {\n            chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId,\n                {type:'getScreen', id: 1}, null,\n                function (data) {\n                    if (data.sourceId === '') { // user canceled\n                        var error = new Error('NavigatorUserMediaError');\n                        error.name = 'PERMISSION_DENIED';\n                        callback(error);\n                    } else {\n                        constraints = (hasConstraints && constraints) || {audio: false, video: {\n                            mandatory: {\n                                chromeMediaSource: 'desktop',\n                                maxWidth: window.screen.width,\n                                maxHeight: window.screen.height,\n                                maxFrameRate: 3\n                            },\n                            optional: [\n                                {googLeakyBucket: true},\n                                {googTemporalLayeredScreencast: true}\n                            ]\n                        }};\n                        constraints.video.mandatory.chromeMediaSourceId = data.sourceId;\n                        getUserMedia(constraints, callback);\n                    }\n                }\n            );\n        } else if (window.cefGetScreenMedia) {\n            //window.cefGetScreenMedia is experimental - may be removed without notice\n            window.cefGetScreenMedia(function(sourceId) {\n                if (!sourceId) {\n                    var error = new Error('cefGetScreenMediaError');\n                    error.name = 'CEF_GETSCREENMEDIA_CANCELED';\n                    callback(error);\n                } else {\n                    constraints = (hasConstraints && constraints) || {audio: false, video: {\n                        mandatory: {\n                            chromeMediaSource: 'desktop',\n                            maxWidth: window.screen.width,\n                            maxHeight: window.screen.height,\n                            maxFrameRate: 3\n                        },\n                        optional: [\n                            {googLeakyBucket: true},\n                            {googTemporalLayeredScreencast: true}\n                        ]\n                    }};\n                    constraints.video.mandatory.chromeMediaSourceId = sourceId;\n                    getUserMedia(constraints, callback);\n                }\n            });\n        } else if (isCef || (chromever >= 26 && chromever <= maxver)) {\n            // chrome 26 - chrome 33 way to do it -- requires bad chrome://flags\n            // note: this is basically in maintenance mode and will go away soon\n            constraints = (hasConstraints && constraints) || {\n                video: {\n                    mandatory: {\n                        googLeakyBucket: true,\n                        maxWidth: window.screen.width,\n                        maxHeight: window.screen.height,\n                        maxFrameRate: 3,\n                        chromeMediaSource: 'screen'\n                    }\n                }\n            };\n            getUserMedia(constraints, callback);\n        } else {\n            // chrome 34+ way requiring an extension\n            var pending = window.setTimeout(function () {\n                error = new Error('NavigatorUserMediaError');\n                error.name = 'EXTENSION_UNAVAILABLE';\n                return callback(error);\n            }, 1000);\n            cache[pending] = [callback, hasConstraints ? constraint : null];\n            window.postMessage({ type: 'getScreen', id: pending }, '*');\n        }\n    } else if (window.navigator.userAgent.match('Firefox')) {\n        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n        if (ffver >= 33) {\n            constraints = (hasConstraints && constraints) || {\n                video: {\n                    mozMediaSource: 'window',\n                    mediaSource: 'window'\n                }\n            }\n            getUserMedia(constraints, function (err, stream) {\n                callback(err, stream);\n                // workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                if (!err) {\n                    var lastTime = stream.currentTime;\n                    var polly = window.setInterval(function () {\n                        if (!stream) window.clearInterval(polly);\n                        if (stream.currentTime == lastTime) {\n                            window.clearInterval(polly);\n                            if (stream.onended) {\n                                stream.onended();\n                            }\n                        }\n                        lastTime = stream.currentTime;\n                    }, 500);\n                }\n            });\n        } else {\n            error = new Error('NavigatorUserMediaError');\n            error.name = 'EXTENSION_UNAVAILABLE'; // does not make much sense but...\n        }\n    }\n};\n\nwindow.addEventListener('message', function (event) {\n    if (event.origin != window.location.origin) {\n        return;\n    }\n    if (event.data.type == 'gotScreen' && cache[event.data.id]) {\n        var data = cache[event.data.id];\n        var constraints = data[1];\n        var callback = data[0];\n        delete cache[event.data.id];\n\n        if (event.data.sourceId === '') { // user canceled\n            var error = new Error('NavigatorUserMediaError');\n            error.name = 'PERMISSION_DENIED';\n            callback(error);\n        } else {\n            constraints = constraints || {audio: false, video: {\n                mandatory: {\n                    chromeMediaSource: 'desktop',\n                    maxWidth: window.screen.width,\n                    maxHeight: window.screen.height,\n                    maxFrameRate: 3\n                },\n                optional: [\n                    {googLeakyBucket: true},\n                    {googTemporalLayeredScreencast: true}\n                ]\n            }};\n            constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n            getUserMedia(constraints, callback);\n        }\n    } else if (event.data.type == 'getScreenPending') {\n        window.clearTimeout(event.data.id);\n    }\n});\n\n},{\"getusermedia\":5}],5:[function(require,module,exports){\n// getUserMedia helper by @HenrikJoreteg\nvar adapter = require('webrtc-adapter-test');\n\nmodule.exports = function (constraints, cb) {\n    var options, error;\n    var haveOpts = arguments.length === 2;\n    var defaultOpts = {video: true, audio: true};\n\n    var denied = 'PermissionDeniedError';\n    var altDenied = 'PERMISSION_DENIED';\n    var notSatisfied = 'ConstraintNotSatisfiedError';\n\n    // make constraints optional\n    if (!haveOpts) {\n        cb = constraints;\n        constraints = defaultOpts;\n    }\n\n    // treat lack of browser support like an error\n    if (!navigator.getUserMedia) {\n        // throw proper error per spec\n        error = new Error('MediaStreamError');\n        error.name = 'NotSupportedError';\n\n        // keep all callbacks async\n        return window.setTimeout(function () {\n            cb(error);\n        }, 0);\n    }\n\n    // normalize error handling when no media types are requested\n    if (!constraints.audio && !constraints.video) {\n        error = new Error('MediaStreamError');\n        error.name = 'NoMediaRequestedError';\n\n        // keep all callbacks async\n        return window.setTimeout(function () {\n            cb(error);\n        }, 0);\n    }\n\n    // testing support\n    if (localStorage && localStorage.useFirefoxFakeDevice === \"true\") {\n        constraints.fake = true;\n    }\n\n    navigator.getUserMedia(constraints, function (stream) {\n        cb(null, stream);\n    }, function (err) {\n        var error;\n        // coerce into an error object since FF gives us a string\n        // there are only two valid names according to the spec\n        // we coerce all non-denied to \"constraint not satisfied\".\n        if (typeof err === 'string') {\n            error = new Error('MediaStreamError');\n            if (err === denied || err === altDenied) {\n                error.name = denied;\n            } else {\n                error.name = notSatisfied;\n            }\n        } else {\n            // if we get an error object make sure '.name' property is set\n            // according to spec: http://dev.w3.org/2011/webrtc/editor/getusermedia.html#navigatorusermediaerror-and-navigatorusermediaerrorcallback\n            error = err;\n            if (!error.name) {\n                // this is likely chrome which\n                // sets a property called \"ERROR_DENIED\" on the error object\n                // if so we make sure to set a name\n                if (error[denied]) {\n                    err.name = denied;\n                } else {\n                    err.name = notSatisfied;\n                }\n            }\n        }\n\n        cb(error);\n    });\n};\n\n},{\"webrtc-adapter-test\":6}],6:[function(require,module,exports){\n/*\n *  Copyright (c) 2014 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\n/* More information about these options at jshint.com/docs/options */\n/* jshint browser: true, camelcase: true, curly: true, devel: true,\n   eqeqeq: true, forin: false, globalstrict: true, node: true,\n   quotmark: single, undef: true, unused: strict */\n/* global mozRTCIceCandidate, mozRTCPeerConnection, Promise,\nmozRTCSessionDescription, webkitRTCPeerConnection, MediaStreamTrack */\n/* exported trace,requestUserMedia */\n\n'use strict';\n\nvar getUserMedia = null;\nvar attachMediaStream = null;\nvar reattachMediaStream = null;\nvar webrtcDetectedBrowser = null;\nvar webrtcDetectedVersion = null;\nvar webrtcMinimumVersion = null;\nvar webrtcUtils = {\n  log: function() {\n    // suppress console.log output when being included as a module.\n    if (typeof module !== 'undefined' ||\n        typeof require === 'function' && typeof define === 'function') {\n      return;\n    }\n    console.log.apply(console, arguments);\n  },\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos]);\n  }\n};\n\nfunction trace(text) {\n  // This function is used for logging.\n  if (text[text.length - 1] === '\\n') {\n    text = text.substring(0, text.length - 1);\n  }\n  if (window.performance) {\n    var now = (window.performance.now() / 1000).toFixed(3);\n    webrtcUtils.log(now + ': ' + text);\n  } else {\n    webrtcUtils.log(text);\n  }\n}\n\nif (typeof window === 'object') {\n  if (window.HTMLMediaElement &&\n    !('srcObject' in window.HTMLMediaElement.prototype)) {\n    // Shim the srcObject property, once, when HTMLMediaElement is found.\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n      get: function() {\n        // If prefixed srcObject property exists, return it.\n        // Otherwise use the shimmed property, _srcObject\n        return 'mozSrcObject' in this ? this.mozSrcObject : this._srcObject;\n      },\n      set: function(stream) {\n        if ('mozSrcObject' in this) {\n          this.mozSrcObject = stream;\n        } else {\n          // Use _srcObject as a private property for this shim\n          this._srcObject = stream;\n          // TODO: revokeObjectUrl(this.src) when !stream to release resources?\n          this.src = URL.createObjectURL(stream);\n        }\n      }\n    });\n  }\n  // Proxy existing globals\n  getUserMedia = window.navigator && window.navigator.getUserMedia;\n}\n\n// Attach a media stream to an element.\nattachMediaStream = function(element, stream) {\n  element.srcObject = stream;\n};\n\nreattachMediaStream = function(to, from) {\n  to.srcObject = from.srcObject;\n};\n\nif (typeof window === 'undefined' || !window.navigator) {\n  webrtcUtils.log('This does not appear to be a browser');\n  webrtcDetectedBrowser = 'not a browser';\n} else if (navigator.mozGetUserMedia && window.mozRTCPeerConnection) {\n  webrtcUtils.log('This appears to be Firefox');\n\n  webrtcDetectedBrowser = 'firefox';\n\n  // the detected firefox version.\n  webrtcDetectedVersion = webrtcUtils.extractVersion(navigator.userAgent,\n      /Firefox\\/([0-9]+)\\./, 1);\n\n  // the minimum firefox version still supported by adapter.\n  webrtcMinimumVersion = 31;\n\n  // The RTCPeerConnection object.\n  window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n    if (webrtcDetectedVersion < 38) {\n      // .urls is not supported in FF < 38.\n      // create RTCIceServers with a single url.\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (server.hasOwnProperty('urls')) {\n            for (var j = 0; j < server.urls.length; j++) {\n              var newServer = {\n                url: server.urls[j]\n              };\n              if (server.urls[j].indexOf('turn') === 0) {\n                newServer.username = server.username;\n                newServer.credential = server.credential;\n              }\n              newIceServers.push(newServer);\n            }\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n    }\n    return new mozRTCPeerConnection(pcConfig, pcConstraints); // jscs:ignore requireCapitalizedConstructors\n  };\n\n  // The RTCSessionDescription object.\n  if (!window.RTCSessionDescription) {\n    window.RTCSessionDescription = mozRTCSessionDescription;\n  }\n\n  // The RTCIceCandidate object.\n  if (!window.RTCIceCandidate) {\n    window.RTCIceCandidate = mozRTCIceCandidate;\n  }\n\n  // getUserMedia constraints shim.\n  getUserMedia = function(constraints, onSuccess, onError) {\n    var constraintsToFF37 = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r.min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    if (webrtcDetectedVersion < 38) {\n      webrtcUtils.log('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37(constraints.video);\n      }\n      webrtcUtils.log('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, onError);\n  };\n\n  navigator.getUserMedia = getUserMedia;\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: requestUserMedia,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n    return new Promise(function(resolve) {\n      var infos = [\n        {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n        {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n      ];\n      resolve(infos);\n    });\n  };\n\n  if (webrtcDetectedVersion < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n} else if (navigator.webkitGetUserMedia && window.webkitRTCPeerConnection) {\n  webrtcUtils.log('This appears to be Chrome');\n\n  webrtcDetectedBrowser = 'chrome';\n\n  // the detected chrome version.\n  webrtcDetectedVersion = webrtcUtils.extractVersion(navigator.userAgent,\n      /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\n  // the minimum chrome version still supported by adapter.\n  webrtcMinimumVersion = 38;\n\n  // The RTCPeerConnection object.\n  window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n    // Translate iceTransportPolicy to iceTransports,\n    // see https://code.google.com/p/webrtc/issues/detail?id=4869\n    if (pcConfig && pcConfig.iceTransportPolicy) {\n      pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n    }\n\n    var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints); // jscs:ignore requireCapitalizedConstructors\n    var origGetStats = pc.getStats.bind(pc);\n    pc.getStats = function(selector, successCallback, errorCallback) { // jshint ignore: line\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats(selector, successCallback);\n      }\n\n      var fixChromeStats = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper = function(response) {\n          args[1](fixChromeStats(response));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper, arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        if (args.length === 1 && selector === null) {\n          origGetStats.apply(self, [\n              function(response) {\n                resolve.apply(null, [fixChromeStats(response)]);\n              }, reject]);\n        } else {\n          origGetStats.apply(self, [resolve, reject]);\n        }\n      });\n    };\n\n    return pc;\n  };\n\n  // add promise support\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    var nativeMethod = webkitRTCPeerConnection.prototype[method];\n    webkitRTCPeerConnection.prototype[method] = function() {\n      var self = this;\n      if (arguments.length < 1 || (arguments.length === 1 &&\n          typeof(arguments[0]) === 'object')) {\n        var opts = arguments.length === 1 ? arguments[0] : undefined;\n        return new Promise(function(resolve, reject) {\n          nativeMethod.apply(self, [resolve, reject, opts]);\n        });\n      } else {\n        return nativeMethod.apply(this, arguments);\n      }\n    };\n  });\n\n  ['setLocalDescription', 'setRemoteDescription',\n      'addIceCandidate'].forEach(function(method) {\n    var nativeMethod = webkitRTCPeerConnection.prototype[method];\n    webkitRTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        nativeMethod.apply(self, [args[0],\n            function() {\n              resolve();\n              if (args.length >= 2) {\n                args[1].apply(null, []);\n              }\n            },\n            function(err) {\n              reject(err);\n              if (args.length >= 3) {\n                args[2].apply(null, [err]);\n              }\n            }]\n          );\n      });\n    };\n  });\n\n  // getUserMedia constraints shim.\n  var constraintsToChrome = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  getUserMedia = function(constraints, onSuccess, onError) {\n    if (constraints.audio) {\n      constraints.audio = constraintsToChrome(constraints.audio);\n    }\n    if (constraints.video) {\n      constraints.video = constraintsToChrome(constraints.video);\n    }\n    webrtcUtils.log('chrome: ' + JSON.stringify(constraints));\n    return navigator.webkitGetUserMedia(constraints, onSuccess, onError);\n  };\n  navigator.getUserMedia = getUserMedia;\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: requestUserMedia,\n                              enumerateDevices: function() {\n      return new Promise(function(resolve) {\n        var kinds = {audio: 'audioinput', video: 'videoinput'};\n        return MediaStreamTrack.getSources(function(devices) {\n          resolve(devices.map(function(device) {\n            return {label: device.label,\n                    kind: kinds[device.kind],\n                    deviceId: device.id,\n                    groupId: ''};\n          }));\n        });\n      });\n    }};\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return requestUserMedia(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      webrtcUtils.log('spec:   ' + JSON.stringify(c)); // whitespace for alignment\n      c.audio = constraintsToChrome(c.audio);\n      c.video = constraintsToChrome(c.video);\n      webrtcUtils.log('chrome: ' + JSON.stringify(c));\n      return origGetUserMedia(c);\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      webrtcUtils.log('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      webrtcUtils.log('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n\n  // Attach a media stream to an element.\n  attachMediaStream = function(element, stream) {\n    if (webrtcDetectedVersion >= 43) {\n      element.srcObject = stream;\n    } else if (typeof element.src !== 'undefined') {\n      element.src = URL.createObjectURL(stream);\n    } else {\n      webrtcUtils.log('Error attaching stream to element.');\n    }\n  };\n  reattachMediaStream = function(to, from) {\n    if (webrtcDetectedVersion >= 43) {\n      to.srcObject = from.srcObject;\n    } else {\n      to.src = from.src;\n    }\n  };\n\n} else if (navigator.mediaDevices && navigator.userAgent.match(\n    /Edge\\/(\\d+).(\\d+)$/)) {\n  webrtcUtils.log('This appears to be Edge');\n  webrtcDetectedBrowser = 'edge';\n\n  webrtcDetectedVersion = webrtcUtils.extractVersion(navigator.userAgent,\n      /Edge\\/(\\d+).(\\d+)$/, 2);\n\n  // the minimum version still supported by adapter.\n  webrtcMinimumVersion = 12;\n} else {\n  webrtcUtils.log('Browser does not appear to be WebRTC-capable');\n}\n\n// Returns the result of getUserMedia as a Promise.\nfunction requestUserMedia(constraints) {\n  return new Promise(function(resolve, reject) {\n    getUserMedia(constraints, resolve, reject);\n  });\n}\n\nvar webrtcTesting = {};\ntry {\n  Object.defineProperty(webrtcTesting, 'version', {\n    set: function(version) {\n      webrtcDetectedVersion = version;\n    }\n  });\n} catch (e) {}\n\nif (typeof module !== 'undefined') {\n  var RTCPeerConnection;\n  if (typeof window !== 'undefined') {\n    RTCPeerConnection = window.RTCPeerConnection;\n  }\n  module.exports = {\n    RTCPeerConnection: RTCPeerConnection,\n    getUserMedia: getUserMedia,\n    attachMediaStream: attachMediaStream,\n    reattachMediaStream: reattachMediaStream,\n    webrtcDetectedBrowser: webrtcDetectedBrowser,\n    webrtcDetectedVersion: webrtcDetectedVersion,\n    webrtcMinimumVersion: webrtcMinimumVersion,\n    webrtcTesting: webrtcTesting,\n    webrtcUtils: webrtcUtils\n    //requestUserMedia: not exposed on purpose.\n    //trace: not exposed on purpose.\n  };\n} else if ((typeof require === 'function') && (typeof define === 'function')) {\n  // Expose objects and functions when RequireJS is doing the loading.\n  define([], function() {\n    return {\n      RTCPeerConnection: window.RTCPeerConnection,\n      getUserMedia: getUserMedia,\n      attachMediaStream: attachMediaStream,\n      reattachMediaStream: reattachMediaStream,\n      webrtcDetectedBrowser: webrtcDetectedBrowser,\n      webrtcDetectedVersion: webrtcDetectedVersion,\n      webrtcMinimumVersion: webrtcMinimumVersion,\n      webrtcTesting: webrtcTesting,\n      webrtcUtils: webrtcUtils\n      //requestUserMedia: not exposed on purpose.\n      //trace: not exposed on purpose.\n    };\n  });\n}\n\n},{}],7:[function(require,module,exports){\nvar WildEmitter = require('wildemitter');\n\nfunction getMaxVolume (analyser, fftBins) {\n  var maxVolume = -Infinity;\n  analyser.getFloatFrequencyData(fftBins);\n\n  for(var i=4, ii=fftBins.length; i < ii; i++) {\n    if (fftBins[i] > maxVolume && fftBins[i] < 0) {\n      maxVolume = fftBins[i];\n    }\n  };\n\n  return maxVolume;\n}\n\n\nvar audioContextType = window.AudioContext || window.webkitAudioContext;\n// use a single audio context due to hardware limits\nvar audioContext = null;\nmodule.exports = function(stream, options) {\n  var harker = new WildEmitter();\n\n\n  // make it not break in non-supported browsers\n  if (!audioContextType) return harker;\n\n  //Config\n  var options = options || {},\n      smoothing = (options.smoothing || 0.1),\n      interval = (options.interval || 50),\n      threshold = options.threshold,\n      play = options.play,\n      history = options.history || 10,\n      running = true;\n\n  //Setup Audio Context\n  if (!audioContext) {\n    audioContext = new audioContextType();\n  }\n  var sourceNode, fftBins, analyser;\n\n  analyser = audioContext.createAnalyser();\n  analyser.fftSize = 512;\n  analyser.smoothingTimeConstant = smoothing;\n  fftBins = new Float32Array(analyser.fftSize);\n\n  if (stream.jquery) stream = stream[0];\n  if (stream instanceof HTMLAudioElement || stream instanceof HTMLVideoElement) {\n    //Audio Tag\n    sourceNode = audioContext.createMediaElementSource(stream);\n    if (typeof play === 'undefined') play = true;\n    threshold = threshold || -50;\n  } else {\n    //WebRTC Stream\n    sourceNode = audioContext.createMediaStreamSource(stream);\n    threshold = threshold || -50;\n  }\n\n  sourceNode.connect(analyser);\n  if (play) analyser.connect(audioContext.destination);\n\n  harker.speaking = false;\n\n  harker.setThreshold = function(t) {\n    threshold = t;\n  };\n\n  harker.setInterval = function(i) {\n    interval = i;\n  };\n  \n  harker.stop = function() {\n    running = false;\n    harker.emit('volume_change', -100, threshold);\n    if (harker.speaking) {\n      harker.speaking = false;\n      harker.emit('stopped_speaking');\n    }\n  };\n  harker.speakingHistory = [];\n  for (var i = 0; i < history; i++) {\n      harker.speakingHistory.push(0);\n  }\n\n  // Poll the analyser node to determine if speaking\n  // and emit events if changed\n  var looper = function() {\n    setTimeout(function() {\n    \n      //check if stop has been called\n      if(!running) {\n        return;\n      }\n      \n      var currentVolume = getMaxVolume(analyser, fftBins);\n\n      harker.emit('volume_change', currentVolume, threshold);\n\n      var history = 0;\n      if (currentVolume > threshold && !harker.speaking) {\n        // trigger quickly, short history\n        for (var i = harker.speakingHistory.length - 3; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history >= 2) {\n          harker.speaking = true;\n          harker.emit('speaking');\n        }\n      } else if (currentVolume < threshold && harker.speaking) {\n        for (var i = 0; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history == 0) {\n          harker.speaking = false;\n          harker.emit('stopped_speaking');\n        }\n      }\n      harker.speakingHistory.shift();\n      harker.speakingHistory.push(0 + (currentVolume > threshold));\n\n      looper();\n    }, interval);\n  };\n  looper();\n\n\n  return harker;\n}\n\n},{\"wildemitter\":8}],8:[function(require,module,exports){\n/*\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based \non @visionmedia's Emitter from UI Kit.\n\nWhy? I wanted it standalone.\n\nI also wanted support for wildcard emitters like this:\n\nemitter.on('*', function (eventName, other, event, payloads) {\n    \n});\n\nemitter.on('somenamespace*', function (eventName, payloads) {\n    \n});\n\nPlease note that callbacks triggered by wildcard registered events also get \nthe event name as the first argument.\n*/\nmodule.exports = WildEmitter;\n\nfunction WildEmitter() {\n    this.callbacks = {};\n}\n\n// Listen on the given `event` with `fn`. Store a group name if present.\nWildEmitter.prototype.on = function (event, groupName, fn) {\n    var hasGroup = (arguments.length === 3),\n        group = hasGroup ? arguments[1] : undefined,\n        func = hasGroup ? arguments[2] : arguments[1];\n    func._groupName = group;\n    (this.callbacks[event] = this.callbacks[event] || []).push(func);\n    return this;\n};\n\n// Adds an `event` listener that will be invoked a single\n// time then automatically removed.\nWildEmitter.prototype.once = function (event, groupName, fn) {\n    var self = this,\n        hasGroup = (arguments.length === 3),\n        group = hasGroup ? arguments[1] : undefined,\n        func = hasGroup ? arguments[2] : arguments[1];\n    function on() {\n        self.off(event, on);\n        func.apply(this, arguments);\n    }\n    this.on(event, group, on);\n    return this;\n};\n\n// Unbinds an entire group\nWildEmitter.prototype.releaseGroup = function (groupName) {\n    var item, i, len, handlers;\n    for (item in this.callbacks) {\n        handlers = this.callbacks[item];\n        for (i = 0, len = handlers.length; i < len; i++) {\n            if (handlers[i]._groupName === groupName) {\n                //console.log('removing');\n                // remove it and shorten the array we're looping through\n                handlers.splice(i, 1);\n                i--;\n                len--;\n            }\n        }\n    }\n    return this;\n};\n\n// Remove the given callback for `event` or all\n// registered callbacks.\nWildEmitter.prototype.off = function (event, fn) {\n    var callbacks = this.callbacks[event],\n        i;\n\n    if (!callbacks) return this;\n\n    // remove all handlers\n    if (arguments.length === 1) {\n        delete this.callbacks[event];\n        return this;\n    }\n\n    // remove specific handler\n    i = callbacks.indexOf(fn);\n    callbacks.splice(i, 1);\n    if (callbacks.length === 0) {\n        delete this.callbacks[event];\n    }\n    return this;\n};\n\n/// Emit `event` with the given args.\n// also calls any `*` handlers\nWildEmitter.prototype.emit = function (event) {\n    var args = [].slice.call(arguments, 1),\n        callbacks = this.callbacks[event],\n        specialCallbacks = this.getWildcardCallbacks(event),\n        i,\n        len,\n        item,\n        listeners;\n\n    if (callbacks) {\n        listeners = callbacks.slice();\n        for (i = 0, len = listeners.length; i < len; ++i) {\n            if (listeners[i]) {\n                listeners[i].apply(this, args);\n            } else {\n                break;\n            }\n        }\n    }\n\n    if (specialCallbacks) {\n        len = specialCallbacks.length;\n        listeners = specialCallbacks.slice();\n        for (i = 0, len = listeners.length; i < len; ++i) {\n            if (listeners[i]) {\n                listeners[i].apply(this, [event].concat(args));\n            } else {\n                break;\n            }\n        }\n    }\n\n    return this;\n};\n\n// Helper for for finding special wildcard event handlers that match the event\nWildEmitter.prototype.getWildcardCallbacks = function (eventName) {\n    var item,\n        split,\n        result = [];\n\n    for (item in this.callbacks) {\n        split = item.split('*');\n        if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\n            result = result.concat(this.callbacks[item]);\n        }\n    }\n    return result;\n};\n\n},{}],9:[function(require,module,exports){\nvar support = require('webrtcsupport');\n\n\nfunction GainController(stream) {\n    this.support = support.webAudio && support.mediaStream;\n\n    // set our starting value\n    this.gain = 1;\n\n    if (this.support) {\n        var context = this.context = new support.AudioContext();\n        this.microphone = context.createMediaStreamSource(stream);\n        this.gainFilter = context.createGain();\n        this.destination = context.createMediaStreamDestination();\n        this.outputStream = this.destination.stream;\n        this.microphone.connect(this.gainFilter);\n        this.gainFilter.connect(this.destination);\n        stream.addTrack(this.outputStream.getAudioTracks()[0]);\n        stream.removeTrack(stream.getAudioTracks()[0]);\n    }\n    this.stream = stream;\n}\n\n// setting\nGainController.prototype.setGain = function (val) {\n    // check for support\n    if (!this.support) return;\n    this.gainFilter.gain.value = val;\n    this.gain = val;\n};\n\nGainController.prototype.getGain = function () {\n    return this.gain;\n};\n\nGainController.prototype.off = function () {\n    return this.setGain(0);\n};\n\nGainController.prototype.on = function () {\n    this.setGain(1);\n};\n\n\nmodule.exports = GainController;\n\n},{\"webrtcsupport\":43}],10:[function(require,module,exports){\nvar methods = \"assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn\".split(\",\");\nvar l = methods.length;\nvar fn = function () {};\nvar mockconsole = {};\n\nwhile (l--) {\n    mockconsole[methods[l]] = fn;\n}\n\nmodule.exports = mockconsole;\n\n},{}],11:[function(require,module,exports){\n/**\n * lodash 3.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar arrayEach = require('lodash._arrayeach'),\n    baseEach = require('lodash._baseeach'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray');\n\n/**\n * Creates a function for `_.forEach` or `_.forEachRight`.\n *\n * @private\n * @param {Function} arrayFunc The function to iterate over an array.\n * @param {Function} eachFunc The function to iterate over a collection.\n * @returns {Function} Returns the new each function.\n */\nfunction createForEach(arrayFunc, eachFunc) {\n  return function(collection, iteratee, thisArg) {\n    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n      ? arrayFunc(collection, iteratee)\n      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n  };\n}\n\n/**\n * Iterates over elements of `collection` invoking `iteratee` for each element.\n * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n * (value, index|key, collection). Iteratee functions may exit iteration early\n * by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n * may be used for object iteration.\n *\n * @static\n * @memberOf _\n * @alias each\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array|Object|string} Returns `collection`.\n * @example\n *\n * _([1, 2]).forEach(function(n) {\n *   console.log(n);\n * }).value();\n * // => logs each value from left to right and returns the array\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n *   console.log(n, key);\n * });\n * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n */\nvar forEach = createForEach(arrayEach, baseEach);\n\nmodule.exports = forEach;\n\n},{\"lodash._arrayeach\":12,\"lodash._baseeach\":13,\"lodash._bindcallback\":17,\"lodash.isarray\":18}],12:[function(require,module,exports){\n/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `_.forEach` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n\n},{}],13:[function(require,module,exports){\n/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys');\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.forEach` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object|string} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    var length = collection ? getLength(collection) : 0;\n    if (!isLength(length)) {\n      return eachFunc(collection, iteratee);\n    }\n    var index = fromRight ? length : -1,\n        iterable = toObject(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for `_.forIn` or `_.forInRight`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var key = props[index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseEach;\n\n},{\"lodash.keys\":14}],14:[function(require,module,exports){\n/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar getNative = require('lodash._getnative'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n\n},{\"lodash._getnative\":15,\"lodash.isarguments\":16,\"lodash.isarray\":18}],15:[function(require,module,exports){\n/**\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = getNative;\n\n},{}],16:[function(require,module,exports){\n/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n\n},{}],17:[function(require,module,exports){\n/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = bindCallback;\n\n},{}],18:[function(require,module,exports){\n/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]',\n    funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isArray;\n\n},{}],19:[function(require,module,exports){\n/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseGet = require('lodash._baseget'),\n    toPath = require('lodash._topath'),\n    isArray = require('lodash.isarray'),\n    map = require('lodash.map');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  var pathKey = (path + '');\n  path = toPath(path);\n  return function(object) {\n    return baseGet(object, path, pathKey);\n  };\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  var type = typeof value;\n  if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n    return true;\n  }\n  if (isArray(value)) {\n    return false;\n  }\n  var result = !reIsDeepProp.test(value);\n  return result || (object != null && value in toObject(object));\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Gets the property value of `path` from all elements in `collection`.\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Array|string} path The path of the property to pluck.\n * @returns {Array} Returns the property values.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 }\n * ];\n *\n * _.pluck(users, 'user');\n * // => ['barney', 'fred']\n *\n * var userIndex = _.indexBy(users, 'user');\n * _.pluck(userIndex, 'age');\n * // => [36, 40] (iteration order is not guaranteed)\n */\nfunction pluck(collection, path) {\n  return map(collection, property(path));\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates a function which returns the property value at `path` on a\n * given object.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = pluck;\n\n},{\"lodash._baseget\":20,\"lodash._topath\":21,\"lodash.isarray\":22,\"lodash.map\":23}],20:[function(require,module,exports){\n/**\n * lodash 3.7.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * The base implementation of `get` without support for string paths\n * and default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path of the property to get.\n * @param {string} [pathKey] The key representation of path.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path, pathKey) {\n  if (object == null) {\n    return;\n  }\n  if (pathKey !== undefined && pathKey in toObject(object)) {\n    path = [pathKey];\n  }\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseGet;\n\n},{}],21:[function(require,module,exports){\n/**\n * lodash 3.8.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar isArray = require('lodash.isarray');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  return value == null ? '' : (value + '');\n}\n\n/**\n * Converts `value` to property path array if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array} Returns the property path array.\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  var result = [];\n  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\nmodule.exports = toPath;\n\n},{\"lodash.isarray\":22}],22:[function(require,module,exports){\narguments[4][18][0].apply(exports,arguments)\n},{\"dup\":18}],23:[function(require,module,exports){\n/**\n * lodash 3.1.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar arrayMap = require('lodash._arraymap'),\n    baseCallback = require('lodash._basecallback'),\n    baseEach = require('lodash._baseeach'),\n    isArray = require('lodash.isarray');\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.map` without support for callback shorthands\n * and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Creates an array of values by running each element in `collection` through\n * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n * arguments: (value, index|key, collection).\n *\n * If a property name is provided for `iteratee` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `iteratee` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n * `sum`, `uniq`, and `words`\n *\n * @static\n * @memberOf _\n * @alias collect\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function timesThree(n) {\n *   return n * 3;\n * }\n *\n * _.map([1, 2], timesThree);\n * // => [3, 6]\n *\n * _.map({ 'a': 1, 'b': 2 }, timesThree);\n * // => [3, 6] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // using the `_.property` callback shorthand\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee, thisArg) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  iteratee = baseCallback(iteratee, thisArg, 3);\n  return func(collection, iteratee);\n}\n\nmodule.exports = map;\n\n},{\"lodash._arraymap\":24,\"lodash._basecallback\":25,\"lodash._baseeach\":30,\"lodash.isarray\":22}],24:[function(require,module,exports){\n/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `_.map` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n},{}],25:[function(require,module,exports){\n/**\n * lodash 3.3.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseIsEqual = require('lodash._baseisequal'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray'),\n    pairs = require('lodash.pairs');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  return value == null ? '' : (value + '');\n}\n\n/**\n * The base implementation of `_.callback` which supports specifying the\n * number of arguments to provide to `func`.\n *\n * @private\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction baseCallback(func, thisArg, argCount) {\n  var type = typeof func;\n  if (type == 'function') {\n    return thisArg === undefined\n      ? func\n      : bindCallback(func, thisArg, argCount);\n  }\n  if (func == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return baseMatches(func);\n  }\n  return thisArg === undefined\n    ? property(func)\n    : baseMatchesProperty(func, thisArg);\n}\n\n/**\n * The base implementation of `get` without support for string paths\n * and default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path of the property to get.\n * @param {string} [pathKey] The key representation of path.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path, pathKey) {\n  if (object == null) {\n    return;\n  }\n  if (pathKey !== undefined && pathKey in toObject(object)) {\n    path = [pathKey];\n  }\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isMatch` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Array} matchData The propery names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = toObject(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n      if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.matches` which does not clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    var key = matchData[0][0],\n        value = matchData[0][1];\n\n    return function(object) {\n      if (object == null) {\n        return false;\n      }\n      return object[key] === value && (value !== undefined || (key in toObject(object)));\n    };\n  }\n  return function(object) {\n    return baseIsMatch(object, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to compare.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  var isArr = isArray(path),\n      isCommon = isKey(path) && isStrictComparable(srcValue),\n      pathKey = (path + '');\n\n  path = toPath(path);\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    var key = pathKey;\n    object = toObject(object);\n    if ((isArr || !isCommon) && !(key in object)) {\n      object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n      if (object == null) {\n        return false;\n      }\n      key = last(path);\n      object = toObject(object);\n    }\n    return object[key] === srcValue\n      ? (srcValue !== undefined || (key in object))\n      : baseIsEqual(srcValue, object[key], undefined, true);\n  };\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  var pathKey = (path + '');\n  path = toPath(path);\n  return function(object) {\n    return baseGet(object, path, pathKey);\n  };\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  start = start == null ? 0 : (+start || 0);\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = (end === undefined || end > length) ? length : (+end || 0);\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Gets the propery names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = pairs(object),\n      length = result.length;\n\n  while (length--) {\n    result[length][2] = isStrictComparable(result[length][1]);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  var type = typeof value;\n  if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n    return true;\n  }\n  if (isArray(value)) {\n    return false;\n  }\n  var result = !reIsDeepProp.test(value);\n  return result || (object != null && value in toObject(object));\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Converts `value` to property path array if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array} Returns the property path array.\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  var result = [];\n  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the property value at `path` on a\n * given object.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = baseCallback;\n\n},{\"lodash._baseisequal\":26,\"lodash._bindcallback\":28,\"lodash.isarray\":22,\"lodash.pairs\":29}],26:[function(require,module,exports){\n/**\n * lodash 3.0.7 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar isArray = require('lodash.isarray'),\n    isTypedArray = require('lodash.istypedarray'),\n    keys = require('lodash.keys');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * A specialized version of `_.some` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.isEqual` without support for `this` binding\n * `customizer` functions.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = objToString.call(object);\n    if (objTag == argsTag) {\n      objTag = objectTag;\n    } else if (objTag != objectTag) {\n      objIsArr = isTypedArray(object);\n    }\n  }\n  if (!othIsArr) {\n    othTag = objToString.call(other);\n    if (othTag == argsTag) {\n      othTag = objectTag;\n    } else if (othTag != objectTag) {\n      othIsArr = isTypedArray(other);\n    }\n  }\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !(objIsArr || objIsObj)) {\n    return equalByTag(object, other, objTag);\n  }\n  if (!isLoose) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  // For more information on detecting circular references see https://es5.github.io/#JO.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == object) {\n      return stackB[length] == other;\n    }\n  }\n  // Add `object` and `other` to the stack of traversed objects.\n  stackA.push(object);\n  stackB.push(other);\n\n  var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n  stackA.pop();\n  stackB.pop();\n\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing arrays.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var index = -1,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n    return false;\n  }\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index],\n        result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n    if (result !== undefined) {\n      if (result) {\n        continue;\n      }\n      return false;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (isLoose) {\n      if (!arraySome(other, function(othValue) {\n            return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          })) {\n        return false;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} value The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag) {\n  switch (tag) {\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object)\n        ? other != +other\n        : object == +other;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isLoose) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  var skipCtor = isLoose;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key],\n        result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n      return false;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (!skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseIsEqual;\n\n},{\"lodash.isarray\":22,\"lodash.istypedarray\":27,\"lodash.keys\":31}],27:[function(require,module,exports){\n/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n\n},{}],28:[function(require,module,exports){\narguments[4][17][0].apply(exports,arguments)\n},{\"dup\":17}],29:[function(require,module,exports){\n/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys');\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates a two dimensional array of the key-value pairs for `object`,\n * e.g. `[[key1, value1], [key2, value2]]`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the new array of key-value pairs.\n * @example\n *\n * _.pairs({ 'barney': 36, 'fred': 40 });\n * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n */\nfunction pairs(object) {\n  object = toObject(object);\n\n  var index = -1,\n      props = keys(object),\n      length = props.length,\n      result = Array(length);\n\n  while (++index < length) {\n    var key = props[index];\n    result[index] = [key, object[key]];\n  }\n  return result;\n}\n\nmodule.exports = pairs;\n\n},{\"lodash.keys\":31}],30:[function(require,module,exports){\narguments[4][13][0].apply(exports,arguments)\n},{\"dup\":13,\"lodash.keys\":31}],31:[function(require,module,exports){\narguments[4][14][0].apply(exports,arguments)\n},{\"dup\":14,\"lodash._getnative\":32,\"lodash.isarguments\":33,\"lodash.isarray\":22}],32:[function(require,module,exports){\narguments[4][15][0].apply(exports,arguments)\n},{\"dup\":15}],33:[function(require,module,exports){\narguments[4][16][0].apply(exports,arguments)\n},{\"dup\":16}],34:[function(require,module,exports){\nvar toSDP = require('./lib/tosdp');\nvar toJSON = require('./lib/tojson');\n\n\n// Converstion from JSON to SDP\n\nexports.toIncomingSDPOffer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'responder',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingSDPOffer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'initiator',\n        direction: 'outgoing'\n    });\n};\nexports.toIncomingSDPAnswer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'initiator',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingSDPAnswer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'responder',\n        direction: 'outgoing'\n    });\n};\nexports.toIncomingMediaSDPOffer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'responder',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingMediaSDPOffer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'initiator',\n        direction: 'outgoing'\n    });\n};\nexports.toIncomingMediaSDPAnswer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'initiator',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingMediaSDPAnswer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'responder',\n        direction: 'outgoing'\n    });\n};\nexports.toCandidateSDP = toSDP.toCandidateSDP;\nexports.toMediaSDP = toSDP.toMediaSDP;\nexports.toSessionSDP = toSDP.toSessionSDP;\n\n\n// Conversion from SDP to JSON\n\nexports.toIncomingJSONOffer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'responder',\n        direction: 'incoming',\n        creators: creators\n    });\n};\nexports.toOutgoingJSONOffer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'initiator',\n        direction: 'outgoing',\n        creators: creators\n    });\n};\nexports.toIncomingJSONAnswer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'initiator',\n        direction: 'incoming',\n        creators: creators\n    });\n};\nexports.toOutgoingJSONAnswer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'responder',\n        direction: 'outgoing',\n        creators: creators\n    });\n};\nexports.toIncomingMediaJSONOffer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'responder',\n        direction: 'incoming',\n        creator: creator\n    });\n};\nexports.toOutgoingMediaJSONOffer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'initiator',\n        direction: 'outgoing',\n        creator: creator\n    });\n};\nexports.toIncomingMediaJSONAnswer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'initiator',\n        direction: 'incoming',\n        creator: creator\n    });\n};\nexports.toOutgoingMediaJSONAnswer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'responder',\n        direction: 'outgoing',\n        creator: creator\n    });\n};\nexports.toCandidateJSON = toJSON.toCandidateJSON;\nexports.toMediaJSON = toJSON.toMediaJSON;\nexports.toSessionJSON = toJSON.toSessionJSON;\n\n},{\"./lib/tojson\":37,\"./lib/tosdp\":38}],35:[function(require,module,exports){\nexports.lines = function (sdp) {\n    return sdp.split('\\r\\n').filter(function (line) {\n        return line.length > 0;\n    });\n};\n\nexports.findLine = function (prefix, mediaLines, sessionLines) {\n    var prefixLength = prefix.length;\n    for (var i = 0; i < mediaLines.length; i++) {\n        if (mediaLines[i].substr(0, prefixLength) === prefix) {\n            return mediaLines[i];\n        }\n    }\n    // Continue searching in parent session section\n    if (!sessionLines) {\n        return false;\n    }\n\n    for (var j = 0; j < sessionLines.length; j++) {\n        if (sessionLines[j].substr(0, prefixLength) === prefix) {\n            return sessionLines[j];\n        }\n    }\n\n    return false;\n};\n\nexports.findLines = function (prefix, mediaLines, sessionLines) {\n    var results = [];\n    var prefixLength = prefix.length;\n    for (var i = 0; i < mediaLines.length; i++) {\n        if (mediaLines[i].substr(0, prefixLength) === prefix) {\n            results.push(mediaLines[i]);\n        }\n    }\n    if (results.length || !sessionLines) {\n        return results;\n    }\n    for (var j = 0; j < sessionLines.length; j++) {\n        if (sessionLines[j].substr(0, prefixLength) === prefix) {\n            results.push(sessionLines[j]);\n        }\n    }\n    return results;\n};\n\nexports.mline = function (line) {\n    var parts = line.substr(2).split(' ');\n    var parsed = {\n        media: parts[0],\n        port: parts[1],\n        proto: parts[2],\n        formats: []\n    };\n    for (var i = 3; i < parts.length; i++) {\n        if (parts[i]) {\n            parsed.formats.push(parts[i]);\n        }\n    }\n    return parsed;\n};\n\nexports.rtpmap = function (line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {\n        id: parts.shift()\n    };\n\n    parts = parts[0].split('/');\n\n    parsed.name = parts[0];\n    parsed.clockrate = parts[1];\n    parsed.channels = parts.length == 3 ? parts[2] : '1';\n    return parsed;\n};\n\nexports.sctpmap = function (line) {\n    // based on -05 draft\n    var parts = line.substr(10).split(' ');\n    var parsed = {\n        number: parts.shift(),\n        protocol: parts.shift(),\n        streams: parts.shift()\n    };\n    return parsed;\n};\n\n\nexports.fmtp = function (line) {\n    var kv, key, value;\n    var parts = line.substr(line.indexOf(' ') + 1).split(';');\n    var parsed = [];\n    for (var i = 0; i < parts.length; i++) {\n        kv = parts[i].split('=');\n        key = kv[0].trim();\n        value = kv[1];\n        if (key && value) {\n            parsed.push({key: key, value: value});\n        } else if (key) {\n            parsed.push({key: '', value: key});\n        }\n    }\n    return parsed;\n};\n\nexports.crypto = function (line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {\n        tag: parts[0],\n        cipherSuite: parts[1],\n        keyParams: parts[2],\n        sessionParams: parts.slice(3).join(' ')\n    };\n    return parsed;\n};\n\nexports.fingerprint = function (line) {\n    var parts = line.substr(14).split(' ');\n    return {\n        hash: parts[0],\n        value: parts[1]\n    };\n};\n\nexports.extmap = function (line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {};\n\n    var idpart = parts.shift();\n    var sp = idpart.indexOf('/');\n    if (sp >= 0) {\n        parsed.id = idpart.substr(0, sp);\n        parsed.senders = idpart.substr(sp + 1);\n    } else {\n        parsed.id = idpart;\n        parsed.senders = 'sendrecv';\n    }\n\n    parsed.uri = parts.shift() || '';\n\n    return parsed;\n};\n\nexports.rtcpfb = function (line) {\n    var parts = line.substr(10).split(' ');\n    var parsed = {};\n    parsed.id = parts.shift();\n    parsed.type = parts.shift();\n    if (parsed.type === 'trr-int') {\n        parsed.value = parts.shift();\n    } else {\n        parsed.subtype = parts.shift() || '';\n    }\n    parsed.parameters = parts;\n    return parsed;\n};\n\nexports.candidate = function (line) {\n    var parts;\n    if (line.indexOf('a=candidate:') === 0) {\n        parts = line.substring(12).split(' ');\n    } else { // no a=candidate\n        parts = line.substring(10).split(' ');\n    }\n\n    var candidate = {\n        foundation: parts[0],\n        component: parts[1],\n        protocol: parts[2].toLowerCase(),\n        priority: parts[3],\n        ip: parts[4],\n        port: parts[5],\n        // skip parts[6] == 'typ'\n        type: parts[7],\n        generation: '0'\n    };\n\n    for (var i = 8; i < parts.length; i += 2) {\n        if (parts[i] === 'raddr') {\n            candidate.relAddr = parts[i + 1];\n        } else if (parts[i] === 'rport') {\n            candidate.relPort = parts[i + 1];\n        } else if (parts[i] === 'generation') {\n            candidate.generation = parts[i + 1];\n        } else if (parts[i] === 'tcptype') {\n            candidate.tcpType = parts[i + 1];\n        }\n    }\n\n    candidate.network = '1';\n\n    return candidate;\n};\n\nexports.sourceGroups = function (lines) {\n    var parsed = [];\n    for (var i = 0; i < lines.length; i++) {\n        var parts = lines[i].substr(13).split(' ');\n        parsed.push({\n            semantics: parts.shift(),\n            sources: parts\n        });\n    }\n    return parsed;\n};\n\nexports.sources = function (lines) {\n    // http://tools.ietf.org/html/rfc5576\n    var parsed = [];\n    var sources = {};\n    for (var i = 0; i < lines.length; i++) {\n        var parts = lines[i].substr(7).split(' ');\n        var ssrc = parts.shift();\n\n        if (!sources[ssrc]) {\n            var source = {\n                ssrc: ssrc,\n                parameters: []\n            };\n            parsed.push(source);\n\n            // Keep an index\n            sources[ssrc] = source;\n        }\n\n        parts = parts.join(' ').split(':');\n        var attribute = parts.shift();\n        var value = parts.join(':') || null;\n\n        sources[ssrc].parameters.push({\n            key: attribute,\n            value: value\n        });\n    }\n\n    return parsed;\n};\n\nexports.groups = function (lines) {\n    // http://tools.ietf.org/html/rfc5888\n    var parsed = [];\n    var parts;\n    for (var i = 0; i < lines.length; i++) {\n        parts = lines[i].substr(8).split(' ');\n        parsed.push({\n            semantics: parts.shift(),\n            contents: parts\n        });\n    }\n    return parsed;\n};\n\nexports.bandwidth = function (line) {\n    var parts = line.substr(2).split(':');\n    var parsed = {};\n    parsed.type = parts.shift();\n    parsed.bandwidth = parts.shift();\n    return parsed;\n};\n\nexports.msid = function (line) {\n    var data = line.substr(7);\n    var parts = data.split(' ');\n    return {\n        msid: data,\n        mslabel: parts[0],\n        label: parts[1]\n    };\n};\n\n},{}],36:[function(require,module,exports){\nmodule.exports = {\n    initiator: {\n        incoming: {\n            initiator: 'recvonly',\n            responder: 'sendonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'initiator',\n            sendonly: 'responder',\n            sendrecv: 'both',\n            inactive: 'none'\n        },\n        outgoing: {\n            initiator: 'sendonly',\n            responder: 'recvonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'responder',\n            sendonly: 'initiator',\n            sendrecv: 'both',\n            inactive: 'none'\n        }\n    },\n    responder: {\n        incoming: {\n            initiator: 'sendonly',\n            responder: 'recvonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'responder',\n            sendonly: 'initiator',\n            sendrecv: 'both',\n            inactive: 'none'\n        },\n        outgoing: {\n            initiator: 'recvonly',\n            responder: 'sendonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'initiator',\n            sendonly: 'responder',\n            sendrecv: 'both',\n            inactive: 'none'\n        }\n    }\n};\n\n},{}],37:[function(require,module,exports){\nvar SENDERS = require('./senders');\nvar parsers = require('./parsers');\nvar idCounter = Math.random();\n\n\nexports._setIdCounter = function (counter) {\n    idCounter = counter;\n};\n\nexports.toSessionJSON = function (sdp, opts) {\n    var i;\n    var creators = opts.creators || [];\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n\n\n    // Divide the SDP into session and media sections.\n    var media = sdp.split('\\r\\nm=');\n    for (i = 1; i < media.length; i++) {\n        media[i] = 'm=' + media[i];\n        if (i !== media.length - 1) {\n            media[i] += '\\r\\n';\n        }\n    }\n    var session = media.shift() + '\\r\\n';\n    var sessionLines = parsers.lines(session);\n    var parsed = {};\n\n    var contents = [];\n    for (i = 0; i < media.length; i++) {\n        contents.push(exports.toMediaJSON(media[i], session, {\n            role: role,\n            direction: direction,\n            creator: creators[i] || 'initiator'\n        }));\n    }\n    parsed.contents = contents;\n\n    var groupLines = parsers.findLines('a=group:', sessionLines);\n    if (groupLines.length) {\n        parsed.groups = parsers.groups(groupLines);\n    }\n\n    return parsed;\n};\n\nexports.toMediaJSON = function (media, session, opts) {\n    var creator = opts.creator || 'initiator';\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n\n    var lines = parsers.lines(media);\n    var sessionLines = parsers.lines(session);\n    var mline = parsers.mline(lines[0]);\n\n    var content = {\n        creator: creator,\n        name: mline.media,\n        description: {\n            descType: 'rtp',\n            media: mline.media,\n            payloads: [],\n            encryption: [],\n            feedback: [],\n            headerExtensions: []\n        },\n        transport: {\n            transType: 'iceUdp',\n            candidates: [],\n            fingerprints: []\n        }\n    };\n    if (mline.media == 'application') {\n        // FIXME: the description is most likely to be independent\n        // of the SDP and should be processed by other parts of the library\n        content.description = {\n            descType: 'datachannel'\n        };\n        content.transport.sctp = [];\n    }\n    var desc = content.description;\n    var trans = content.transport;\n\n    // If we have a mid, use that for the content name instead.\n    var mid = parsers.findLine('a=mid:', lines);\n    if (mid) {\n        content.name = mid.substr(6);\n    }\n\n    if (parsers.findLine('a=sendrecv', lines, sessionLines)) {\n        content.senders = 'both';\n    } else if (parsers.findLine('a=sendonly', lines, sessionLines)) {\n        content.senders = SENDERS[role][direction].sendonly;\n    } else if (parsers.findLine('a=recvonly', lines, sessionLines)) {\n        content.senders = SENDERS[role][direction].recvonly;\n    } else if (parsers.findLine('a=inactive', lines, sessionLines)) {\n        content.senders = 'none';\n    }\n\n    if (desc.descType == 'rtp') {\n        var bandwidth = parsers.findLine('b=', lines);\n        if (bandwidth) {\n            desc.bandwidth = parsers.bandwidth(bandwidth);\n        }\n\n        var ssrc = parsers.findLine('a=ssrc:', lines);\n        if (ssrc) {\n            desc.ssrc = ssrc.substr(7).split(' ')[0];\n        }\n\n        var rtpmapLines = parsers.findLines('a=rtpmap:', lines);\n        rtpmapLines.forEach(function (line) {\n            var payload = parsers.rtpmap(line);\n            payload.parameters = [];\n            payload.feedback = [];\n\n            var fmtpLines = parsers.findLines('a=fmtp:' + payload.id, lines);\n            // There should only be one fmtp line per payload\n            fmtpLines.forEach(function (line) {\n                payload.parameters = parsers.fmtp(line);\n            });\n\n            var fbLines = parsers.findLines('a=rtcp-fb:' + payload.id, lines);\n            fbLines.forEach(function (line) {\n                payload.feedback.push(parsers.rtcpfb(line));\n            });\n\n            desc.payloads.push(payload);\n        });\n\n        var cryptoLines = parsers.findLines('a=crypto:', lines, sessionLines);\n        cryptoLines.forEach(function (line) {\n            desc.encryption.push(parsers.crypto(line));\n        });\n\n        if (parsers.findLine('a=rtcp-mux', lines)) {\n            desc.mux = true;\n        }\n\n        var fbLines = parsers.findLines('a=rtcp-fb:*', lines);\n        fbLines.forEach(function (line) {\n            desc.feedback.push(parsers.rtcpfb(line));\n        });\n\n        var extLines = parsers.findLines('a=extmap:', lines);\n        extLines.forEach(function (line) {\n            var ext = parsers.extmap(line);\n\n            ext.senders = SENDERS[role][direction][ext.senders];\n\n            desc.headerExtensions.push(ext);\n        });\n\n        var ssrcGroupLines = parsers.findLines('a=ssrc-group:', lines);\n        desc.sourceGroups = parsers.sourceGroups(ssrcGroupLines || []);\n\n        var ssrcLines = parsers.findLines('a=ssrc:', lines);\n        var sources = desc.sources = parsers.sources(ssrcLines || []);\n\n        var msidLine = parsers.findLine('a=msid:', lines);\n        if (msidLine) {\n            var msid = parsers.msid(msidLine);\n            ['msid', 'mslabel', 'label'].forEach(function (key) {\n                for (var i = 0; i < sources.length; i++) {\n                    var found = false;\n                    for (var j = 0; j < sources[i].parameters.length; j++) {\n                        if (sources[i].parameters[j].key === key) {\n                            found = true;\n                        }\n                    }\n                    if (!found) {\n                        sources[i].parameters.push({ key: key, value: msid[key] });\n                    }\n                }\n            });\n        }\n\n        if (parsers.findLine('a=x-google-flag:conference', lines, sessionLines)) {\n            desc.googConferenceFlag = true;\n        }\n    }\n\n    // transport specific attributes\n    var fingerprintLines = parsers.findLines('a=fingerprint:', lines, sessionLines);\n    var setup = parsers.findLine('a=setup:', lines, sessionLines);\n    fingerprintLines.forEach(function (line) {\n        var fp = parsers.fingerprint(line);\n        if (setup) {\n            fp.setup = setup.substr(8);\n        }\n        trans.fingerprints.push(fp);\n    });\n\n    var ufragLine = parsers.findLine('a=ice-ufrag:', lines, sessionLines);\n    var pwdLine = parsers.findLine('a=ice-pwd:', lines, sessionLines);\n    if (ufragLine && pwdLine) {\n        trans.ufrag = ufragLine.substr(12);\n        trans.pwd = pwdLine.substr(10);\n        trans.candidates = [];\n\n        var candidateLines = parsers.findLines('a=candidate:', lines, sessionLines);\n        candidateLines.forEach(function (line) {\n            trans.candidates.push(exports.toCandidateJSON(line));\n        });\n    }\n\n    if (desc.descType == 'datachannel') {\n        var sctpmapLines = parsers.findLines('a=sctpmap:', lines);\n        sctpmapLines.forEach(function (line) {\n            var sctp = parsers.sctpmap(line);\n            trans.sctp.push(sctp);\n        });\n    }\n\n    return content;\n};\n\nexports.toCandidateJSON = function (line) {\n    var candidate = parsers.candidate(line.split('\\r\\n')[0]);\n    candidate.id = (idCounter++).toString(36).substr(0, 12);\n    return candidate;\n};\n\n},{\"./parsers\":35,\"./senders\":36}],38:[function(require,module,exports){\nvar SENDERS = require('./senders');\n\n\nexports.toSessionSDP = function (session, opts) {\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n    var sid = opts.sid || session.sid || Date.now();\n    var time = opts.time || Date.now();\n\n    var sdp = [\n        'v=0',\n        'o=- ' + sid + ' ' + time + ' IN IP4 0.0.0.0',\n        's=-',\n        't=0 0',\n        'a=msid-semantic: WMS *'\n    ];\n\n    var groups = session.groups || [];\n    groups.forEach(function (group) {\n        sdp.push('a=group:' + group.semantics + ' ' + group.contents.join(' '));\n    });\n\n    var contents = session.contents || [];\n    contents.forEach(function (content) {\n        sdp.push(exports.toMediaSDP(content, opts));\n    });\n\n    return sdp.join('\\r\\n') + '\\r\\n';\n};\n\nexports.toMediaSDP = function (content, opts) {\n    var sdp = [];\n\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n\n    var desc = content.description;\n    var transport = content.transport;\n    var payloads = desc.payloads || [];\n    var fingerprints = (transport && transport.fingerprints) || [];\n\n    var mline = [];\n    if (desc.descType == 'datachannel') {\n        mline.push('application');\n        mline.push('1');\n        mline.push('DTLS/SCTP');\n        if (transport.sctp) {\n            transport.sctp.forEach(function (map) {\n                mline.push(map.number);\n            });\n        }\n    } else {\n        mline.push(desc.media);\n        mline.push('1');\n        if ((desc.encryption && desc.encryption.length > 0) || (fingerprints.length > 0)) {\n            mline.push('RTP/SAVPF');\n        } else {\n            mline.push('RTP/AVPF');\n        }\n        payloads.forEach(function (payload) {\n            mline.push(payload.id);\n        });\n    }\n\n\n    sdp.push('m=' + mline.join(' '));\n\n    sdp.push('c=IN IP4 0.0.0.0');\n    if (desc.bandwidth && desc.bandwidth.type && desc.bandwidth.bandwidth) {\n        sdp.push('b=' + desc.bandwidth.type + ':' + desc.bandwidth.bandwidth);\n    }\n    if (desc.descType == 'rtp') {\n        sdp.push('a=rtcp:1 IN IP4 0.0.0.0');\n    }\n\n    if (transport) {\n        if (transport.ufrag) {\n            sdp.push('a=ice-ufrag:' + transport.ufrag);\n        }\n        if (transport.pwd) {\n            sdp.push('a=ice-pwd:' + transport.pwd);\n        }\n\n        var pushedSetup = false;\n        fingerprints.forEach(function (fingerprint) {\n            sdp.push('a=fingerprint:' + fingerprint.hash + ' ' + fingerprint.value);\n            if (fingerprint.setup && !pushedSetup) {\n                sdp.push('a=setup:' + fingerprint.setup);\n            }\n        });\n\n        if (transport.sctp) {\n            transport.sctp.forEach(function (map) {\n                sdp.push('a=sctpmap:' + map.number + ' ' + map.protocol + ' ' + map.streams);\n            });\n        }\n    }\n\n    if (desc.descType == 'rtp') {\n        sdp.push('a=' + (SENDERS[role][direction][content.senders] || 'sendrecv'));\n    }\n    sdp.push('a=mid:' + content.name);\n\n    if (desc.sources && desc.sources.length) {\n        (desc.sources[0].parameters || []).forEach(function (param) {\n            if (param.key === 'msid') {\n                sdp.push('a=msid:' + param.value);\n            }\n        });\n    }\n\n    if (desc.mux) {\n        sdp.push('a=rtcp-mux');\n    }\n\n    var encryption = desc.encryption || [];\n    encryption.forEach(function (crypto) {\n        sdp.push('a=crypto:' + crypto.tag + ' ' + crypto.cipherSuite + ' ' + crypto.keyParams + (crypto.sessionParams ? ' ' + crypto.sessionParams : ''));\n    });\n    if (desc.googConferenceFlag) {\n        sdp.push('a=x-google-flag:conference');\n    }\n\n    payloads.forEach(function (payload) {\n        var rtpmap = 'a=rtpmap:' + payload.id + ' ' + payload.name + '/' + payload.clockrate;\n        if (payload.channels && payload.channels != '1') {\n            rtpmap += '/' + payload.channels;\n        }\n        sdp.push(rtpmap);\n\n        if (payload.parameters && payload.parameters.length) {\n            var fmtp = ['a=fmtp:' + payload.id];\n            var parameters = [];\n            payload.parameters.forEach(function (param) {\n                parameters.push((param.key ? param.key + '=' : '') + param.value);\n            });\n            fmtp.push(parameters.join(';'));\n            sdp.push(fmtp.join(' '));\n        }\n\n        if (payload.feedback) {\n            payload.feedback.forEach(function (fb) {\n                if (fb.type === 'trr-int') {\n                    sdp.push('a=rtcp-fb:' + payload.id + ' trr-int ' + (fb.value ? fb.value : '0'));\n                } else {\n                    sdp.push('a=rtcp-fb:' + payload.id + ' ' + fb.type + (fb.subtype ? ' ' + fb.subtype : ''));\n                }\n            });\n        }\n    });\n\n    if (desc.feedback) {\n        desc.feedback.forEach(function (fb) {\n            if (fb.type === 'trr-int') {\n                sdp.push('a=rtcp-fb:* trr-int ' + (fb.value ? fb.value : '0'));\n            } else {\n                sdp.push('a=rtcp-fb:* ' + fb.type + (fb.subtype ? ' ' + fb.subtype : ''));\n            }\n        });\n    }\n\n    var hdrExts = desc.headerExtensions || [];\n    hdrExts.forEach(function (hdr) {\n        sdp.push('a=extmap:' + hdr.id + (hdr.senders ? '/' + SENDERS[role][direction][hdr.senders] : '') + ' ' + hdr.uri);\n    });\n\n    var ssrcGroups = desc.sourceGroups || [];\n    ssrcGroups.forEach(function (ssrcGroup) {\n        sdp.push('a=ssrc-group:' + ssrcGroup.semantics + ' ' + ssrcGroup.sources.join(' '));\n    });\n\n    var ssrcs = desc.sources || [];\n    ssrcs.forEach(function (ssrc) {\n        for (var i = 0; i < ssrc.parameters.length; i++) {\n            var param = ssrc.parameters[i];\n            sdp.push('a=ssrc:' + (ssrc.ssrc || desc.ssrc) + ' ' + param.key + (param.value ? (':' + param.value) : ''));\n        }\n    });\n\n    var candidates = transport.candidates || [];\n    candidates.forEach(function (candidate) {\n        sdp.push(exports.toCandidateSDP(candidate));\n    });\n\n    return sdp.join('\\r\\n');\n};\n\nexports.toCandidateSDP = function (candidate) {\n    var sdp = [];\n\n    sdp.push(candidate.foundation);\n    sdp.push(candidate.component);\n    sdp.push(candidate.protocol.toUpperCase());\n    sdp.push(candidate.priority);\n    sdp.push(candidate.ip);\n    sdp.push(candidate.port);\n\n    var type = candidate.type;\n    sdp.push('typ');\n    sdp.push(type);\n    if (type === 'srflx' || type === 'prflx' || type === 'relay') {\n        if (candidate.relAddr && candidate.relPort) {\n            sdp.push('raddr');\n            sdp.push(candidate.relAddr);\n            sdp.push('rport');\n            sdp.push(candidate.relPort);\n        }\n    }\n    if (candidate.tcpType && candidate.protocol.toUpperCase() == 'TCP') {\n        sdp.push('tcptype');\n        sdp.push(candidate.tcpType);\n    }\n\n    sdp.push('generation');\n    sdp.push(candidate.generation || '0');\n\n    // FIXME: apparently this is wrong per spec\n    // but then, we need this when actually putting this into\n    // SDP so it's going to stay.\n    // decision needs to be revisited when browsers dont\n    // accept this any longer\n    return 'a=candidate:' + sdp.join(' ');\n};\n\n},{\"./senders\":36}],39:[function(require,module,exports){\n// based on https://github.com/ESTOS/strophe.jingle/\n// adds wildemitter support\nvar util = require('util');\nvar adapter = require('webrtc-adapter-test');\nvar WildEmitter = require('wildemitter');\n\nfunction dumpSDP(description) {\n    return {\n        type: description.type,\n        sdp: description.sdp\n    };\n}\n\nfunction dumpStream(stream) {\n    var info = {\n        label: stream.id,\n    };\n    if (stream.getAudioTracks().length) {\n        info.audio = stream.getAudioTracks().map(function (track) {\n            return track.id;\n        });\n    }\n    if (stream.getVideoTracks().length) {\n        info.video = stream.getVideoTracks().map(function (track) {\n            return track.id;\n        });\n    }\n    return info;\n}\n\nfunction TraceablePeerConnection(config, constraints) {\n    var self = this;\n    WildEmitter.call(this);\n\n    this.peerconnection = new window.RTCPeerConnection(config, constraints);\n\n    this.trace = function (what, info) {\n        self.emit('PeerConnectionTrace', {\n            time: new Date(),\n            type: what,\n            value: info || \"\"\n        });\n    };\n\n    this.onicecandidate = null;\n    this.peerconnection.onicecandidate = function (event) {\n        self.trace('onicecandidate', event.candidate);\n        if (self.onicecandidate !== null) {\n            self.onicecandidate(event);\n        }\n    };\n    this.onaddstream = null;\n    this.peerconnection.onaddstream = function (event) {\n        self.trace('onaddstream', dumpStream(event.stream));\n        if (self.onaddstream !== null) {\n            self.onaddstream(event);\n        }\n    };\n    this.onremovestream = null;\n    this.peerconnection.onremovestream = function (event) {\n        self.trace('onremovestream', dumpStream(event.stream));\n        if (self.onremovestream !== null) {\n            self.onremovestream(event);\n        }\n    };\n    this.onsignalingstatechange = null;\n    this.peerconnection.onsignalingstatechange = function (event) {\n        self.trace('onsignalingstatechange', self.signalingState);\n        if (self.onsignalingstatechange !== null) {\n            self.onsignalingstatechange(event);\n        }\n    };\n    this.oniceconnectionstatechange = null;\n    this.peerconnection.oniceconnectionstatechange = function (event) {\n        self.trace('oniceconnectionstatechange', self.iceConnectionState);\n        if (self.oniceconnectionstatechange !== null) {\n            self.oniceconnectionstatechange(event);\n        }\n    };\n    this.onnegotiationneeded = null;\n    this.peerconnection.onnegotiationneeded = function (event) {\n        self.trace('onnegotiationneeded');\n        if (self.onnegotiationneeded !== null) {\n            self.onnegotiationneeded(event);\n        }\n    };\n    self.ondatachannel = null;\n    this.peerconnection.ondatachannel = function (event) {\n        self.trace('ondatachannel', event);\n        if (self.ondatachannel !== null) {\n            self.ondatachannel(event);\n        }\n    };\n    this.getLocalStreams = this.peerconnection.getLocalStreams.bind(this.peerconnection);\n    this.getRemoteStreams = this.peerconnection.getRemoteStreams.bind(this.peerconnection);\n}\n\nutil.inherits(TraceablePeerConnection, WildEmitter);\n\n['signalingState', 'iceConnectionState', 'localDescription', 'remoteDescription'].forEach(function (prop) {\n    Object.defineProperty(TraceablePeerConnection.prototype, prop, {\n        get: function () {\n            return this.peerconnection[prop];\n        }\n    });\n});\n\nTraceablePeerConnection.prototype.addStream = function (stream) {\n    this.trace('addStream', dumpStream(stream));\n    this.peerconnection.addStream(stream);\n};\n\nTraceablePeerConnection.prototype.removeStream = function (stream) {\n    this.trace('removeStream', dumpStream(stream));\n    this.peerconnection.removeStream(stream);\n};\n\nTraceablePeerConnection.prototype.createDataChannel = function (label, opts) {\n    this.trace('createDataChannel', label, opts);\n    return this.peerconnection.createDataChannel(label, opts);\n};\n\nTraceablePeerConnection.prototype.setLocalDescription = function (description, successCallback, failureCallback) {\n    var self = this;\n    this.trace('setLocalDescription', dumpSDP(description));\n    this.peerconnection.setLocalDescription(description,\n        function () {\n            self.trace('setLocalDescriptionOnSuccess');\n            if (successCallback) successCallback();\n        },\n        function (err) {\n            self.trace('setLocalDescriptionOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        }\n    );\n};\n\nTraceablePeerConnection.prototype.setRemoteDescription = function (description, successCallback, failureCallback) {\n    var self = this;\n    this.trace('setRemoteDescription', dumpSDP(description));\n    this.peerconnection.setRemoteDescription(description,\n        function () {\n            self.trace('setRemoteDescriptionOnSuccess');\n            if (successCallback) successCallback();\n        },\n        function (err) {\n            self.trace('setRemoteDescriptionOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        }\n    );\n};\n\nTraceablePeerConnection.prototype.close = function () {\n    this.trace('stop');\n    if (this.peerconnection.signalingState != 'closed') {\n        this.peerconnection.close();\n    }\n};\n\nTraceablePeerConnection.prototype.createOffer = function (successCallback, failureCallback, constraints) {\n    var self = this;\n    this.trace('createOffer', constraints);\n    this.peerconnection.createOffer(\n        function (offer) {\n            self.trace('createOfferOnSuccess', dumpSDP(offer));\n            if (successCallback) successCallback(offer);\n        },\n        function (err) {\n            self.trace('createOfferOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        },\n        constraints\n    );\n};\n\nTraceablePeerConnection.prototype.createAnswer = function (successCallback, failureCallback, constraints) {\n    var self = this;\n    this.trace('createAnswer', constraints);\n    this.peerconnection.createAnswer(\n        function (answer) {\n            self.trace('createAnswerOnSuccess', dumpSDP(answer));\n            if (successCallback) successCallback(answer);\n        },\n        function (err) {\n            self.trace('createAnswerOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        },\n        constraints\n    );\n};\n\nTraceablePeerConnection.prototype.addIceCandidate = function (candidate, successCallback, failureCallback) {\n    var self = this;\n    this.trace('addIceCandidate', candidate);\n    this.peerconnection.addIceCandidate(candidate,\n        function () {\n            //self.trace('addIceCandidateOnSuccess');\n            if (successCallback) successCallback();\n        },\n        function (err) {\n            self.trace('addIceCandidateOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        }\n    );\n};\n\nTraceablePeerConnection.prototype.getStats = function () {\n    this.peerconnection.getStats.apply(this.peerconnection, arguments);\n};\n\nmodule.exports = TraceablePeerConnection;\n\n},{\"util\":53,\"webrtc-adapter-test\":40,\"wildemitter\":44}],40:[function(require,module,exports){\narguments[4][6][0].apply(exports,arguments)\n},{\"dup\":6}],41:[function(require,module,exports){\nvar util = require('util');\nvar each = require('lodash.foreach');\nvar pluck = require('lodash.pluck');\nvar SJJ = require('sdp-jingle-json');\nvar WildEmitter = require('wildemitter');\nvar peerconn = require('traceablepeerconnection');\nvar adapter = require('webrtc-adapter-test');\n\nfunction PeerConnection(config, constraints) {\n    var self = this;\n    var item;\n    WildEmitter.call(this);\n\n    config = config || {};\n    config.iceServers = config.iceServers || [];\n\n    // make sure this only gets enabled in Google Chrome\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.enableChromeNativeSimulcast = false;\n    if (constraints && constraints.optional &&\n            adapter.webrtcDetectedBrowser === 'chrome' &&\n            navigator.appVersion.match(/Chromium\\//) === null) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.enableChromeNativeSimulcast) {\n                self.enableChromeNativeSimulcast = true;\n            }\n        });\n    }\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.enableMultiStreamHacks = false;\n    if (constraints && constraints.optional &&\n            adapter.webrtcDetectedBrowser === 'chrome') {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.enableMultiStreamHacks) {\n                self.enableMultiStreamHacks = true;\n            }\n        });\n    }\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.restrictBandwidth = 0;\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetRestrictBandwidth) {\n                self.restrictBandwidth = constraint.andyetRestrictBandwidth;\n            }\n        });\n    }\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // bundle up ice candidates, only works for jingle mode\n    // number > 0 is the delay to wait for additional candidates\n    // ~20ms seems good\n    this.batchIceCandidates = 0;\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetBatchIce) {\n                self.batchIceCandidates = constraint.andyetBatchIce;\n            }\n        });\n    }\n    this.batchedIceCandidates = [];\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // this attemps to strip out candidates with an already known foundation\n    // and type -- i.e. those which are gathered via the same TURN server\n    // but different transports (TURN udp, tcp and tls respectively)\n    if (constraints && constraints.optional && adapter.webrtcDetectedBrowser === 'chrome') {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetFasterICE) {\n                self.eliminateDuplicateCandidates = constraint.andyetFasterICE;\n            }\n        });\n    }\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // when using a server such as the jitsi videobridge we don't need to signal\n    // our candidates\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetDontSignalCandidates) {\n                self.dontSignalCandidates = constraint.andyetDontSignalCandidates;\n            }\n        });\n    }\n\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.assumeSetLocalSuccess = false;\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetAssumeSetLocalSuccess) {\n                self.assumeSetLocalSuccess = constraint.andyetAssumeSetLocalSuccess;\n            }\n        });\n    }\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // working around https://bugzilla.mozilla.org/show_bug.cgi?id=1087551\n    // pass in a timeout for this\n    if (adapter.webrtcDetectedBrowser === 'firefox') {\n        if (constraints && constraints.optional) {\n            this.wtFirefox = 0;\n            constraints.optional.forEach(function (constraint) {\n                if (constraint.andyetFirefoxMakesMeSad) {\n                    self.wtFirefox = constraint.andyetFirefoxMakesMeSad;\n                    if (self.wtFirefox > 0) {\n                        self.firefoxcandidatebuffer = [];\n                    }\n                }\n            });\n        }\n    }\n\n\n    this.pc = new peerconn(config, constraints);\n\n    this.getLocalStreams = this.pc.getLocalStreams.bind(this.pc);\n    this.getRemoteStreams = this.pc.getRemoteStreams.bind(this.pc);\n    this.addStream = this.pc.addStream.bind(this.pc);\n    this.removeStream = this.pc.removeStream.bind(this.pc);\n\n    // proxy events\n    this.pc.on('*', function () {\n        self.emit.apply(self, arguments);\n    });\n\n    // proxy some events directly\n    this.pc.onremovestream = this.emit.bind(this, 'removeStream');\n    this.pc.onaddstream = this.emit.bind(this, 'addStream');\n    this.pc.onnegotiationneeded = this.emit.bind(this, 'negotiationNeeded');\n    this.pc.oniceconnectionstatechange = this.emit.bind(this, 'iceConnectionStateChange');\n    this.pc.onsignalingstatechange = this.emit.bind(this, 'signalingStateChange');\n\n    // handle ice candidate and data channel events\n    this.pc.onicecandidate = this._onIce.bind(this);\n    this.pc.ondatachannel = this._onDataChannel.bind(this);\n\n    this.localDescription = {\n        contents: []\n    };\n    this.remoteDescription = {\n        contents: []\n    };\n\n    this.config = {\n        debug: false,\n        ice: {},\n        sid: '',\n        isInitiator: true,\n        sdpSessionID: Date.now(),\n        useJingle: false\n    };\n\n    // apply our config\n    for (item in config) {\n        this.config[item] = config[item];\n    }\n\n    if (this.config.debug) {\n        this.on('*', function () {\n            var logger = config.logger || console;\n            logger.log('PeerConnection event:', arguments);\n        });\n    }\n    this.hadLocalStunCandidate = false;\n    this.hadRemoteStunCandidate = false;\n    this.hadLocalRelayCandidate = false;\n    this.hadRemoteRelayCandidate = false;\n\n    this.hadLocalIPv6Candidate = false;\n    this.hadRemoteIPv6Candidate = false;\n\n    // keeping references for all our data channels\n    // so they dont get garbage collected\n    // can be removed once the following bugs have been fixed\n    // https://crbug.com/405545\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=964092\n    // to be filed for opera\n    this._remoteDataChannels = [];\n    this._localDataChannels = [];\n\n    this._candidateBuffer = [];\n}\n\nutil.inherits(PeerConnection, WildEmitter);\n\nObject.defineProperty(PeerConnection.prototype, 'signalingState', {\n    get: function () {\n        return this.pc.signalingState;\n    }\n});\nObject.defineProperty(PeerConnection.prototype, 'iceConnectionState', {\n    get: function () {\n        return this.pc.iceConnectionState;\n    }\n});\n\nPeerConnection.prototype._role = function () {\n    return this.isInitiator ? 'initiator' : 'responder';\n};\n\n// Add a stream to the peer connection object\nPeerConnection.prototype.addStream = function (stream) {\n    this.localStream = stream;\n    this.pc.addStream(stream);\n};\n\n// helper function to check if a remote candidate is a stun/relay\n// candidate or an ipv6 candidate\nPeerConnection.prototype._checkLocalCandidate = function (candidate) {\n    var cand = SJJ.toCandidateJSON(candidate);\n    if (cand.type == 'srflx') {\n        this.hadLocalStunCandidate = true;\n    } else if (cand.type == 'relay') {\n        this.hadLocalRelayCandidate = true;\n    }\n    if (cand.ip.indexOf(':') != -1) {\n        this.hadLocalIPv6Candidate = true;\n    }\n};\n\n// helper function to check if a remote candidate is a stun/relay\n// candidate or an ipv6 candidate\nPeerConnection.prototype._checkRemoteCandidate = function (candidate) {\n    var cand = SJJ.toCandidateJSON(candidate);\n    if (cand.type == 'srflx') {\n        this.hadRemoteStunCandidate = true;\n    } else if (cand.type == 'relay') {\n        this.hadRemoteRelayCandidate = true;\n    }\n    if (cand.ip.indexOf(':') != -1) {\n        this.hadRemoteIPv6Candidate = true;\n    }\n};\n\n\n// Init and add ice candidate object with correct constructor\nPeerConnection.prototype.processIce = function (update, cb) {\n    cb = cb || function () {};\n    var self = this;\n\n    // ignore any added ice candidates to avoid errors. why does the\n    // spec not do this?\n    if (this.pc.signalingState === 'closed') return cb();\n\n    if (update.contents || (update.jingle && update.jingle.contents)) {\n        var contentNames = pluck(this.remoteDescription.contents, 'name');\n        var contents = update.contents || update.jingle.contents;\n\n        contents.forEach(function (content) {\n            var transport = content.transport || {};\n            var candidates = transport.candidates || [];\n            var mline = contentNames.indexOf(content.name);\n            var mid = content.name;\n\n            candidates.forEach(\n                function (candidate) {\n                var iceCandidate = SJJ.toCandidateSDP(candidate) + '\\r\\n';\n                self.pc.addIceCandidate(\n                    new RTCIceCandidate({\n                        candidate: iceCandidate,\n                        sdpMLineIndex: mline,\n                        sdpMid: mid\n                    }), function () {\n                        // well, this success callback is pretty meaningless\n                    },\n                    function (err) {\n                        self.emit('error', err);\n                    }\n                );\n                self._checkRemoteCandidate(iceCandidate);\n            });\n        });\n    } else {\n        // working around https://code.google.com/p/webrtc/issues/detail?id=3669\n        if (update.candidate && update.candidate.candidate.indexOf('a=') !== 0) {\n            update.candidate.candidate = 'a=' + update.candidate.candidate;\n        }\n\n        if (this.wtFirefox && this.firefoxcandidatebuffer !== null) {\n            // we cant add this yet due to https://bugzilla.mozilla.org/show_bug.cgi?id=1087551\n            if (this.pc.localDescription && this.pc.localDescription.type === 'offer') {\n                this.firefoxcandidatebuffer.push(update.candidate);\n                return cb();\n            }\n        }\n\n        self.pc.addIceCandidate(\n            new RTCIceCandidate(update.candidate),\n            function () { },\n            function (err) {\n                self.emit('error', err);\n            }\n        );\n        self._checkRemoteCandidate(update.candidate.candidate);\n    }\n    cb();\n};\n\n// Generate and emit an offer with the given constraints\nPeerConnection.prototype.offer = function (constraints, cb) {\n    var self = this;\n    var hasConstraints = arguments.length === 2;\n    var mediaConstraints = hasConstraints && constraints ? constraints : {\n            mandatory: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: true\n            }\n        };\n    cb = hasConstraints ? cb : constraints;\n    cb = cb || function () {};\n\n    if (this.pc.signalingState === 'closed') return cb('Already closed');\n\n    // Actually generate the offer\n    this.pc.createOffer(\n        function (offer) {\n            // does not work for jingle, but jingle.js doesn't need\n            // this hack...\n            var expandedOffer = {\n                type: 'offer',\n                sdp: offer.sdp\n            };\n            if (self.assumeSetLocalSuccess) {\n                self.emit('offer', expandedOffer);\n                cb(null, expandedOffer);\n            }\n            self._candidateBuffer = [];\n            self.pc.setLocalDescription(offer,\n                function () {\n                    var jingle;\n                    if (self.config.useJingle) {\n                        jingle = SJJ.toSessionJSON(offer.sdp, {\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                        jingle.sid = self.config.sid;\n                        self.localDescription = jingle;\n\n                        // Save ICE credentials\n                        each(jingle.contents, function (content) {\n                            var transport = content.transport || {};\n                            if (transport.ufrag) {\n                                self.config.ice[content.name] = {\n                                    ufrag: transport.ufrag,\n                                    pwd: transport.pwd\n                                };\n                            }\n                        });\n\n                        expandedOffer.jingle = jingle;\n                    }\n                    expandedOffer.sdp.split('\\r\\n').forEach(function (line) {\n                        if (line.indexOf('a=candidate:') === 0) {\n                            self._checkLocalCandidate(line);\n                        }\n                    });\n\n                    if (!self.assumeSetLocalSuccess) {\n                        self.emit('offer', expandedOffer);\n                        cb(null, expandedOffer);\n                    }\n                },\n                function (err) {\n                    self.emit('error', err);\n                    cb(err);\n                }\n            );\n        },\n        function (err) {\n            self.emit('error', err);\n            cb(err);\n        },\n        mediaConstraints\n    );\n};\n\n\n// Process an incoming offer so that ICE may proceed before deciding\n// to answer the request.\nPeerConnection.prototype.handleOffer = function (offer, cb) {\n    cb = cb || function () {};\n    var self = this;\n    offer.type = 'offer';\n    if (offer.jingle) {\n        if (this.enableChromeNativeSimulcast) {\n            offer.jingle.contents.forEach(function (content) {\n                if (content.name === 'video') {\n                    content.description.googConferenceFlag = true;\n                }\n            });\n        }\n        if (this.enableMultiStreamHacks) {\n            // add a mixed video stream as first stream\n            offer.jingle.contents.forEach(function (content) {\n                if (content.name === 'video') {\n                    var sources = content.description.sources || [];\n                    if (sources.length === 0 || sources[0].ssrc !== \"3735928559\") {\n                        sources.unshift({\n                            ssrc: \"3735928559\", // 0xdeadbeef\n                            parameters: [\n                                {\n                                    key: \"cname\",\n                                    value: \"deadbeef\"\n                                },\n                                {\n                                    key: \"msid\",\n                                    value: \"mixyourfecintothis please\"\n                                }\n                            ]\n                        });\n                        content.description.sources = sources;\n                    }\n                }\n            });\n        }\n        if (self.restrictBandwidth > 0) {\n            if (offer.jingle.contents.length >= 2 && offer.jingle.contents[1].name === 'video') {\n                var content = offer.jingle.contents[1];\n                var hasBw = content.description && content.description.bandwidth;\n                if (!hasBw) {\n                    offer.jingle.contents[1].description.bandwidth = { type: 'AS', bandwidth: self.restrictBandwidth.toString() };\n                    offer.sdp = SJJ.toSessionSDP(offer.jingle, {\n                        sid: self.config.sdpSessionID,\n                        role: self._role(),\n                        direction: 'outgoing'\n                    });\n                }\n            }\n        }\n        offer.sdp = SJJ.toSessionSDP(offer.jingle, {\n            sid: self.config.sdpSessionID,\n            role: self._role(),\n            direction: 'incoming'\n        });\n        self.remoteDescription = offer.jingle;\n    }\n    offer.sdp.split('\\r\\n').forEach(function (line) {\n        if (line.indexOf('a=candidate:') === 0) {\n            self._checkRemoteCandidate(line);\n        }\n    });\n    self.pc.setRemoteDescription(new RTCSessionDescription(offer),\n        function () {\n            cb();\n        },\n        cb\n    );\n};\n\n// Answer an offer with audio only\nPeerConnection.prototype.answerAudioOnly = function (cb) {\n    var mediaConstraints = {\n            mandatory: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: false\n            }\n        };\n    this._answer(mediaConstraints, cb);\n};\n\n// Answer an offer without offering to recieve\nPeerConnection.prototype.answerBroadcastOnly = function (cb) {\n    var mediaConstraints = {\n            mandatory: {\n                OfferToReceiveAudio: false,\n                OfferToReceiveVideo: false\n            }\n        };\n    this._answer(mediaConstraints, cb);\n};\n\n// Answer an offer with given constraints default is audio/video\nPeerConnection.prototype.answer = function (constraints, cb) {\n    var hasConstraints = arguments.length === 2;\n    var callback = hasConstraints ? cb : constraints;\n    var mediaConstraints = hasConstraints && constraints ? constraints : {\n            mandatory: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: true\n            }\n        };\n\n    this._answer(mediaConstraints, callback);\n};\n\n// Process an answer\nPeerConnection.prototype.handleAnswer = function (answer, cb) {\n    cb = cb || function () {};\n    var self = this;\n    if (answer.jingle) {\n        answer.sdp = SJJ.toSessionSDP(answer.jingle, {\n            sid: self.config.sdpSessionID,\n            role: self._role(),\n            direction: 'incoming'\n        });\n        self.remoteDescription = answer.jingle;\n    }\n    answer.sdp.split('\\r\\n').forEach(function (line) {\n        if (line.indexOf('a=candidate:') === 0) {\n            self._checkRemoteCandidate(line);\n        }\n    });\n    self.pc.setRemoteDescription(\n        new RTCSessionDescription(answer),\n        function () {\n            if (self.wtFirefox) {\n                window.setTimeout(function () {\n                    self.firefoxcandidatebuffer.forEach(function (candidate) {\n                        // add candidates later\n                        self.pc.addIceCandidate(\n                            new RTCIceCandidate(candidate),\n                            function () { },\n                            function (err) {\n                                self.emit('error', err);\n                            }\n                        );\n                        self._checkRemoteCandidate(candidate.candidate);\n                    });\n                    self.firefoxcandidatebuffer = null;\n                }, self.wtFirefox);\n            }\n            cb(null);\n        },\n        cb\n    );\n};\n\n// Close the peer connection\nPeerConnection.prototype.close = function () {\n    this.pc.close();\n\n    this._localDataChannels = [];\n    this._remoteDataChannels = [];\n\n    this.emit('close');\n};\n\n// Internal code sharing for various types of answer methods\nPeerConnection.prototype._answer = function (constraints, cb) {\n    cb = cb || function () {};\n    var self = this;\n    if (!this.pc.remoteDescription) {\n        // the old API is used, call handleOffer\n        throw new Error('remoteDescription not set');\n    }\n\n    if (this.pc.signalingState === 'closed') return cb('Already closed');\n\n    self.pc.createAnswer(\n        function (answer) {\n            var sim = [];\n            if (self.enableChromeNativeSimulcast) {\n                // native simulcast part 1: add another SSRC\n                answer.jingle = SJJ.toSessionJSON(answer.sdp, {\n                    role: self._role(),\n                    direction: 'outgoing'\n                });\n                if (answer.jingle.contents.length >= 2 && answer.jingle.contents[1].name === 'video') {\n                    var groups = answer.jingle.contents[1].description.sourceGroups || [];\n                    var hasSim = false;\n                    groups.forEach(function (group) {\n                        if (group.semantics == 'SIM') hasSim = true;\n                    });\n                    if (!hasSim &&\n                        answer.jingle.contents[1].description.sources.length) {\n                        var newssrc = JSON.parse(JSON.stringify(answer.jingle.contents[1].description.sources[0]));\n                        newssrc.ssrc = '' + Math.floor(Math.random() * 0xffffffff); // FIXME: look for conflicts\n                        answer.jingle.contents[1].description.sources.push(newssrc);\n\n                        sim.push(answer.jingle.contents[1].description.sources[0].ssrc);\n                        sim.push(newssrc.ssrc);\n                        groups.push({\n                            semantics: 'SIM',\n                            sources: sim\n                        });\n\n                        // also create an RTX one for the SIM one\n                        var rtxssrc = JSON.parse(JSON.stringify(newssrc));\n                        rtxssrc.ssrc = '' + Math.floor(Math.random() * 0xffffffff); // FIXME: look for conflicts\n                        answer.jingle.contents[1].description.sources.push(rtxssrc);\n                        groups.push({\n                            semantics: 'FID',\n                            sources: [newssrc.ssrc, rtxssrc.ssrc]\n                        });\n\n                        answer.jingle.contents[1].description.sourceGroups = groups;\n                        answer.sdp = SJJ.toSessionSDP(answer.jingle, {\n                            sid: self.config.sdpSessionID,\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                    }\n                }\n            }\n            var expandedAnswer = {\n                type: 'answer',\n                sdp: answer.sdp\n            };\n            if (self.assumeSetLocalSuccess) {\n                // not safe to do when doing simulcast mangling\n                self.emit('answer', expandedAnswer);\n                cb(null, expandedAnswer);\n            }\n            self._candidateBuffer = [];\n            self.pc.setLocalDescription(answer,\n                function () {\n                    if (self.config.useJingle) {\n                        var jingle = SJJ.toSessionJSON(answer.sdp, {\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                        jingle.sid = self.config.sid;\n                        self.localDescription = jingle;\n                        expandedAnswer.jingle = jingle;\n                    }\n                    if (self.enableChromeNativeSimulcast) {\n                        // native simulcast part 2:\n                        // signal multiple tracks to the receiver\n                        // for anything in the SIM group\n                        if (!expandedAnswer.jingle) {\n                            expandedAnswer.jingle = SJJ.toSessionJSON(answer.sdp, {\n                                role: self._role(),\n                                direction: 'outgoing'\n                            });\n                        }\n                        expandedAnswer.jingle.contents[1].description.sources.forEach(function (source, idx) {\n                            // the floor idx/2 is a hack that relies on a particular order\n                            // of groups, alternating between sim and rtx\n                            source.parameters = source.parameters.map(function (parameter) {\n                                if (parameter.key === 'msid') {\n                                    parameter.value += '-' + Math.floor(idx / 2);\n                                }\n                                return parameter;\n                            });\n                        });\n                        expandedAnswer.sdp = SJJ.toSessionSDP(expandedAnswer.jingle, {\n                            sid: self.sdpSessionID,\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                    }\n                    expandedAnswer.sdp.split('\\r\\n').forEach(function (line) {\n                        if (line.indexOf('a=candidate:') === 0) {\n                            self._checkLocalCandidate(line);\n                        }\n                    });\n                    if (!self.assumeSetLocalSuccess) {\n                        self.emit('answer', expandedAnswer);\n                        cb(null, expandedAnswer);\n                    }\n                },\n                function (err) {\n                    self.emit('error', err);\n                    cb(err);\n                }\n            );\n        },\n        function (err) {\n            self.emit('error', err);\n            cb(err);\n        },\n        constraints\n    );\n};\n\n// Internal method for emitting ice candidates on our peer object\nPeerConnection.prototype._onIce = function (event) {\n    var self = this;\n    if (event.candidate) {\n        if (this.dontSignalCandidates) return;\n        var ice = event.candidate;\n\n        var expandedCandidate = {\n            candidate: {\n                candidate: ice.candidate,\n                sdpMid: ice.sdpMid,\n                sdpMLineIndex: ice.sdpMLineIndex\n            }\n        };\n        this._checkLocalCandidate(ice.candidate);\n\n        var cand = SJJ.toCandidateJSON(ice.candidate);\n\n        var already;\n        var idx;\n        if (this.eliminateDuplicateCandidates && cand.type === 'relay') {\n            // drop candidates with same foundation, component\n            // take local type pref into account so we don't ignore udp\n            // ones when we know about a TCP one. unlikely but...\n            already = this._candidateBuffer.filter(\n                function (c) {\n                    return c.type === 'relay';\n                }).map(function (c) {\n                    return c.foundation + ':' + c.component;\n                }\n            );\n            idx = already.indexOf(cand.foundation + ':' + cand.component);\n            // remember: local type pref of udp is 0, tcp 1, tls 2\n            if (idx > -1 && ((cand.priority >> 24) >= (already[idx].priority >> 24))) {\n                // drop it, same foundation with higher (worse) type pref\n                return;\n            }\n        }\n        if (this.config.bundlePolicy === 'max-bundle') {\n            // drop candidates which are duplicate for audio/video/data\n            // duplicate means same host/port but different sdpMid\n            already = this._candidateBuffer.filter(\n                function (c) {\n                    return cand.type === c.type;\n                }).map(function (cand) {\n                    return cand.address + ':' + cand.port;\n                }\n            );\n            idx = already.indexOf(cand.address + ':' + cand.port);\n            if (idx > -1) return;\n        }\n        // also drop rtcp candidates since we know the peer supports RTCP-MUX\n        // this is a workaround until browsers implement this natively\n        if (this.config.rtcpMuxPolicy === 'require' && cand.component === '2') {\n            return;\n        }\n        this._candidateBuffer.push(cand);\n\n        if (self.config.useJingle) {\n            if (!ice.sdpMid) { // firefox doesn't set this\n                if (self.pc.remoteDescription && self.pc.remoteDescription.type === 'offer') {\n                    // preserve name from remote\n                    ice.sdpMid = self.remoteDescription.contents[ice.sdpMLineIndex].name;\n                } else {\n                    ice.sdpMid = self.localDescription.contents[ice.sdpMLineIndex].name;\n                }\n            }\n            if (!self.config.ice[ice.sdpMid]) {\n                var jingle = SJJ.toSessionJSON(self.pc.localDescription.sdp, {\n                    role: self._role(),\n                    direction: 'outgoing'\n                });\n                each(jingle.contents, function (content) {\n                    var transport = content.transport || {};\n                    if (transport.ufrag) {\n                        self.config.ice[content.name] = {\n                            ufrag: transport.ufrag,\n                            pwd: transport.pwd\n                        };\n                    }\n                });\n            }\n            expandedCandidate.jingle = {\n                contents: [{\n                    name: ice.sdpMid,\n                    creator: self._role(),\n                    transport: {\n                        transType: 'iceUdp',\n                        ufrag: self.config.ice[ice.sdpMid].ufrag,\n                        pwd: self.config.ice[ice.sdpMid].pwd,\n                        candidates: [\n                            cand\n                        ]\n                    }\n                }]\n            };\n            if (self.batchIceCandidates > 0) {\n                if (self.batchedIceCandidates.length === 0) {\n                    window.setTimeout(function () {\n                        var contents = {};\n                        self.batchedIceCandidates.forEach(function (content) {\n                            content = content.contents[0];\n                            if (!contents[content.name]) contents[content.name] = content;\n                            contents[content.name].transport.candidates.push(content.transport.candidates[0]);\n                        });\n                        var newCand = {\n                            jingle: {\n                                contents: []\n                            }\n                        };\n                        Object.keys(contents).forEach(function (name) {\n                            newCand.jingle.contents.push(contents[name]);\n                        });\n                        self.batchedIceCandidates = [];\n                        self.emit('ice', newCand);\n                    }, self.batchIceCandidates);\n                }\n                self.batchedIceCandidates.push(expandedCandidate.jingle);\n                return;\n            }\n\n        }\n        this.emit('ice', expandedCandidate);\n    } else {\n        this.emit('endOfCandidates');\n    }\n};\n\n// Internal method for processing a new data channel being added by the\n// other peer.\nPeerConnection.prototype._onDataChannel = function (event) {\n    // make sure we keep a reference so this doesn't get garbage collected\n    var channel = event.channel;\n    this._remoteDataChannels.push(channel);\n\n    this.emit('addChannel', channel);\n};\n\n// Create a data channel spec reference:\n// http://dev.w3.org/2011/webrtc/editor/webrtc.html#idl-def-RTCDataChannelInit\nPeerConnection.prototype.createDataChannel = function (name, opts) {\n    var channel = this.pc.createDataChannel(name, opts);\n\n    // make sure we keep a reference so this doesn't get garbage collected\n    this._localDataChannels.push(channel);\n\n    return channel;\n};\n\n// a wrapper around getStats which hides the differences (where possible)\n// TODO: remove in favor of adapter.js shim\nPeerConnection.prototype.getStats = function (cb) {\n    if (adapter.webrtcDetectedBrowser === 'firefox') {\n        this.pc.getStats(\n            function (res) {\n                var items = [];\n                for (var result in res) {\n                    if (typeof res[result] === 'object') {\n                        items.push(res[result]);\n                    }\n                }\n                cb(null, items);\n            },\n            cb\n        );\n    } else {\n        this.pc.getStats(function (res) {\n            var items = [];\n            res.result().forEach(function (result) {\n                var item = {};\n                result.names().forEach(function (name) {\n                    item[name] = result.stat(name);\n                });\n                item.id = result.id;\n                item.type = result.type;\n                item.timestamp = result.timestamp;\n                items.push(item);\n            });\n            cb(null, items);\n        });\n    }\n};\n\nmodule.exports = PeerConnection;\n\n},{\"lodash.foreach\":11,\"lodash.pluck\":19,\"sdp-jingle-json\":34,\"traceablepeerconnection\":39,\"util\":53,\"webrtc-adapter-test\":40,\"wildemitter\":44}],42:[function(require,module,exports){\n/*! Socket.IO.js build:0.9.16, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */\n\nvar io = ('undefined' === typeof module ? {} : module.exports);\n(function() {\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, global) {\n\n  /**\n   * IO namespace.\n   *\n   * @namespace\n   */\n\n  var io = exports;\n\n  /**\n   * Socket.IO version\n   *\n   * @api public\n   */\n\n  io.version = '0.9.16';\n\n  /**\n   * Protocol implemented.\n   *\n   * @api public\n   */\n\n  io.protocol = 1;\n\n  /**\n   * Available transports, these will be populated with the available transports\n   *\n   * @api public\n   */\n\n  io.transports = [];\n\n  /**\n   * Keep track of jsonp callbacks.\n   *\n   * @api private\n   */\n\n  io.j = [];\n\n  /**\n   * Keep track of our io.Sockets\n   *\n   * @api private\n   */\n  io.sockets = {};\n\n\n  /**\n   * Manages connections to hosts.\n   *\n   * @param {String} uri\n   * @Param {Boolean} force creation of new socket (defaults to false)\n   * @api public\n   */\n\n  io.connect = function (host, details) {\n    var uri = io.util.parseUri(host)\n      , uuri\n      , socket;\n\n    if (global && global.location) {\n      uri.protocol = uri.protocol || global.location.protocol.slice(0, -1);\n      uri.host = uri.host || (global.document\n        ? global.document.domain : global.location.hostname);\n      uri.port = uri.port || global.location.port;\n    }\n\n    uuri = io.util.uniqueUri(uri);\n\n    var options = {\n        host: uri.host\n      , secure: 'https' == uri.protocol\n      , port: uri.port || ('https' == uri.protocol ? 443 : 80)\n      , query: uri.query || ''\n    };\n\n    io.util.merge(options, details);\n\n    if (options['force new connection'] || !io.sockets[uuri]) {\n      socket = new io.Socket(options);\n    }\n\n    if (!options['force new connection'] && socket) {\n      io.sockets[uuri] = socket;\n    }\n\n    socket = socket || io.sockets[uuri];\n\n    // if path is different from '' or /\n    return socket.of(uri.path.length > 1 ? uri.path : '');\n  };\n\n})('object' === typeof module ? module.exports : (this.io = {}), this);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, global) {\n\n  /**\n   * Utilities namespace.\n   *\n   * @namespace\n   */\n\n  var util = exports.util = {};\n\n  /**\n   * Parses an URI\n   *\n   * @author Steven Levithan <stevenlevithan.com> (MIT license)\n   * @api public\n   */\n\n  var re = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\n  var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password',\n               'host', 'port', 'relative', 'path', 'directory', 'file', 'query',\n               'anchor'];\n\n  util.parseUri = function (str) {\n    var m = re.exec(str || '')\n      , uri = {}\n      , i = 14;\n\n    while (i--) {\n      uri[parts[i]] = m[i] || '';\n    }\n\n    return uri;\n  };\n\n  /**\n   * Produces a unique url that identifies a Socket.IO connection.\n   *\n   * @param {Object} uri\n   * @api public\n   */\n\n  util.uniqueUri = function (uri) {\n    var protocol = uri.protocol\n      , host = uri.host\n      , port = uri.port;\n\n    if ('document' in global) {\n      host = host || document.domain;\n      port = port || (protocol == 'https'\n        && document.location.protocol !== 'https:' ? 443 : document.location.port);\n    } else {\n      host = host || 'localhost';\n\n      if (!port && protocol == 'https') {\n        port = 443;\n      }\n    }\n\n    return (protocol || 'http') + '://' + host + ':' + (port || 80);\n  };\n\n  /**\n   * Mergest 2 query strings in to once unique query string\n   *\n   * @param {String} base\n   * @param {String} addition\n   * @api public\n   */\n\n  util.query = function (base, addition) {\n    var query = util.chunkQuery(base || '')\n      , components = [];\n\n    util.merge(query, util.chunkQuery(addition || ''));\n    for (var part in query) {\n      if (query.hasOwnProperty(part)) {\n        components.push(part + '=' + query[part]);\n      }\n    }\n\n    return components.length ? '?' + components.join('&') : '';\n  };\n\n  /**\n   * Transforms a querystring in to an object\n   *\n   * @param {String} qs\n   * @api public\n   */\n\n  util.chunkQuery = function (qs) {\n    var query = {}\n      , params = qs.split('&')\n      , i = 0\n      , l = params.length\n      , kv;\n\n    for (; i < l; ++i) {\n      kv = params[i].split('=');\n      if (kv[0]) {\n        query[kv[0]] = kv[1];\n      }\n    }\n\n    return query;\n  };\n\n  /**\n   * Executes the given function when the page is loaded.\n   *\n   *     io.util.load(function () { console.log('page loaded'); });\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n  var pageLoaded = false;\n\n  util.load = function (fn) {\n    if ('document' in global && document.readyState === 'complete' || pageLoaded) {\n      return fn();\n    }\n\n    util.on(global, 'load', fn, false);\n  };\n\n  /**\n   * Adds an event.\n   *\n   * @api private\n   */\n\n  util.on = function (element, event, fn, capture) {\n    if (element.attachEvent) {\n      element.attachEvent('on' + event, fn);\n    } else if (element.addEventListener) {\n      element.addEventListener(event, fn, capture);\n    }\n  };\n\n  /**\n   * Generates the correct `XMLHttpRequest` for regular and cross domain requests.\n   *\n   * @param {Boolean} [xdomain] Create a request that can be used cross domain.\n   * @returns {XMLHttpRequest|false} If we can create a XMLHttpRequest.\n   * @api private\n   */\n\n  util.request = function (xdomain) {\n\n    if (xdomain && 'undefined' != typeof XDomainRequest && !util.ua.hasCORS) {\n      return new XDomainRequest();\n    }\n\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || util.ua.hasCORS)) {\n      return new XMLHttpRequest();\n    }\n\n    if (!xdomain) {\n      try {\n        return new window[(['Active'].concat('Object').join('X'))]('Microsoft.XMLHTTP');\n      } catch(e) { }\n    }\n\n    return null;\n  };\n\n  /**\n   * XHR based transport constructor.\n   *\n   * @constructor\n   * @api public\n   */\n\n  /**\n   * Change the internal pageLoaded value.\n   */\n\n  if ('undefined' != typeof window) {\n    util.load(function () {\n      pageLoaded = true;\n    });\n  }\n\n  /**\n   * Defers a function to ensure a spinner is not displayed by the browser\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n  util.defer = function (fn) {\n    if (!util.ua.webkit || 'undefined' != typeof importScripts) {\n      return fn();\n    }\n\n    util.load(function () {\n      setTimeout(fn, 100);\n    });\n  };\n\n  /**\n   * Merges two objects.\n   *\n   * @api public\n   */\n\n  util.merge = function merge (target, additional, deep, lastseen) {\n    var seen = lastseen || []\n      , depth = typeof deep == 'undefined' ? 2 : deep\n      , prop;\n\n    for (prop in additional) {\n      if (additional.hasOwnProperty(prop) && util.indexOf(seen, prop) < 0) {\n        if (typeof target[prop] !== 'object' || !depth) {\n          target[prop] = additional[prop];\n          seen.push(additional[prop]);\n        } else {\n          util.merge(target[prop], additional[prop], depth - 1, seen);\n        }\n      }\n    }\n\n    return target;\n  };\n\n  /**\n   * Merges prototypes from objects\n   *\n   * @api public\n   */\n\n  util.mixin = function (ctor, ctor2) {\n    util.merge(ctor.prototype, ctor2.prototype);\n  };\n\n  /**\n   * Shortcut for prototypical and static inheritance.\n   *\n   * @api private\n   */\n\n  util.inherit = function (ctor, ctor2) {\n    function f() {};\n    f.prototype = ctor2.prototype;\n    ctor.prototype = new f;\n  };\n\n  /**\n   * Checks if the given object is an Array.\n   *\n   *     io.util.isArray([]); // true\n   *     io.util.isArray({}); // false\n   *\n   * @param Object obj\n   * @api public\n   */\n\n  util.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n\n  /**\n   * Intersects values of two arrays into a third\n   *\n   * @api public\n   */\n\n  util.intersect = function (arr, arr2) {\n    var ret = []\n      , longest = arr.length > arr2.length ? arr : arr2\n      , shortest = arr.length > arr2.length ? arr2 : arr;\n\n    for (var i = 0, l = shortest.length; i < l; i++) {\n      if (~util.indexOf(longest, shortest[i]))\n        ret.push(shortest[i]);\n    }\n\n    return ret;\n  };\n\n  /**\n   * Array indexOf compatibility.\n   *\n   * @see bit.ly/a5Dxa2\n   * @api public\n   */\n\n  util.indexOf = function (arr, o, i) {\n\n    for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0;\n         i < j && arr[i] !== o; i++) {}\n\n    return j <= i ? -1 : i;\n  };\n\n  /**\n   * Converts enumerables to array.\n   *\n   * @api public\n   */\n\n  util.toArray = function (enu) {\n    var arr = [];\n\n    for (var i = 0, l = enu.length; i < l; i++)\n      arr.push(enu[i]);\n\n    return arr;\n  };\n\n  /**\n   * UA / engines detection namespace.\n   *\n   * @namespace\n   */\n\n  util.ua = {};\n\n  /**\n   * Whether the UA supports CORS for XHR.\n   *\n   * @api public\n   */\n\n  util.ua.hasCORS = 'undefined' != typeof XMLHttpRequest && (function () {\n    try {\n      var a = new XMLHttpRequest();\n    } catch (e) {\n      return false;\n    }\n\n    return a.withCredentials != undefined;\n  })();\n\n  /**\n   * Detect webkit.\n   *\n   * @api public\n   */\n\n  util.ua.webkit = 'undefined' != typeof navigator\n    && /webkit/i.test(navigator.userAgent);\n\n   /**\n   * Detect iPad/iPhone/iPod.\n   *\n   * @api public\n   */\n\n  util.ua.iDevice = 'undefined' != typeof navigator\n      && /iPad|iPhone|iPod/i.test(navigator.userAgent);\n\n})('undefined' != typeof io ? io : module.exports, this);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.EventEmitter = EventEmitter;\n\n  /**\n   * Event emitter constructor.\n   *\n   * @api public.\n   */\n\n  function EventEmitter () {};\n\n  /**\n   * Adds a listener\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.on = function (name, fn) {\n    if (!this.$events) {\n      this.$events = {};\n    }\n\n    if (!this.$events[name]) {\n      this.$events[name] = fn;\n    } else if (io.util.isArray(this.$events[name])) {\n      this.$events[name].push(fn);\n    } else {\n      this.$events[name] = [this.$events[name], fn];\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  /**\n   * Adds a volatile listener.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.once = function (name, fn) {\n    var self = this;\n\n    function on () {\n      self.removeListener(name, on);\n      fn.apply(this, arguments);\n    };\n\n    on.listener = fn;\n    this.on(name, on);\n\n    return this;\n  };\n\n  /**\n   * Removes a listener.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.removeListener = function (name, fn) {\n    if (this.$events && this.$events[name]) {\n      var list = this.$events[name];\n\n      if (io.util.isArray(list)) {\n        var pos = -1;\n\n        for (var i = 0, l = list.length; i < l; i++) {\n          if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {\n            pos = i;\n            break;\n          }\n        }\n\n        if (pos < 0) {\n          return this;\n        }\n\n        list.splice(pos, 1);\n\n        if (!list.length) {\n          delete this.$events[name];\n        }\n      } else if (list === fn || (list.listener && list.listener === fn)) {\n        delete this.$events[name];\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Removes all listeners for an event.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.removeAllListeners = function (name) {\n    if (name === undefined) {\n      this.$events = {};\n      return this;\n    }\n\n    if (this.$events && this.$events[name]) {\n      this.$events[name] = null;\n    }\n\n    return this;\n  };\n\n  /**\n   * Gets all listeners for a certain event.\n   *\n   * @api publci\n   */\n\n  EventEmitter.prototype.listeners = function (name) {\n    if (!this.$events) {\n      this.$events = {};\n    }\n\n    if (!this.$events[name]) {\n      this.$events[name] = [];\n    }\n\n    if (!io.util.isArray(this.$events[name])) {\n      this.$events[name] = [this.$events[name]];\n    }\n\n    return this.$events[name];\n  };\n\n  /**\n   * Emits an event.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.emit = function (name) {\n    if (!this.$events) {\n      return false;\n    }\n\n    var handler = this.$events[name];\n\n    if (!handler) {\n      return false;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    if ('function' == typeof handler) {\n      handler.apply(this, args);\n    } else if (io.util.isArray(handler)) {\n      var listeners = handler.slice();\n\n      for (var i = 0, l = listeners.length; i < l; i++) {\n        listeners[i].apply(this, args);\n      }\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n/**\n * Based on JSON2 (http://www.JSON.org/js.html).\n */\n\n(function (exports, nativeJSON) {\n  \"use strict\";\n\n  // use native JSON if it's available\n  if (nativeJSON && nativeJSON.parse){\n    return exports.JSON = {\n      parse: nativeJSON.parse\n    , stringify: nativeJSON.stringify\n    };\n  }\n\n  var JSON = exports.JSON = {};\n\n  function f(n) {\n      // Format integers to have at least two digits.\n      return n < 10 ? '0' + n : n;\n  }\n\n  function date(d, key) {\n    return isFinite(d.valueOf()) ?\n        d.getUTCFullYear()     + '-' +\n        f(d.getUTCMonth() + 1) + '-' +\n        f(d.getUTCDate())      + 'T' +\n        f(d.getUTCHours())     + ':' +\n        f(d.getUTCMinutes())   + ':' +\n        f(d.getUTCSeconds())   + 'Z' : null;\n  };\n\n  var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n      escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n      gap,\n      indent,\n      meta = {    // table of character substitutions\n          '\\b': '\\\\b',\n          '\\t': '\\\\t',\n          '\\n': '\\\\n',\n          '\\f': '\\\\f',\n          '\\r': '\\\\r',\n          '\"' : '\\\\\"',\n          '\\\\': '\\\\\\\\'\n      },\n      rep;\n\n\n  function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n      escapable.lastIndex = 0;\n      return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n          var c = meta[a];\n          return typeof c === 'string' ? c :\n              '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n      }) + '\"' : '\"' + string + '\"';\n  }\n\n\n  function str(key, holder) {\n\n// Produce a string from holder[key].\n\n      var i,          // The loop counter.\n          k,          // The member key.\n          v,          // The member value.\n          length,\n          mind = gap,\n          partial,\n          value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n      if (value instanceof Date) {\n          value = date(key);\n      }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n      if (typeof rep === 'function') {\n          value = rep.call(holder, key, value);\n      }\n\n// What happens next depends on the value's type.\n\n      switch (typeof value) {\n      case 'string':\n          return quote(value);\n\n      case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n          return isFinite(value) ? String(value) : 'null';\n\n      case 'boolean':\n      case 'null':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n          return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n      case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n          if (!value) {\n              return 'null';\n          }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n          gap += indent;\n          partial = [];\n\n// Is the value an array?\n\n          if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n              length = value.length;\n              for (i = 0; i < length; i += 1) {\n                  partial[i] = str(i, value) || 'null';\n              }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n              v = partial.length === 0 ? '[]' : gap ?\n                  '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                  '[' + partial.join(',') + ']';\n              gap = mind;\n              return v;\n          }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n          if (rep && typeof rep === 'object') {\n              length = rep.length;\n              for (i = 0; i < length; i += 1) {\n                  if (typeof rep[i] === 'string') {\n                      k = rep[i];\n                      v = str(k, value);\n                      if (v) {\n                          partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                      }\n                  }\n              }\n          } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = str(k, value);\n                      if (v) {\n                          partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                      }\n                  }\n              }\n          }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n          v = partial.length === 0 ? '{}' : gap ?\n              '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n              '{' + partial.join(',') + '}';\n          gap = mind;\n          return v;\n      }\n  }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n  JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n      var i;\n      gap = '';\n      indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n      if (typeof space === 'number') {\n          for (i = 0; i < space; i += 1) {\n              indent += ' ';\n          }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n      } else if (typeof space === 'string') {\n          indent = space;\n      }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n      rep = replacer;\n      if (replacer && typeof replacer !== 'function' &&\n              (typeof replacer !== 'object' ||\n              typeof replacer.length !== 'number')) {\n          throw new Error('JSON.stringify');\n      }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n      return str('', {'': value});\n  };\n\n// If the JSON object does not yet have a parse method, give it one.\n\n  JSON.parse = function (text, reviver) {\n  // The parse method takes a text and an optional reviver function, and returns\n  // a JavaScript value if the text is a valid JSON text.\n\n      var j;\n\n      function walk(holder, key) {\n\n  // The walk method is used to recursively walk the resulting structure so\n  // that modifications can be made.\n\n          var k, v, value = holder[key];\n          if (value && typeof value === 'object') {\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = walk(value, k);\n                      if (v !== undefined) {\n                          value[k] = v;\n                      } else {\n                          delete value[k];\n                      }\n                  }\n              }\n          }\n          return reviver.call(holder, key, value);\n      }\n\n\n  // Parsing happens in four stages. In the first stage, we replace certain\n  // Unicode characters with escape sequences. JavaScript handles many characters\n  // incorrectly, either silently deleting them, or treating them as line endings.\n\n      text = String(text);\n      cx.lastIndex = 0;\n      if (cx.test(text)) {\n          text = text.replace(cx, function (a) {\n              return '\\\\u' +\n                  ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n          });\n      }\n\n  // In the second stage, we run the text against regular expressions that look\n  // for non-JSON patterns. We are especially concerned with '()' and 'new'\n  // because they can cause invocation, and '=' because it can cause mutation.\n  // But just to be safe, we want to reject all unexpected forms.\n\n  // We split the second stage into 4 regexp operations in order to work around\n  // crippling inefficiencies in IE's and Safari's regexp engines. First we\n  // replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n  // replace all simple value tokens with ']' characters. Third, we delete all\n  // open brackets that follow a colon or comma or that begin the text. Finally,\n  // we look to see that the remaining characters are only whitespace or ']' or\n  // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n      if (/^[\\],:{}\\s]*$/\n              .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                  .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                  .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n  // In the third stage we use the eval function to compile the text into a\n  // JavaScript structure. The '{' operator is subject to a syntactic ambiguity\n  // in JavaScript: it can begin a block or an object literal. We wrap the text\n  // in parens to eliminate the ambiguity.\n\n          j = eval('(' + text + ')');\n\n  // In the optional fourth stage, we recursively walk the new structure, passing\n  // each name/value pair to a reviver function for possible transformation.\n\n          return typeof reviver === 'function' ?\n              walk({'': j}, '') : j;\n      }\n\n  // If the text is not JSON parseable, then a SyntaxError is thrown.\n\n      throw new SyntaxError('JSON.parse');\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , typeof JSON !== 'undefined' ? JSON : undefined\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Parser namespace.\n   *\n   * @namespace\n   */\n\n  var parser = exports.parser = {};\n\n  /**\n   * Packet types.\n   */\n\n  var packets = parser.packets = [\n      'disconnect'\n    , 'connect'\n    , 'heartbeat'\n    , 'message'\n    , 'json'\n    , 'event'\n    , 'ack'\n    , 'error'\n    , 'noop'\n  ];\n\n  /**\n   * Errors reasons.\n   */\n\n  var reasons = parser.reasons = [\n      'transport not supported'\n    , 'client not handshaken'\n    , 'unauthorized'\n  ];\n\n  /**\n   * Errors advice.\n   */\n\n  var advice = parser.advice = [\n      'reconnect'\n  ];\n\n  /**\n   * Shortcuts.\n   */\n\n  var JSON = io.JSON\n    , indexOf = io.util.indexOf;\n\n  /**\n   * Encodes a packet.\n   *\n   * @api private\n   */\n\n  parser.encodePacket = function (packet) {\n    var type = indexOf(packets, packet.type)\n      , id = packet.id || ''\n      , endpoint = packet.endpoint || ''\n      , ack = packet.ack\n      , data = null;\n\n    switch (packet.type) {\n      case 'error':\n        var reason = packet.reason ? indexOf(reasons, packet.reason) : ''\n          , adv = packet.advice ? indexOf(advice, packet.advice) : '';\n\n        if (reason !== '' || adv !== '')\n          data = reason + (adv !== '' ? ('+' + adv) : '');\n\n        break;\n\n      case 'message':\n        if (packet.data !== '')\n          data = packet.data;\n        break;\n\n      case 'event':\n        var ev = { name: packet.name };\n\n        if (packet.args && packet.args.length) {\n          ev.args = packet.args;\n        }\n\n        data = JSON.stringify(ev);\n        break;\n\n      case 'json':\n        data = JSON.stringify(packet.data);\n        break;\n\n      case 'connect':\n        if (packet.qs)\n          data = packet.qs;\n        break;\n\n      case 'ack':\n        data = packet.ackId\n          + (packet.args && packet.args.length\n              ? '+' + JSON.stringify(packet.args) : '');\n        break;\n    }\n\n    // construct packet with required fragments\n    var encoded = [\n        type\n      , id + (ack == 'data' ? '+' : '')\n      , endpoint\n    ];\n\n    // data fragment is optional\n    if (data !== null && data !== undefined)\n      encoded.push(data);\n\n    return encoded.join(':');\n  };\n\n  /**\n   * Encodes multiple messages (payload).\n   *\n   * @param {Array} messages\n   * @api private\n   */\n\n  parser.encodePayload = function (packets) {\n    var decoded = '';\n\n    if (packets.length == 1)\n      return packets[0];\n\n    for (var i = 0, l = packets.length; i < l; i++) {\n      var packet = packets[i];\n      decoded += '\\ufffd' + packet.length + '\\ufffd' + packets[i];\n    }\n\n    return decoded;\n  };\n\n  /**\n   * Decodes a packet\n   *\n   * @api private\n   */\n\n  var regexp = /([^:]+):([0-9]+)?(\\+)?:([^:]+)?:?([\\s\\S]*)?/;\n\n  parser.decodePacket = function (data) {\n    var pieces = data.match(regexp);\n\n    if (!pieces) return {};\n\n    var id = pieces[2] || ''\n      , data = pieces[5] || ''\n      , packet = {\n            type: packets[pieces[1]]\n          , endpoint: pieces[4] || ''\n        };\n\n    // whether we need to acknowledge the packet\n    if (id) {\n      packet.id = id;\n      if (pieces[3])\n        packet.ack = 'data';\n      else\n        packet.ack = true;\n    }\n\n    // handle different packet types\n    switch (packet.type) {\n      case 'error':\n        var pieces = data.split('+');\n        packet.reason = reasons[pieces[0]] || '';\n        packet.advice = advice[pieces[1]] || '';\n        break;\n\n      case 'message':\n        packet.data = data || '';\n        break;\n\n      case 'event':\n        try {\n          var opts = JSON.parse(data);\n          packet.name = opts.name;\n          packet.args = opts.args;\n        } catch (e) { }\n\n        packet.args = packet.args || [];\n        break;\n\n      case 'json':\n        try {\n          packet.data = JSON.parse(data);\n        } catch (e) { }\n        break;\n\n      case 'connect':\n        packet.qs = data || '';\n        break;\n\n      case 'ack':\n        var pieces = data.match(/^([0-9]+)(\\+)?(.*)/);\n        if (pieces) {\n          packet.ackId = pieces[1];\n          packet.args = [];\n\n          if (pieces[3]) {\n            try {\n              packet.args = pieces[3] ? JSON.parse(pieces[3]) : [];\n            } catch (e) { }\n          }\n        }\n        break;\n\n      case 'disconnect':\n      case 'heartbeat':\n        break;\n    };\n\n    return packet;\n  };\n\n  /**\n   * Decodes data payload. Detects multiple messages\n   *\n   * @return {Array} messages\n   * @api public\n   */\n\n  parser.decodePayload = function (data) {\n    // IE doesn't like data[i] for unicode chars, charAt works fine\n    if (data.charAt(0) == '\\ufffd') {\n      var ret = [];\n\n      for (var i = 1, length = ''; i < data.length; i++) {\n        if (data.charAt(i) == '\\ufffd') {\n          ret.push(parser.decodePacket(data.substr(i + 1).substr(0, length)));\n          i += Number(length) + 1;\n          length = '';\n        } else {\n          length += data.charAt(i);\n        }\n      }\n\n      return ret;\n    } else {\n      return [parser.decodePacket(data)];\n    }\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.Transport = Transport;\n\n  /**\n   * This is the transport template for all supported transport methods.\n   *\n   * @constructor\n   * @api public\n   */\n\n  function Transport (socket, sessid) {\n    this.socket = socket;\n    this.sessid = sessid;\n  };\n\n  /**\n   * Apply EventEmitter mixin.\n   */\n\n  io.util.mixin(Transport, io.EventEmitter);\n\n\n  /**\n   * Indicates whether heartbeats is enabled for this transport\n   *\n   * @api private\n   */\n\n  Transport.prototype.heartbeats = function () {\n    return true;\n  };\n\n  /**\n   * Handles the response from the server. When a new response is received\n   * it will automatically update the timeout, decode the message and\n   * forwards the response to the onMessage function for further processing.\n   *\n   * @param {String} data Response from the server.\n   * @api private\n   */\n\n  Transport.prototype.onData = function (data) {\n    this.clearCloseTimeout();\n\n    // If the connection in currently open (or in a reopening state) reset the close\n    // timeout since we have just received data. This check is necessary so\n    // that we don't reset the timeout on an explicitly disconnected connection.\n    if (this.socket.connected || this.socket.connecting || this.socket.reconnecting) {\n      this.setCloseTimeout();\n    }\n\n    if (data !== '') {\n      // todo: we should only do decodePayload for xhr transports\n      var msgs = io.parser.decodePayload(data);\n\n      if (msgs && msgs.length) {\n        for (var i = 0, l = msgs.length; i < l; i++) {\n          this.onPacket(msgs[i]);\n        }\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Handles packets.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onPacket = function (packet) {\n    this.socket.setHeartbeatTimeout();\n\n    if (packet.type == 'heartbeat') {\n      return this.onHeartbeat();\n    }\n\n    if (packet.type == 'connect' && packet.endpoint == '') {\n      this.onConnect();\n    }\n\n    if (packet.type == 'error' && packet.advice == 'reconnect') {\n      this.isOpen = false;\n    }\n\n    this.socket.onPacket(packet);\n\n    return this;\n  };\n\n  /**\n   * Sets close timeout\n   *\n   * @api private\n   */\n\n  Transport.prototype.setCloseTimeout = function () {\n    if (!this.closeTimeout) {\n      var self = this;\n\n      this.closeTimeout = setTimeout(function () {\n        self.onDisconnect();\n      }, this.socket.closeTimeout);\n    }\n  };\n\n  /**\n   * Called when transport disconnects.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onDisconnect = function () {\n    if (this.isOpen) this.close();\n    this.clearTimeouts();\n    this.socket.onDisconnect();\n    return this;\n  };\n\n  /**\n   * Called when transport connects\n   *\n   * @api private\n   */\n\n  Transport.prototype.onConnect = function () {\n    this.socket.onConnect();\n    return this;\n  };\n\n  /**\n   * Clears close timeout\n   *\n   * @api private\n   */\n\n  Transport.prototype.clearCloseTimeout = function () {\n    if (this.closeTimeout) {\n      clearTimeout(this.closeTimeout);\n      this.closeTimeout = null;\n    }\n  };\n\n  /**\n   * Clear timeouts\n   *\n   * @api private\n   */\n\n  Transport.prototype.clearTimeouts = function () {\n    this.clearCloseTimeout();\n\n    if (this.reopenTimeout) {\n      clearTimeout(this.reopenTimeout);\n    }\n  };\n\n  /**\n   * Sends a packet\n   *\n   * @param {Object} packet object.\n   * @api private\n   */\n\n  Transport.prototype.packet = function (packet) {\n    this.send(io.parser.encodePacket(packet));\n  };\n\n  /**\n   * Send the received heartbeat message back to server. So the server\n   * knows we are still connected.\n   *\n   * @param {String} heartbeat Heartbeat response from the server.\n   * @api private\n   */\n\n  Transport.prototype.onHeartbeat = function (heartbeat) {\n    this.packet({ type: 'heartbeat' });\n  };\n\n  /**\n   * Called when the transport opens.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onOpen = function () {\n    this.isOpen = true;\n    this.clearCloseTimeout();\n    this.socket.onOpen();\n  };\n\n  /**\n   * Notifies the base when the connection with the Socket.IO server\n   * has been disconnected.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onClose = function () {\n    var self = this;\n\n    /* FIXME: reopen delay causing a infinit loop\n    this.reopenTimeout = setTimeout(function () {\n      self.open();\n    }, this.socket.options['reopen delay']);*/\n\n    this.isOpen = false;\n    this.socket.onClose();\n    this.onDisconnect();\n  };\n\n  /**\n   * Generates a connection url based on the Socket.IO URL Protocol.\n   * See <https://github.com/learnboost/socket.io-node/> for more details.\n   *\n   * @returns {String} Connection url\n   * @api private\n   */\n\n  Transport.prototype.prepareUrl = function () {\n    var options = this.socket.options;\n\n    return this.scheme() + '://'\n      + options.host + ':' + options.port + '/'\n      + options.resource + '/' + io.protocol\n      + '/' + this.name + '/' + this.sessid;\n  };\n\n  /**\n   * Checks if the transport is ready to start a connection.\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  Transport.prototype.ready = function (socket, fn) {\n    fn.call(this);\n  };\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.Socket = Socket;\n\n  /**\n   * Create a new `Socket.IO client` which can establish a persistent\n   * connection with a Socket.IO enabled server.\n   *\n   * @api public\n   */\n\n  function Socket (options) {\n    this.options = {\n        port: 80\n      , secure: false\n      , document: 'document' in global ? document : false\n      , resource: 'socket.io'\n      , transports: io.transports\n      , 'connect timeout': 10000\n      , 'try multiple transports': true\n      , 'reconnect': true\n      , 'reconnection delay': 500\n      , 'reconnection limit': Infinity\n      , 'reopen delay': 3000\n      , 'max reconnection attempts': 10\n      , 'sync disconnect on unload': false\n      , 'auto connect': true\n      , 'flash policy port': 10843\n      , 'manualFlush': false\n    };\n\n    io.util.merge(this.options, options);\n\n    this.connected = false;\n    this.open = false;\n    this.connecting = false;\n    this.reconnecting = false;\n    this.namespaces = {};\n    this.buffer = [];\n    this.doBuffer = false;\n\n    if (this.options['sync disconnect on unload'] &&\n        (!this.isXDomain() || io.util.ua.hasCORS)) {\n      var self = this;\n      io.util.on(global, 'beforeunload', function () {\n        self.disconnectSync();\n      }, false);\n    }\n\n    if (this.options['auto connect']) {\n      this.connect();\n    }\n};\n\n  /**\n   * Apply EventEmitter mixin.\n   */\n\n  io.util.mixin(Socket, io.EventEmitter);\n\n  /**\n   * Returns a namespace listener/emitter for this socket\n   *\n   * @api public\n   */\n\n  Socket.prototype.of = function (name) {\n    if (!this.namespaces[name]) {\n      this.namespaces[name] = new io.SocketNamespace(this, name);\n\n      if (name !== '') {\n        this.namespaces[name].packet({ type: 'connect' });\n      }\n    }\n\n    return this.namespaces[name];\n  };\n\n  /**\n   * Emits the given event to the Socket and all namespaces\n   *\n   * @api private\n   */\n\n  Socket.prototype.publish = function () {\n    this.emit.apply(this, arguments);\n\n    var nsp;\n\n    for (var i in this.namespaces) {\n      if (this.namespaces.hasOwnProperty(i)) {\n        nsp = this.of(i);\n        nsp.$emit.apply(nsp, arguments);\n      }\n    }\n  };\n\n  /**\n   * Performs the handshake\n   *\n   * @api private\n   */\n\n  function empty () { };\n\n  Socket.prototype.handshake = function (fn) {\n    var self = this\n      , options = this.options;\n\n    function complete (data) {\n      if (data instanceof Error) {\n        self.connecting = false;\n        self.onError(data.message);\n      } else {\n        fn.apply(null, data.split(':'));\n      }\n    };\n\n    var url = [\n          'http' + (options.secure ? 's' : '') + ':/'\n        , options.host + ':' + options.port\n        , options.resource\n        , io.protocol\n        , io.util.query(this.options.query, 't=' + +new Date)\n      ].join('/');\n\n    if (this.isXDomain() && !io.util.ua.hasCORS) {\n      var insertAt = document.getElementsByTagName('script')[0]\n        , script = document.createElement('script');\n\n      script.src = url + '&jsonp=' + io.j.length;\n      insertAt.parentNode.insertBefore(script, insertAt);\n\n      io.j.push(function (data) {\n        complete(data);\n        script.parentNode.removeChild(script);\n      });\n    } else {\n      var xhr = io.util.request();\n\n      xhr.open('GET', url, true);\n      if (this.isXDomain()) {\n        xhr.withCredentials = true;\n      }\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          xhr.onreadystatechange = empty;\n\n          if (xhr.status == 200) {\n            complete(xhr.responseText);\n          } else if (xhr.status == 403) {\n            self.onError(xhr.responseText);\n          } else {\n            self.connecting = false;            \n            !self.reconnecting && self.onError(xhr.responseText);\n          }\n        }\n      };\n      xhr.send(null);\n    }\n  };\n\n  /**\n   * Find an available transport based on the options supplied in the constructor.\n   *\n   * @api private\n   */\n\n  Socket.prototype.getTransport = function (override) {\n    var transports = override || this.transports, match;\n\n    for (var i = 0, transport; transport = transports[i]; i++) {\n      if (io.Transport[transport]\n        && io.Transport[transport].check(this)\n        && (!this.isXDomain() || io.Transport[transport].xdomainCheck(this))) {\n        return new io.Transport[transport](this, this.sessionid);\n      }\n    }\n\n    return null;\n  };\n\n  /**\n   * Connects to the server.\n   *\n   * @param {Function} [fn] Callback.\n   * @returns {io.Socket}\n   * @api public\n   */\n\n  Socket.prototype.connect = function (fn) {\n    if (this.connecting) {\n      return this;\n    }\n\n    var self = this;\n    self.connecting = true;\n    \n    this.handshake(function (sid, heartbeat, close, transports) {\n      self.sessionid = sid;\n      self.closeTimeout = close * 1000;\n      self.heartbeatTimeout = heartbeat * 1000;\n      if(!self.transports)\n          self.transports = self.origTransports = (transports ? io.util.intersect(\n              transports.split(',')\n            , self.options.transports\n          ) : self.options.transports);\n\n      self.setHeartbeatTimeout();\n\n      function connect (transports){\n        if (self.transport) self.transport.clearTimeouts();\n\n        self.transport = self.getTransport(transports);\n        if (!self.transport) return self.publish('connect_failed');\n\n        // once the transport is ready\n        self.transport.ready(self, function () {\n          self.connecting = true;\n          self.publish('connecting', self.transport.name);\n          self.transport.open();\n\n          if (self.options['connect timeout']) {\n            self.connectTimeoutTimer = setTimeout(function () {\n              if (!self.connected) {\n                self.connecting = false;\n\n                if (self.options['try multiple transports']) {\n                  var remaining = self.transports;\n\n                  while (remaining.length > 0 && remaining.splice(0,1)[0] !=\n                         self.transport.name) {}\n\n                    if (remaining.length){\n                      connect(remaining);\n                    } else {\n                      self.publish('connect_failed');\n                    }\n                }\n              }\n            }, self.options['connect timeout']);\n          }\n        });\n      }\n\n      connect(self.transports);\n\n      self.once('connect', function (){\n        clearTimeout(self.connectTimeoutTimer);\n\n        fn && typeof fn == 'function' && fn();\n      });\n    });\n\n    return this;\n  };\n\n  /**\n   * Clears and sets a new heartbeat timeout using the value given by the\n   * server during the handshake.\n   *\n   * @api private\n   */\n\n  Socket.prototype.setHeartbeatTimeout = function () {\n    clearTimeout(this.heartbeatTimeoutTimer);\n    if(this.transport && !this.transport.heartbeats()) return;\n\n    var self = this;\n    this.heartbeatTimeoutTimer = setTimeout(function () {\n      self.transport.onClose();\n    }, this.heartbeatTimeout);\n  };\n\n  /**\n   * Sends a message.\n   *\n   * @param {Object} data packet.\n   * @returns {io.Socket}\n   * @api public\n   */\n\n  Socket.prototype.packet = function (data) {\n    if (this.connected && !this.doBuffer) {\n      this.transport.packet(data);\n    } else {\n      this.buffer.push(data);\n    }\n\n    return this;\n  };\n\n  /**\n   * Sets buffer state\n   *\n   * @api private\n   */\n\n  Socket.prototype.setBuffer = function (v) {\n    this.doBuffer = v;\n\n    if (!v && this.connected && this.buffer.length) {\n      if (!this.options['manualFlush']) {\n        this.flushBuffer();\n      }\n    }\n  };\n\n  /**\n   * Flushes the buffer data over the wire.\n   * To be invoked manually when 'manualFlush' is set to true.\n   *\n   * @api public\n   */\n\n  Socket.prototype.flushBuffer = function() {\n    this.transport.payload(this.buffer);\n    this.buffer = [];\n  };\n  \n\n  /**\n   * Disconnect the established connect.\n   *\n   * @returns {io.Socket}\n   * @api public\n   */\n\n  Socket.prototype.disconnect = function () {\n    if (this.connected || this.connecting) {\n      if (this.open) {\n        this.of('').packet({ type: 'disconnect' });\n      }\n\n      // handle disconnection immediately\n      this.onDisconnect('booted');\n    }\n\n    return this;\n  };\n\n  /**\n   * Disconnects the socket with a sync XHR.\n   *\n   * @api private\n   */\n\n  Socket.prototype.disconnectSync = function () {\n    // ensure disconnection\n    var xhr = io.util.request();\n    var uri = [\n        'http' + (this.options.secure ? 's' : '') + ':/'\n      , this.options.host + ':' + this.options.port\n      , this.options.resource\n      , io.protocol\n      , ''\n      , this.sessionid\n    ].join('/') + '/?disconnect=1';\n\n    xhr.open('GET', uri, false);\n    xhr.send(null);\n\n    // handle disconnection immediately\n    this.onDisconnect('booted');\n  };\n\n  /**\n   * Check if we need to use cross domain enabled transports. Cross domain would\n   * be a different port or different domain name.\n   *\n   * @returns {Boolean}\n   * @api private\n   */\n\n  Socket.prototype.isXDomain = function () {\n\n    var port = global.location.port ||\n      ('https:' == global.location.protocol ? 443 : 80);\n\n    return this.options.host !== global.location.hostname \n      || this.options.port != port;\n  };\n\n  /**\n   * Called upon handshake.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onConnect = function () {\n    if (!this.connected) {\n      this.connected = true;\n      this.connecting = false;\n      if (!this.doBuffer) {\n        // make sure to flush the buffer\n        this.setBuffer(false);\n      }\n      this.emit('connect');\n    }\n  };\n\n  /**\n   * Called when the transport opens\n   *\n   * @api private\n   */\n\n  Socket.prototype.onOpen = function () {\n    this.open = true;\n  };\n\n  /**\n   * Called when the transport closes.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onClose = function () {\n    this.open = false;\n    clearTimeout(this.heartbeatTimeoutTimer);\n  };\n\n  /**\n   * Called when the transport first opens a connection\n   *\n   * @param text\n   */\n\n  Socket.prototype.onPacket = function (packet) {\n    this.of(packet.endpoint).onPacket(packet);\n  };\n\n  /**\n   * Handles an error.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onError = function (err) {\n    if (err && err.advice) {\n      if (err.advice === 'reconnect' && (this.connected || this.connecting)) {\n        this.disconnect();\n        if (this.options.reconnect) {\n          this.reconnect();\n        }\n      }\n    }\n\n    this.publish('error', err && err.reason ? err.reason : err);\n  };\n\n  /**\n   * Called when the transport disconnects.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onDisconnect = function (reason) {\n    var wasConnected = this.connected\n      , wasConnecting = this.connecting;\n\n    this.connected = false;\n    this.connecting = false;\n    this.open = false;\n\n    if (wasConnected || wasConnecting) {\n      this.transport.close();\n      this.transport.clearTimeouts();\n      if (wasConnected) {\n        this.publish('disconnect', reason);\n\n        if ('booted' != reason && this.options.reconnect && !this.reconnecting) {\n          this.reconnect();\n        }\n      }\n    }\n  };\n\n  /**\n   * Called upon reconnection.\n   *\n   * @api private\n   */\n\n  Socket.prototype.reconnect = function () {\n    this.reconnecting = true;\n    this.reconnectionAttempts = 0;\n    this.reconnectionDelay = this.options['reconnection delay'];\n\n    var self = this\n      , maxAttempts = this.options['max reconnection attempts']\n      , tryMultiple = this.options['try multiple transports']\n      , limit = this.options['reconnection limit'];\n\n    function reset () {\n      if (self.connected) {\n        for (var i in self.namespaces) {\n          if (self.namespaces.hasOwnProperty(i) && '' !== i) {\n              self.namespaces[i].packet({ type: 'connect' });\n          }\n        }\n        self.publish('reconnect', self.transport.name, self.reconnectionAttempts);\n      }\n\n      clearTimeout(self.reconnectionTimer);\n\n      self.removeListener('connect_failed', maybeReconnect);\n      self.removeListener('connect', maybeReconnect);\n\n      self.reconnecting = false;\n\n      delete self.reconnectionAttempts;\n      delete self.reconnectionDelay;\n      delete self.reconnectionTimer;\n      delete self.redoTransports;\n\n      self.options['try multiple transports'] = tryMultiple;\n    };\n\n    function maybeReconnect () {\n      if (!self.reconnecting) {\n        return;\n      }\n\n      if (self.connected) {\n        return reset();\n      };\n\n      if (self.connecting && self.reconnecting) {\n        return self.reconnectionTimer = setTimeout(maybeReconnect, 1000);\n      }\n\n      if (self.reconnectionAttempts++ >= maxAttempts) {\n        if (!self.redoTransports) {\n          self.on('connect_failed', maybeReconnect);\n          self.options['try multiple transports'] = true;\n          self.transports = self.origTransports;\n          self.transport = self.getTransport();\n          self.redoTransports = true;\n          self.connect();\n        } else {\n          self.publish('reconnect_failed');\n          reset();\n        }\n      } else {\n        if (self.reconnectionDelay < limit) {\n          self.reconnectionDelay *= 2; // exponential back off\n        }\n\n        self.connect();\n        self.publish('reconnecting', self.reconnectionDelay, self.reconnectionAttempts);\n        self.reconnectionTimer = setTimeout(maybeReconnect, self.reconnectionDelay);\n      }\n    };\n\n    this.options['try multiple transports'] = false;\n    this.reconnectionTimer = setTimeout(maybeReconnect, this.reconnectionDelay);\n\n    this.on('connect', maybeReconnect);\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.SocketNamespace = SocketNamespace;\n\n  /**\n   * Socket namespace constructor.\n   *\n   * @constructor\n   * @api public\n   */\n\n  function SocketNamespace (socket, name) {\n    this.socket = socket;\n    this.name = name || '';\n    this.flags = {};\n    this.json = new Flag(this, 'json');\n    this.ackPackets = 0;\n    this.acks = {};\n  };\n\n  /**\n   * Apply EventEmitter mixin.\n   */\n\n  io.util.mixin(SocketNamespace, io.EventEmitter);\n\n  /**\n   * Copies emit since we override it\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.$emit = io.EventEmitter.prototype.emit;\n\n  /**\n   * Creates a new namespace, by proxying the request to the socket. This\n   * allows us to use the synax as we do on the server.\n   *\n   * @api public\n   */\n\n  SocketNamespace.prototype.of = function () {\n    return this.socket.of.apply(this.socket, arguments);\n  };\n\n  /**\n   * Sends a packet.\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.packet = function (packet) {\n    packet.endpoint = this.name;\n    this.socket.packet(packet);\n    this.flags = {};\n    return this;\n  };\n\n  /**\n   * Sends a message\n   *\n   * @api public\n   */\n\n  SocketNamespace.prototype.send = function (data, fn) {\n    var packet = {\n        type: this.flags.json ? 'json' : 'message'\n      , data: data\n    };\n\n    if ('function' == typeof fn) {\n      packet.id = ++this.ackPackets;\n      packet.ack = true;\n      this.acks[packet.id] = fn;\n    }\n\n    return this.packet(packet);\n  };\n\n  /**\n   * Emits an event\n   *\n   * @api public\n   */\n  \n  SocketNamespace.prototype.emit = function (name) {\n    var args = Array.prototype.slice.call(arguments, 1)\n      , lastArg = args[args.length - 1]\n      , packet = {\n            type: 'event'\n          , name: name\n        };\n\n    if ('function' == typeof lastArg) {\n      packet.id = ++this.ackPackets;\n      packet.ack = 'data';\n      this.acks[packet.id] = lastArg;\n      args = args.slice(0, args.length - 1);\n    }\n\n    packet.args = args;\n\n    return this.packet(packet);\n  };\n\n  /**\n   * Disconnects the namespace\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.disconnect = function () {\n    if (this.name === '') {\n      this.socket.disconnect();\n    } else {\n      this.packet({ type: 'disconnect' });\n      this.$emit('disconnect');\n    }\n\n    return this;\n  };\n\n  /**\n   * Handles a packet\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.onPacket = function (packet) {\n    var self = this;\n\n    function ack () {\n      self.packet({\n          type: 'ack'\n        , args: io.util.toArray(arguments)\n        , ackId: packet.id\n      });\n    };\n\n    switch (packet.type) {\n      case 'connect':\n        this.$emit('connect');\n        break;\n\n      case 'disconnect':\n        if (this.name === '') {\n          this.socket.onDisconnect(packet.reason || 'booted');\n        } else {\n          this.$emit('disconnect', packet.reason);\n        }\n        break;\n\n      case 'message':\n      case 'json':\n        var params = ['message', packet.data];\n\n        if (packet.ack == 'data') {\n          params.push(ack);\n        } else if (packet.ack) {\n          this.packet({ type: 'ack', ackId: packet.id });\n        }\n\n        this.$emit.apply(this, params);\n        break;\n\n      case 'event':\n        var params = [packet.name].concat(packet.args);\n\n        if (packet.ack == 'data')\n          params.push(ack);\n\n        this.$emit.apply(this, params);\n        break;\n\n      case 'ack':\n        if (this.acks[packet.ackId]) {\n          this.acks[packet.ackId].apply(this, packet.args);\n          delete this.acks[packet.ackId];\n        }\n        break;\n\n      case 'error':\n        if (packet.advice){\n          this.socket.onError(packet);\n        } else {\n          if (packet.reason == 'unauthorized') {\n            this.$emit('connect_failed', packet.reason);\n          } else {\n            this.$emit('error', packet.reason);\n          }\n        }\n        break;\n    }\n  };\n\n  /**\n   * Flag interface.\n   *\n   * @api private\n   */\n\n  function Flag (nsp, name) {\n    this.namespace = nsp;\n    this.name = name;\n  };\n\n  /**\n   * Send a message\n   *\n   * @api public\n   */\n\n  Flag.prototype.send = function () {\n    this.namespace.flags[this.name] = true;\n    this.namespace.send.apply(this.namespace, arguments);\n  };\n\n  /**\n   * Emit an event\n   *\n   * @api public\n   */\n\n  Flag.prototype.emit = function () {\n    this.namespace.flags[this.name] = true;\n    this.namespace.emit.apply(this.namespace, arguments);\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.websocket = WS;\n\n  /**\n   * The WebSocket transport uses the HTML5 WebSocket API to establish an\n   * persistent connection with the Socket.IO server. This transport will also\n   * be inherited by the FlashSocket fallback as it provides a API compatible\n   * polyfill for the WebSockets.\n   *\n   * @constructor\n   * @extends {io.Transport}\n   * @api public\n   */\n\n  function WS (socket) {\n    io.Transport.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from Transport.\n   */\n\n  io.util.inherit(WS, io.Transport);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  WS.prototype.name = 'websocket';\n\n  /**\n   * Initializes a new `WebSocket` connection with the Socket.IO server. We attach\n   * all the appropriate listeners to handle the responses from the server.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  WS.prototype.open = function () {\n    var query = io.util.query(this.socket.options.query)\n      , self = this\n      , Socket\n\n\n    if (!Socket) {\n      Socket = global.MozWebSocket || global.WebSocket;\n    }\n\n    this.websocket = new Socket(this.prepareUrl() + query);\n\n    this.websocket.onopen = function () {\n      self.onOpen();\n      self.socket.setBuffer(false);\n    };\n    this.websocket.onmessage = function (ev) {\n      self.onData(ev.data);\n    };\n    this.websocket.onclose = function () {\n      self.onClose();\n      self.socket.setBuffer(true);\n    };\n    this.websocket.onerror = function (e) {\n      self.onError(e);\n    };\n\n    return this;\n  };\n\n  /**\n   * Send a message to the Socket.IO server. The message will automatically be\n   * encoded in the correct message format.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  // Do to a bug in the current IDevices browser, we need to wrap the send in a \n  // setTimeout, when they resume from sleeping the browser will crash if \n  // we don't allow the browser time to detect the socket has been closed\n  if (io.util.ua.iDevice) {\n    WS.prototype.send = function (data) {\n      var self = this;\n      setTimeout(function() {\n         self.websocket.send(data);\n      },0);\n      return this;\n    };\n  } else {\n    WS.prototype.send = function (data) {\n      this.websocket.send(data);\n      return this;\n    };\n  }\n\n  /**\n   * Payload\n   *\n   * @api private\n   */\n\n  WS.prototype.payload = function (arr) {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      this.packet(arr[i]);\n    }\n    return this;\n  };\n\n  /**\n   * Disconnect the established `WebSocket` connection.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  WS.prototype.close = function () {\n    this.websocket.close();\n    return this;\n  };\n\n  /**\n   * Handle the errors that `WebSocket` might be giving when we\n   * are attempting to connect or send messages.\n   *\n   * @param {Error} e The error.\n   * @api private\n   */\n\n  WS.prototype.onError = function (e) {\n    this.socket.onError(e);\n  };\n\n  /**\n   * Returns the appropriate scheme for the URI generation.\n   *\n   * @api private\n   */\n  WS.prototype.scheme = function () {\n    return this.socket.options.secure ? 'wss' : 'ws';\n  };\n\n  /**\n   * Checks if the browser has support for native `WebSockets` and that\n   * it's not the polyfill created for the FlashSocket transport.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  WS.check = function () {\n    return ('WebSocket' in global && !('__addTask' in WebSocket))\n          || 'MozWebSocket' in global;\n  };\n\n  /**\n   * Check if the `WebSocket` transport support cross domain communications.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  WS.xdomainCheck = function () {\n    return true;\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('websocket');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.flashsocket = Flashsocket;\n\n  /**\n   * The FlashSocket transport. This is a API wrapper for the HTML5 WebSocket\n   * specification. It uses a .swf file to communicate with the server. If you want\n   * to serve the .swf file from a other server than where the Socket.IO script is\n   * coming from you need to use the insecure version of the .swf. More information\n   * about this can be found on the github page.\n   *\n   * @constructor\n   * @extends {io.Transport.websocket}\n   * @api public\n   */\n\n  function Flashsocket () {\n    io.Transport.websocket.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from Transport.\n   */\n\n  io.util.inherit(Flashsocket, io.Transport.websocket);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  Flashsocket.prototype.name = 'flashsocket';\n\n  /**\n   * Disconnect the established `FlashSocket` connection. This is done by adding a \n   * new task to the FlashSocket. The rest will be handled off by the `WebSocket` \n   * transport.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  Flashsocket.prototype.open = function () {\n    var self = this\n      , args = arguments;\n\n    WebSocket.__addTask(function () {\n      io.Transport.websocket.prototype.open.apply(self, args);\n    });\n    return this;\n  };\n  \n  /**\n   * Sends a message to the Socket.IO server. This is done by adding a new\n   * task to the FlashSocket. The rest will be handled off by the `WebSocket` \n   * transport.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  Flashsocket.prototype.send = function () {\n    var self = this, args = arguments;\n    WebSocket.__addTask(function () {\n      io.Transport.websocket.prototype.send.apply(self, args);\n    });\n    return this;\n  };\n\n  /**\n   * Disconnects the established `FlashSocket` connection.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  Flashsocket.prototype.close = function () {\n    WebSocket.__tasks.length = 0;\n    io.Transport.websocket.prototype.close.call(this);\n    return this;\n  };\n\n  /**\n   * The WebSocket fall back needs to append the flash container to the body\n   * element, so we need to make sure we have access to it. Or defer the call\n   * until we are sure there is a body element.\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  Flashsocket.prototype.ready = function (socket, fn) {\n    function init () {\n      var options = socket.options\n        , port = options['flash policy port']\n        , path = [\n              'http' + (options.secure ? 's' : '') + ':/'\n            , options.host + ':' + options.port\n            , options.resource\n            , 'static/flashsocket'\n            , 'WebSocketMain' + (socket.isXDomain() ? 'Insecure' : '') + '.swf'\n          ];\n\n      // Only start downloading the swf file when the checked that this browser\n      // actually supports it\n      if (!Flashsocket.loaded) {\n        if (typeof WEB_SOCKET_SWF_LOCATION === 'undefined') {\n          // Set the correct file based on the XDomain settings\n          WEB_SOCKET_SWF_LOCATION = path.join('/');\n        }\n\n        if (port !== 843) {\n          WebSocket.loadFlashPolicyFile('xmlsocket://' + options.host + ':' + port);\n        }\n\n        WebSocket.__initialize();\n        Flashsocket.loaded = true;\n      }\n\n      fn.call(self);\n    }\n\n    var self = this;\n    if (document.body) return init();\n\n    io.util.load(init);\n  };\n\n  /**\n   * Check if the FlashSocket transport is supported as it requires that the Adobe\n   * Flash Player plug-in version `10.0.0` or greater is installed. And also check if\n   * the polyfill is correctly loaded.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  Flashsocket.check = function () {\n    if (\n        typeof WebSocket == 'undefined'\n      || !('__initialize' in WebSocket) || !swfobject\n    ) return false;\n\n    return swfobject.getFlashPlayerVersion().major >= 10;\n  };\n\n  /**\n   * Check if the FlashSocket transport can be used as cross domain / cross origin \n   * transport. Because we can't see which type (secure or insecure) of .swf is used\n   * we will just return true.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  Flashsocket.xdomainCheck = function () {\n    return true;\n  };\n\n  /**\n   * Disable AUTO_INITIALIZATION\n   */\n\n  if (typeof window != 'undefined') {\n    WEB_SOCKET_DISABLE_AUTO_INITIALIZATION = true;\n  }\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('flashsocket');\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/> \n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\nif ('undefined' != typeof window) {\nvar swfobject=function(){var D=\"undefined\",r=\"object\",S=\"Shockwave Flash\",W=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",R=\"SWFObjectExprInst\",x=\"onreadystatechange\",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,X=!+\"\\v1\",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");ag[0]=parseInt(ab.replace(/^(.*)\\..*$/,\"$1\"),10);ag[1]=parseInt(ab.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0}}else{if(typeof O[(['Active'].concat('Object').join('X'))]!=D){try{var ad=new window[(['Active'].concat('Object').join('X'))](W);if(ad){ab=ad.GetVariable(\"$version\");if(ab){X=true;ab=ab.split(\" \")[1].split(\",\");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState==\"complete\")||(typeof j.readyState==D&&(j.getElementsByTagName(\"body\")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener(\"DOMContentLoaded\",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState==\"complete\"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll(\"left\")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName(\"body\")[0].appendChild(C(\"span\"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener(\"load\",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener(\"load\",Y,false)}else{if(typeof O.attachEvent!=D){i(O,\"onload\",Y)}else{if(typeof O.onload==\"function\"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName(\"body\")[0];var aa=C(r);aa.setAttribute(\"type\",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable(\"$version\");if(ab){ab=ab.split(\" \")[1].split(\",\");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute(\"width\")||\"0\";ai.height=ae.getAttribute(\"height\")||\"0\";if(ae.getAttribute(\"class\")){ai.styleclass=ae.getAttribute(\"class\")}if(ae.getAttribute(\"align\")){ai.align=ae.getAttribute(\"align\")}var ah={};var X=ae.getElementsByTagName(\"param\");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute(\"name\").toLowerCase()!=\"movie\"){ah[X[ad].getAttribute(\"name\")]=X[ad].getAttribute(\"value\")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName==\"OBJECT\"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F(\"6.0.65\")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName==\"OBJECT\"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width=\"310\"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height=\"137\"}j.title=j.title.slice(0,47)+\" - Flash Player Installation\";var ad=M.ie&&M.win?(['Active'].concat('').join('X')):\"PlugIn\",ac=\"MMredirectURL=\"+O.location.toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+ad+\"&MMdoctitle=\"+j.title;if(typeof ab.flashvars!=D){ab.flashvars+=\"&\"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C(\"div\");X+=\"SWFObjectNew\";Y.setAttribute(\"id\",X);ae.parentNode.insertBefore(Y,ae);ae.style.display=\"none\";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C(\"div\");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display=\"none\";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C(\"div\");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName==\"PARAM\")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah=\"\";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()==\"data\"){ag.movie=ai[ae]}else{if(ae.toLowerCase()==\"styleclass\"){ah+=' class=\"'+ai[ae]+'\"'}else{if(ae.toLowerCase()!=\"classid\"){ah+=\" \"+ae+'=\"'+ai[ae]+'\"'}}}}}var af=\"\";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name=\"'+ad+'\" value=\"'+ag[ad]+'\" />'}}aa.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+ah+\">\"+af+\"</object>\";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute(\"type\",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()==\"styleclass\"){Z.setAttribute(\"class\",ai[ac])}else{if(ac.toLowerCase()!=\"classid\"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!=\"movie\"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C(\"param\");aa.setAttribute(\"name\",X);aa.setAttribute(\"value\",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName==\"OBJECT\"){if(M.ie&&M.win){X.style.display=\"none\";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]==\"function\"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(\".\");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName(\"head\")[0];if(!aa){return}var X=(ad&&typeof ad==\"string\")?ad:\"screen\";if(ab){n=null;G=null}if(!n||G!=X){var Z=C(\"style\");Z.setAttribute(\"type\",\"text/css\");Z.setAttribute(\"media\",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+\" {\"+Y+\"}\"))}}}function w(Z,X){if(!m){return}var Y=X?\"visible\":\"hidden\";if(J&&c(Z)){c(Z).style.visibility=Y}else{v(\"#\"+Z,\"visibility:\"+Y)}}function L(Y){var Z=/[\\\\\\\"<>\\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent(\"onunload\",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+=\"\";ag+=\"\";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+=\"&\"+ai+\"=\"+Z[ai]}else{am.flashvars=ai+\"=\"+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\\?/.test(Z)){Z=Z.split(\"?\")[1]}if(aa==null){return L(Z)}var Y=Z.split(\"&\");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf(\"=\"))==aa){return L(Y[X].substring((Y[X].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display=\"block\"}}if(E){E(B)}}a=false}}}}();\n}\n// Copyright: Hiroshi Ichikawa <http://gimite.net/en/>\n// License: New BSD License\n// Reference: http://dev.w3.org/html5/websockets/\n// Reference: http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol\n\n(function() {\n  \n  if ('undefined' == typeof window || window.WebSocket) return;\n\n  var console = window.console;\n  if (!console || !console.log || !console.error) {\n    console = {log: function(){ }, error: function(){ }};\n  }\n  \n  if (!swfobject.hasFlashPlayerVersion(\"10.0.0\")) {\n    console.error(\"Flash Player >= 10.0.0 is required.\");\n    return;\n  }\n  if (location.protocol == \"file:\") {\n    console.error(\n      \"WARNING: web-socket-js doesn't work in file:///... URL \" +\n      \"unless you set Flash Security Settings properly. \" +\n      \"Open the page via Web server i.e. http://...\");\n  }\n\n  /**\n   * This class represents a faux web socket.\n   * @param {string} url\n   * @param {array or string} protocols\n   * @param {string} proxyHost\n   * @param {int} proxyPort\n   * @param {string} headers\n   */\n  WebSocket = function(url, protocols, proxyHost, proxyPort, headers) {\n    var self = this;\n    self.__id = WebSocket.__nextId++;\n    WebSocket.__instances[self.__id] = self;\n    self.readyState = WebSocket.CONNECTING;\n    self.bufferedAmount = 0;\n    self.__events = {};\n    if (!protocols) {\n      protocols = [];\n    } else if (typeof protocols == \"string\") {\n      protocols = [protocols];\n    }\n    // Uses setTimeout() to make sure __createFlash() runs after the caller sets ws.onopen etc.\n    // Otherwise, when onopen fires immediately, onopen is called before it is set.\n    setTimeout(function() {\n      WebSocket.__addTask(function() {\n        WebSocket.__flash.create(\n            self.__id, url, protocols, proxyHost || null, proxyPort || 0, headers || null);\n      });\n    }, 0);\n  };\n\n  /**\n   * Send data to the web socket.\n   * @param {string} data  The data to send to the socket.\n   * @return {boolean}  True for success, false for failure.\n   */\n  WebSocket.prototype.send = function(data) {\n    if (this.readyState == WebSocket.CONNECTING) {\n      throw \"INVALID_STATE_ERR: Web Socket connection has not been established\";\n    }\n    // We use encodeURIComponent() here, because FABridge doesn't work if\n    // the argument includes some characters. We don't use escape() here\n    // because of this:\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Functions#escape_and_unescape_Functions\n    // But it looks decodeURIComponent(encodeURIComponent(s)) doesn't\n    // preserve all Unicode characters either e.g. \"\\uffff\" in Firefox.\n    // Note by wtritch: Hopefully this will not be necessary using ExternalInterface.  Will require\n    // additional testing.\n    var result = WebSocket.__flash.send(this.__id, encodeURIComponent(data));\n    if (result < 0) { // success\n      return true;\n    } else {\n      this.bufferedAmount += result;\n      return false;\n    }\n  };\n\n  /**\n   * Close this web socket gracefully.\n   */\n  WebSocket.prototype.close = function() {\n    if (this.readyState == WebSocket.CLOSED || this.readyState == WebSocket.CLOSING) {\n      return;\n    }\n    this.readyState = WebSocket.CLOSING;\n    WebSocket.__flash.close(this.__id);\n  };\n\n  /**\n   * Implementation of {@link <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration\">DOM 2 EventTarget Interface</a>}\n   *\n   * @param {string} type\n   * @param {function} listener\n   * @param {boolean} useCapture\n   * @return void\n   */\n  WebSocket.prototype.addEventListener = function(type, listener, useCapture) {\n    if (!(type in this.__events)) {\n      this.__events[type] = [];\n    }\n    this.__events[type].push(listener);\n  };\n\n  /**\n   * Implementation of {@link <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration\">DOM 2 EventTarget Interface</a>}\n   *\n   * @param {string} type\n   * @param {function} listener\n   * @param {boolean} useCapture\n   * @return void\n   */\n  WebSocket.prototype.removeEventListener = function(type, listener, useCapture) {\n    if (!(type in this.__events)) return;\n    var events = this.__events[type];\n    for (var i = events.length - 1; i >= 0; --i) {\n      if (events[i] === listener) {\n        events.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  /**\n   * Implementation of {@link <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration\">DOM 2 EventTarget Interface</a>}\n   *\n   * @param {Event} event\n   * @return void\n   */\n  WebSocket.prototype.dispatchEvent = function(event) {\n    var events = this.__events[event.type] || [];\n    for (var i = 0; i < events.length; ++i) {\n      events[i](event);\n    }\n    var handler = this[\"on\" + event.type];\n    if (handler) handler(event);\n  };\n\n  /**\n   * Handles an event from Flash.\n   * @param {Object} flashEvent\n   */\n  WebSocket.prototype.__handleEvent = function(flashEvent) {\n    if (\"readyState\" in flashEvent) {\n      this.readyState = flashEvent.readyState;\n    }\n    if (\"protocol\" in flashEvent) {\n      this.protocol = flashEvent.protocol;\n    }\n    \n    var jsEvent;\n    if (flashEvent.type == \"open\" || flashEvent.type == \"error\") {\n      jsEvent = this.__createSimpleEvent(flashEvent.type);\n    } else if (flashEvent.type == \"close\") {\n      // TODO implement jsEvent.wasClean\n      jsEvent = this.__createSimpleEvent(\"close\");\n    } else if (flashEvent.type == \"message\") {\n      var data = decodeURIComponent(flashEvent.message);\n      jsEvent = this.__createMessageEvent(\"message\", data);\n    } else {\n      throw \"unknown event type: \" + flashEvent.type;\n    }\n    \n    this.dispatchEvent(jsEvent);\n  };\n  \n  WebSocket.prototype.__createSimpleEvent = function(type) {\n    if (document.createEvent && window.Event) {\n      var event = document.createEvent(\"Event\");\n      event.initEvent(type, false, false);\n      return event;\n    } else {\n      return {type: type, bubbles: false, cancelable: false};\n    }\n  };\n  \n  WebSocket.prototype.__createMessageEvent = function(type, data) {\n    if (document.createEvent && window.MessageEvent && !window.opera) {\n      var event = document.createEvent(\"MessageEvent\");\n      event.initMessageEvent(\"message\", false, false, data, null, null, window, null);\n      return event;\n    } else {\n      // IE and Opera, the latter one truncates the data parameter after any 0x00 bytes.\n      return {type: type, data: data, bubbles: false, cancelable: false};\n    }\n  };\n  \n  /**\n   * Define the WebSocket readyState enumeration.\n   */\n  WebSocket.CONNECTING = 0;\n  WebSocket.OPEN = 1;\n  WebSocket.CLOSING = 2;\n  WebSocket.CLOSED = 3;\n\n  WebSocket.__flash = null;\n  WebSocket.__instances = {};\n  WebSocket.__tasks = [];\n  WebSocket.__nextId = 0;\n  \n  /**\n   * Load a new flash security policy file.\n   * @param {string} url\n   */\n  WebSocket.loadFlashPolicyFile = function(url){\n    WebSocket.__addTask(function() {\n      WebSocket.__flash.loadManualPolicyFile(url);\n    });\n  };\n\n  /**\n   * Loads WebSocketMain.swf and creates WebSocketMain object in Flash.\n   */\n  WebSocket.__initialize = function() {\n    if (WebSocket.__flash) return;\n    \n    if (WebSocket.__swfLocation) {\n      // For backword compatibility.\n      window.WEB_SOCKET_SWF_LOCATION = WebSocket.__swfLocation;\n    }\n    if (!window.WEB_SOCKET_SWF_LOCATION) {\n      console.error(\"[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf\");\n      return;\n    }\n    var container = document.createElement(\"div\");\n    container.id = \"webSocketContainer\";\n    // Hides Flash box. We cannot use display: none or visibility: hidden because it prevents\n    // Flash from loading at least in IE. So we move it out of the screen at (-100, -100).\n    // But this even doesn't work with Flash Lite (e.g. in Droid Incredible). So with Flash\n    // Lite, we put it at (0, 0). This shows 1x1 box visible at left-top corner but this is\n    // the best we can do as far as we know now.\n    container.style.position = \"absolute\";\n    if (WebSocket.__isFlashLite()) {\n      container.style.left = \"0px\";\n      container.style.top = \"0px\";\n    } else {\n      container.style.left = \"-100px\";\n      container.style.top = \"-100px\";\n    }\n    var holder = document.createElement(\"div\");\n    holder.id = \"webSocketFlash\";\n    container.appendChild(holder);\n    document.body.appendChild(container);\n    // See this article for hasPriority:\n    // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html\n    swfobject.embedSWF(\n      WEB_SOCKET_SWF_LOCATION,\n      \"webSocketFlash\",\n      \"1\" /* width */,\n      \"1\" /* height */,\n      \"10.0.0\" /* SWF version */,\n      null,\n      null,\n      {hasPriority: true, swliveconnect : true, allowScriptAccess: \"always\"},\n      null,\n      function(e) {\n        if (!e.success) {\n          console.error(\"[WebSocket] swfobject.embedSWF failed\");\n        }\n      });\n  };\n  \n  /**\n   * Called by Flash to notify JS that it's fully loaded and ready\n   * for communication.\n   */\n  WebSocket.__onFlashInitialized = function() {\n    // We need to set a timeout here to avoid round-trip calls\n    // to flash during the initialization process.\n    setTimeout(function() {\n      WebSocket.__flash = document.getElementById(\"webSocketFlash\");\n      WebSocket.__flash.setCallerUrl(location.href);\n      WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);\n      for (var i = 0; i < WebSocket.__tasks.length; ++i) {\n        WebSocket.__tasks[i]();\n      }\n      WebSocket.__tasks = [];\n    }, 0);\n  };\n  \n  /**\n   * Called by Flash to notify WebSockets events are fired.\n   */\n  WebSocket.__onFlashEvent = function() {\n    setTimeout(function() {\n      try {\n        // Gets events using receiveEvents() instead of getting it from event object\n        // of Flash event. This is to make sure to keep message order.\n        // It seems sometimes Flash events don't arrive in the same order as they are sent.\n        var events = WebSocket.__flash.receiveEvents();\n        for (var i = 0; i < events.length; ++i) {\n          WebSocket.__instances[events[i].webSocketId].__handleEvent(events[i]);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }, 0);\n    return true;\n  };\n  \n  // Called by Flash.\n  WebSocket.__log = function(message) {\n    console.log(decodeURIComponent(message));\n  };\n  \n  // Called by Flash.\n  WebSocket.__error = function(message) {\n    console.error(decodeURIComponent(message));\n  };\n  \n  WebSocket.__addTask = function(task) {\n    if (WebSocket.__flash) {\n      task();\n    } else {\n      WebSocket.__tasks.push(task);\n    }\n  };\n  \n  /**\n   * Test if the browser is running flash lite.\n   * @return {boolean} True if flash lite is running, false otherwise.\n   */\n  WebSocket.__isFlashLite = function() {\n    if (!window.navigator || !window.navigator.mimeTypes) {\n      return false;\n    }\n    var mimeType = window.navigator.mimeTypes[\"application/x-shockwave-flash\"];\n    if (!mimeType || !mimeType.enabledPlugin || !mimeType.enabledPlugin.filename) {\n      return false;\n    }\n    return mimeType.enabledPlugin.filename.match(/flashlite/i) ? true : false;\n  };\n  \n  if (!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION) {\n    if (window.addEventListener) {\n      window.addEventListener(\"load\", function(){\n        WebSocket.__initialize();\n      }, false);\n    } else {\n      window.attachEvent(\"onload\", function(){\n        WebSocket.__initialize();\n      });\n    }\n  }\n  \n})();\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   *\n   * @api public\n   */\n\n  exports.XHR = XHR;\n\n  /**\n   * XHR constructor\n   *\n   * @costructor\n   * @api public\n   */\n\n  function XHR (socket) {\n    if (!socket) return;\n\n    io.Transport.apply(this, arguments);\n    this.sendBuffer = [];\n  };\n\n  /**\n   * Inherits from Transport.\n   */\n\n  io.util.inherit(XHR, io.Transport);\n\n  /**\n   * Establish a connection\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  XHR.prototype.open = function () {\n    this.socket.setBuffer(false);\n    this.onOpen();\n    this.get();\n\n    // we need to make sure the request succeeds since we have no indication\n    // whether the request opened or not until it succeeded.\n    this.setCloseTimeout();\n\n    return this;\n  };\n\n  /**\n   * Check if we need to send data to the Socket.IO server, if we have data in our\n   * buffer we encode it and forward it to the `post` method.\n   *\n   * @api private\n   */\n\n  XHR.prototype.payload = function (payload) {\n    var msgs = [];\n\n    for (var i = 0, l = payload.length; i < l; i++) {\n      msgs.push(io.parser.encodePacket(payload[i]));\n    }\n\n    this.send(io.parser.encodePayload(msgs));\n  };\n\n  /**\n   * Send data to the Socket.IO server.\n   *\n   * @param data The message\n   * @returns {Transport}\n   * @api public\n   */\n\n  XHR.prototype.send = function (data) {\n    this.post(data);\n    return this;\n  };\n\n  /**\n   * Posts a encoded message to the Socket.IO server.\n   *\n   * @param {String} data A encoded message.\n   * @api private\n   */\n\n  function empty () { };\n\n  XHR.prototype.post = function (data) {\n    var self = this;\n    this.socket.setBuffer(true);\n\n    function stateChange () {\n      if (this.readyState == 4) {\n        this.onreadystatechange = empty;\n        self.posting = false;\n\n        if (this.status == 200){\n          self.socket.setBuffer(false);\n        } else {\n          self.onClose();\n        }\n      }\n    }\n\n    function onload () {\n      this.onload = empty;\n      self.socket.setBuffer(false);\n    };\n\n    this.sendXHR = this.request('POST');\n\n    if (global.XDomainRequest && this.sendXHR instanceof XDomainRequest) {\n      this.sendXHR.onload = this.sendXHR.onerror = onload;\n    } else {\n      this.sendXHR.onreadystatechange = stateChange;\n    }\n\n    this.sendXHR.send(data);\n  };\n\n  /**\n   * Disconnects the established `XHR` connection.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  XHR.prototype.close = function () {\n    this.onClose();\n    return this;\n  };\n\n  /**\n   * Generates a configured XHR request\n   *\n   * @param {String} url The url that needs to be requested.\n   * @param {String} method The method the request should use.\n   * @returns {XMLHttpRequest}\n   * @api private\n   */\n\n  XHR.prototype.request = function (method) {\n    var req = io.util.request(this.socket.isXDomain())\n      , query = io.util.query(this.socket.options.query, 't=' + +new Date);\n\n    req.open(method || 'GET', this.prepareUrl() + query, true);\n\n    if (method == 'POST') {\n      try {\n        if (req.setRequestHeader) {\n          req.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        } else {\n          // XDomainRequest\n          req.contentType = 'text/plain';\n        }\n      } catch (e) {}\n    }\n\n    return req;\n  };\n\n  /**\n   * Returns the scheme to use for the transport URLs.\n   *\n   * @api private\n   */\n\n  XHR.prototype.scheme = function () {\n    return this.socket.options.secure ? 'https' : 'http';\n  };\n\n  /**\n   * Check if the XHR transports are supported\n   *\n   * @param {Boolean} xdomain Check if we support cross domain requests.\n   * @returns {Boolean}\n   * @api public\n   */\n\n  XHR.check = function (socket, xdomain) {\n    try {\n      var request = io.util.request(xdomain),\n          usesXDomReq = (global.XDomainRequest && request instanceof XDomainRequest),\n          socketProtocol = (socket && socket.options && socket.options.secure ? 'https:' : 'http:'),\n          isXProtocol = (global.location && socketProtocol != global.location.protocol);\n      if (request && !(usesXDomReq && isXProtocol)) {\n        return true;\n      }\n    } catch(e) {}\n\n    return false;\n  };\n\n  /**\n   * Check if the XHR transport supports cross domain requests.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  XHR.xdomainCheck = function (socket) {\n    return XHR.check(socket, true);\n  };\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.htmlfile = HTMLFile;\n\n  /**\n   * The HTMLFile transport creates a `forever iframe` based transport\n   * for Internet Explorer. Regular forever iframe implementations will \n   * continuously trigger the browsers buzy indicators. If the forever iframe\n   * is created inside a `htmlfile` these indicators will not be trigged.\n   *\n   * @constructor\n   * @extends {io.Transport.XHR}\n   * @api public\n   */\n\n  function HTMLFile (socket) {\n    io.Transport.XHR.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from XHR transport.\n   */\n\n  io.util.inherit(HTMLFile, io.Transport.XHR);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  HTMLFile.prototype.name = 'htmlfile';\n\n  /**\n   * Creates a new Ac...eX `htmlfile` with a forever loading iframe\n   * that can be used to listen to messages. Inside the generated\n   * `htmlfile` a reference will be made to the HTMLFile transport.\n   *\n   * @api private\n   */\n\n  HTMLFile.prototype.get = function () {\n    this.doc = new window[(['Active'].concat('Object').join('X'))]('htmlfile');\n    this.doc.open();\n    this.doc.write('<html></html>');\n    this.doc.close();\n    this.doc.parentWindow.s = this;\n\n    var iframeC = this.doc.createElement('div');\n    iframeC.className = 'socketio';\n\n    this.doc.body.appendChild(iframeC);\n    this.iframe = this.doc.createElement('iframe');\n\n    iframeC.appendChild(this.iframe);\n\n    var self = this\n      , query = io.util.query(this.socket.options.query, 't='+ +new Date);\n\n    this.iframe.src = this.prepareUrl() + query;\n\n    io.util.on(window, 'unload', function () {\n      self.destroy();\n    });\n  };\n\n  /**\n   * The Socket.IO server will write script tags inside the forever\n   * iframe, this function will be used as callback for the incoming\n   * information.\n   *\n   * @param {String} data The message\n   * @param {document} doc Reference to the context\n   * @api private\n   */\n\n  HTMLFile.prototype._ = function (data, doc) {\n    // unescape all forward slashes. see GH-1251\n    data = data.replace(/\\\\\\//g, '/');\n    this.onData(data);\n    try {\n      var script = doc.getElementsByTagName('script')[0];\n      script.parentNode.removeChild(script);\n    } catch (e) { }\n  };\n\n  /**\n   * Destroy the established connection, iframe and `htmlfile`.\n   * And calls the `CollectGarbage` function of Internet Explorer\n   * to release the memory.\n   *\n   * @api private\n   */\n\n  HTMLFile.prototype.destroy = function () {\n    if (this.iframe){\n      try {\n        this.iframe.src = 'about:blank';\n      } catch(e){}\n\n      this.doc = null;\n      this.iframe.parentNode.removeChild(this.iframe);\n      this.iframe = null;\n\n      CollectGarbage();\n    }\n  };\n\n  /**\n   * Disconnects the established connection.\n   *\n   * @returns {Transport} Chaining.\n   * @api public\n   */\n\n  HTMLFile.prototype.close = function () {\n    this.destroy();\n    return io.Transport.XHR.prototype.close.call(this);\n  };\n\n  /**\n   * Checks if the browser supports this transport. The browser\n   * must have an `Ac...eXObject` implementation.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  HTMLFile.check = function (socket) {\n    if (typeof window != \"undefined\" && (['Active'].concat('Object').join('X')) in window){\n      try {\n        var a = new window[(['Active'].concat('Object').join('X'))]('htmlfile');\n        return a && io.Transport.XHR.check(socket);\n      } catch(e){}\n    }\n    return false;\n  };\n\n  /**\n   * Check if cross domain requests are supported.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  HTMLFile.xdomainCheck = function () {\n    // we can probably do handling for sub-domains, we should\n    // test that it's cross domain but a subdomain here\n    return false;\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('htmlfile');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports['xhr-polling'] = XHRPolling;\n\n  /**\n   * The XHR-polling transport uses long polling XHR requests to create a\n   * \"persistent\" connection with the server.\n   *\n   * @constructor\n   * @api public\n   */\n\n  function XHRPolling () {\n    io.Transport.XHR.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from XHR transport.\n   */\n\n  io.util.inherit(XHRPolling, io.Transport.XHR);\n\n  /**\n   * Merge the properties from XHR transport\n   */\n\n  io.util.merge(XHRPolling, io.Transport.XHR);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  XHRPolling.prototype.name = 'xhr-polling';\n\n  /**\n   * Indicates whether heartbeats is enabled for this transport\n   *\n   * @api private\n   */\n\n  XHRPolling.prototype.heartbeats = function () {\n    return false;\n  };\n\n  /** \n   * Establish a connection, for iPhone and Android this will be done once the page\n   * is loaded.\n   *\n   * @returns {Transport} Chaining.\n   * @api public\n   */\n\n  XHRPolling.prototype.open = function () {\n    var self = this;\n\n    io.Transport.XHR.prototype.open.call(self);\n    return false;\n  };\n\n  /**\n   * Starts a XHR request to wait for incoming messages.\n   *\n   * @api private\n   */\n\n  function empty () {};\n\n  XHRPolling.prototype.get = function () {\n    if (!this.isOpen) return;\n\n    var self = this;\n\n    function stateChange () {\n      if (this.readyState == 4) {\n        this.onreadystatechange = empty;\n\n        if (this.status == 200) {\n          self.onData(this.responseText);\n          self.get();\n        } else {\n          self.onClose();\n        }\n      }\n    };\n\n    function onload () {\n      this.onload = empty;\n      this.onerror = empty;\n      self.retryCounter = 1;\n      self.onData(this.responseText);\n      self.get();\n    };\n\n    function onerror () {\n      self.retryCounter ++;\n      if(!self.retryCounter || self.retryCounter > 3) {\n        self.onClose();  \n      } else {\n        self.get();\n      }\n    };\n\n    this.xhr = this.request();\n\n    if (global.XDomainRequest && this.xhr instanceof XDomainRequest) {\n      this.xhr.onload = onload;\n      this.xhr.onerror = onerror;\n    } else {\n      this.xhr.onreadystatechange = stateChange;\n    }\n\n    this.xhr.send(null);\n  };\n\n  /**\n   * Handle the unclean close behavior.\n   *\n   * @api private\n   */\n\n  XHRPolling.prototype.onClose = function () {\n    io.Transport.XHR.prototype.onClose.call(this);\n\n    if (this.xhr) {\n      this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = empty;\n      try {\n        this.xhr.abort();\n      } catch(e){}\n      this.xhr = null;\n    }\n  };\n\n  /**\n   * Webkit based browsers show a infinit spinner when you start a XHR request\n   * before the browsers onload event is called so we need to defer opening of\n   * the transport until the onload event is called. Wrapping the cb in our\n   * defer method solve this.\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  XHRPolling.prototype.ready = function (socket, fn) {\n    var self = this;\n\n    io.util.defer(function () {\n      fn.call(self);\n    });\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('xhr-polling');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n  /**\n   * There is a way to hide the loading indicator in Firefox. If you create and\n   * remove a iframe it will stop showing the current loading indicator.\n   * Unfortunately we can't feature detect that and UA sniffing is evil.\n   *\n   * @api private\n   */\n\n  var indicator = global.document && \"MozAppearance\" in\n    global.document.documentElement.style;\n\n  /**\n   * Expose constructor.\n   */\n\n  exports['jsonp-polling'] = JSONPPolling;\n\n  /**\n   * The JSONP transport creates an persistent connection by dynamically\n   * inserting a script tag in the page. This script tag will receive the\n   * information of the Socket.IO server. When new information is received\n   * it creates a new script tag for the new data stream.\n   *\n   * @constructor\n   * @extends {io.Transport.xhr-polling}\n   * @api public\n   */\n\n  function JSONPPolling (socket) {\n    io.Transport['xhr-polling'].apply(this, arguments);\n\n    this.index = io.j.length;\n\n    var self = this;\n\n    io.j.push(function (msg) {\n      self._(msg);\n    });\n  };\n\n  /**\n   * Inherits from XHR polling transport.\n   */\n\n  io.util.inherit(JSONPPolling, io.Transport['xhr-polling']);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  JSONPPolling.prototype.name = 'jsonp-polling';\n\n  /**\n   * Posts a encoded message to the Socket.IO server using an iframe.\n   * The iframe is used because script tags can create POST based requests.\n   * The iframe is positioned outside of the view so the user does not\n   * notice it's existence.\n   *\n   * @param {String} data A encoded message.\n   * @api private\n   */\n\n  JSONPPolling.prototype.post = function (data) {\n    var self = this\n      , query = io.util.query(\n             this.socket.options.query\n          , 't='+ (+new Date) + '&i=' + this.index\n        );\n\n    if (!this.form) {\n      var form = document.createElement('form')\n        , area = document.createElement('textarea')\n        , id = this.iframeId = 'socketio_iframe_' + this.index\n        , iframe;\n\n      form.className = 'socketio';\n      form.style.position = 'absolute';\n      form.style.top = '0px';\n      form.style.left = '0px';\n      form.style.display = 'none';\n      form.target = id;\n      form.method = 'POST';\n      form.setAttribute('accept-charset', 'utf-8');\n      area.name = 'd';\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.prepareUrl() + query;\n\n    function complete () {\n      initIframe();\n      self.socket.setBuffer(false);\n    };\n\n    function initIframe () {\n      if (self.iframe) {\n        self.form.removeChild(self.iframe);\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        iframe = document.createElement('<iframe name=\"'+ self.iframeId +'\">');\n      } catch (e) {\n        iframe = document.createElement('iframe');\n        iframe.name = self.iframeId;\n      }\n\n      iframe.id = self.iframeId;\n\n      self.form.appendChild(iframe);\n      self.iframe = iframe;\n    };\n\n    initIframe();\n\n    // we temporarily stringify until we figure out how to prevent\n    // browsers from turning `\\n` into `\\r\\n` in form inputs\n    this.area.value = io.JSON.stringify(data);\n\n    try {\n      this.form.submit();\n    } catch(e) {}\n\n    if (this.iframe.attachEvent) {\n      iframe.onreadystatechange = function () {\n        if (self.iframe.readyState == 'complete') {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n\n    this.socket.setBuffer(true);\n  };\n\n  /**\n   * Creates a new JSONP poll that can be used to listen\n   * for messages from the Socket.IO server.\n   *\n   * @api private\n   */\n\n  JSONPPolling.prototype.get = function () {\n    var self = this\n      , script = document.createElement('script')\n      , query = io.util.query(\n             this.socket.options.query\n          , 't='+ (+new Date) + '&i=' + this.index\n        );\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.prepareUrl() + query;\n    script.onerror = function () {\n      self.onClose();\n    };\n\n    var insertAt = document.getElementsByTagName('script')[0];\n    insertAt.parentNode.insertBefore(script, insertAt);\n    this.script = script;\n\n    if (indicator) {\n      setTimeout(function () {\n        var iframe = document.createElement('iframe');\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  };\n\n  /**\n   * Callback function for the incoming message stream from the Socket.IO server.\n   *\n   * @param {String} data The message\n   * @api private\n   */\n\n  JSONPPolling.prototype._ = function (msg) {\n    this.onData(msg);\n    if (this.isOpen) {\n      this.get();\n    }\n    return this;\n  };\n\n  /**\n   * The indicator hack only works after onload\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  JSONPPolling.prototype.ready = function (socket, fn) {\n    var self = this;\n    if (!indicator) return fn.call(this);\n\n    io.util.load(function () {\n      fn.call(self);\n    });\n  };\n\n  /**\n   * Checks if browser supports this transport.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  JSONPPolling.check = function () {\n    return 'document' in global;\n  };\n\n  /**\n   * Check if cross domain requests are supported\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  JSONPPolling.xdomainCheck = function () {\n    return true;\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('jsonp-polling');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n\nif (typeof define === \"function\" && define.amd) {\n  define([], function () { return io; });\n}\n})();\n},{}],43:[function(require,module,exports){\n// created by @HenrikJoreteg\nvar prefix;\nvar version;\n\nif (window.mozRTCPeerConnection || navigator.mozGetUserMedia) {\n    prefix = 'moz';\n    version = parseInt(navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1], 10);\n} else if (window.webkitRTCPeerConnection || navigator.webkitGetUserMedia) {\n    prefix = 'webkit';\n    version = navigator.userAgent.match(/Chrom(e|ium)/) && parseInt(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)[2], 10);\n}\n\nvar PC = window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\nvar IceCandidate = window.mozRTCIceCandidate || window.RTCIceCandidate;\nvar SessionDescription = window.mozRTCSessionDescription || window.RTCSessionDescription;\nvar MediaStream = window.webkitMediaStream || window.MediaStream;\nvar screenSharing = window.location.protocol === 'https:' &&\n    ((prefix === 'webkit' && version >= 26) ||\n     (prefix === 'moz' && version >= 33))\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\nvar videoEl = document.createElement('video');\nvar supportVp8 = videoEl && videoEl.canPlayType && videoEl.canPlayType('video/webm; codecs=\"vp8\", vorbis') === \"probably\";\nvar getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia;\n\n// export support flags and constructors.prototype && PC\nmodule.exports = {\n    prefix: prefix,\n    browserVersion: version,\n    support: !!PC && supportVp8 && !!getUserMedia,\n    // new support style\n    supportRTCPeerConnection: !!PC,\n    supportVp8: supportVp8,\n    supportGetUserMedia: !!getUserMedia,\n    supportDataChannel: !!(PC && PC.prototype && PC.prototype.createDataChannel),\n    supportWebAudio: !!(AudioContext && AudioContext.prototype.createMediaStreamSource),\n    supportMediaStream: !!(MediaStream && MediaStream.prototype.removeTrack),\n    supportScreenSharing: !!screenSharing,\n    // old deprecated style. Dont use this anymore\n    dataChannel: !!(PC && PC.prototype && PC.prototype.createDataChannel),\n    webAudio: !!(AudioContext && AudioContext.prototype.createMediaStreamSource),\n    mediaStream: !!(MediaStream && MediaStream.prototype.removeTrack),\n    screenSharing: !!screenSharing,\n    // constructors\n    AudioContext: AudioContext,\n    PeerConnection: PC,\n    SessionDescription: SessionDescription,\n    IceCandidate: IceCandidate,\n    MediaStream: MediaStream,\n    getUserMedia: getUserMedia\n};\n\n},{}],44:[function(require,module,exports){\n/*\r\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\r\non @visionmedia's Emitter from UI Kit.\r\n\r\nWhy? I wanted it standalone.\r\n\r\nI also wanted support for wildcard emitters like this:\r\n\r\nemitter.on('*', function (eventName, other, event, payloads) {\r\n\r\n});\r\n\r\nemitter.on('somenamespace*', function (eventName, payloads) {\r\n\r\n});\r\n\r\nPlease note that callbacks triggered by wildcard registered events also get\r\nthe event name as the first argument.\r\n*/\r\n\r\nmodule.exports = WildEmitter;\r\n\r\nfunction WildEmitter() { }\r\n\r\nWildEmitter.mixin = function (constructor) {\r\n    var prototype = constructor.prototype || constructor;\r\n\r\n    prototype.isWildEmitter= true;\r\n\r\n    // Listen on the given `event` with `fn`. Store a group name if present.\r\n    prototype.on = function (event, groupName, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        func._groupName = group;\r\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\r\n        return this;\r\n    };\r\n\r\n    // Adds an `event` listener that will be invoked a single\r\n    // time then automatically removed.\r\n    prototype.once = function (event, groupName, fn) {\r\n        var self = this,\r\n            hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        function on() {\r\n            self.off(event, on);\r\n            func.apply(this, arguments);\r\n        }\r\n        this.on(event, group, on);\r\n        return this;\r\n    };\r\n\r\n    // Unbinds an entire group\r\n    prototype.releaseGroup = function (groupName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item, i, len, handlers;\r\n        for (item in this.callbacks) {\r\n            handlers = this.callbacks[item];\r\n            for (i = 0, len = handlers.length; i < len; i++) {\r\n                if (handlers[i]._groupName === groupName) {\r\n                    //console.log('removing');\r\n                    // remove it and shorten the array we're looping through\r\n                    handlers.splice(i, 1);\r\n                    i--;\r\n                    len--;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Remove the given callback for `event` or all\r\n    // registered callbacks.\r\n    prototype.off = function (event, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var callbacks = this.callbacks[event],\r\n            i;\r\n\r\n        if (!callbacks) return this;\r\n\r\n        // remove all handlers\r\n        if (arguments.length === 1) {\r\n            delete this.callbacks[event];\r\n            return this;\r\n        }\r\n\r\n        // remove specific handler\r\n        i = callbacks.indexOf(fn);\r\n        callbacks.splice(i, 1);\r\n        if (callbacks.length === 0) {\r\n            delete this.callbacks[event];\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /// Emit `event` with the given args.\r\n    // also calls any `*` handlers\r\n    prototype.emit = function (event) {\r\n        this.callbacks = this.callbacks || {};\r\n        var args = [].slice.call(arguments, 1),\r\n            callbacks = this.callbacks[event],\r\n            specialCallbacks = this.getWildcardCallbacks(event),\r\n            i,\r\n            len,\r\n            item,\r\n            listeners;\r\n\r\n        if (callbacks) {\r\n            listeners = callbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, args);\r\n            }\r\n        }\r\n\r\n        if (specialCallbacks) {\r\n            len = specialCallbacks.length;\r\n            listeners = specialCallbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, [event].concat(args));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Helper for for finding special wildcard event handlers that match the event\r\n    prototype.getWildcardCallbacks = function (eventName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item,\r\n            split,\r\n            result = [];\r\n\r\n        for (item in this.callbacks) {\r\n            split = item.split('*');\r\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\r\n                result = result.concat(this.callbacks[item]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n};\r\n\r\nWildEmitter.mixin(WildEmitter);\r\n\n},{}],45:[function(require,module,exports){\nvar util = require('util');\nvar webrtc = require('webrtcsupport');\nvar PeerConnection = require('rtcpeerconnection');\nvar WildEmitter = require('wildemitter');\nvar FileTransfer = require('filetransfer');\n\n// the inband-v1 protocol is sending metadata inband in a serialized JSON object\n// followed by the actual data. Receiver closes the datachannel upon completion\nvar INBAND_FILETRANSFER_V1 = 'https://simplewebrtc.com/protocol/filetransfer#inband-v1';\n\nfunction Peer(options) {\n    var self = this;\n\n    // call emitter constructor\n    WildEmitter.call(this);\n\n    this.id = options.id;\n    this.parent = options.parent;\n    this.type = options.type || 'video';\n    this.oneway = options.oneway || false;\n    this.sharemyscreen = options.sharemyscreen || false;\n    this.browserPrefix = options.prefix;\n    this.stream = options.stream;\n    this.enableDataChannels = options.enableDataChannels === undefined ? this.parent.config.enableDataChannels : options.enableDataChannels;\n    this.receiveMedia = options.receiveMedia || this.parent.config.receiveMedia;\n    this.channels = {};\n    this.sid = options.sid || Date.now().toString();\n    // Create an RTCPeerConnection via the polyfill\n    this.pc = new PeerConnection(this.parent.config.peerConnectionConfig, this.parent.config.peerConnectionConstraints);\n    this.pc.on('ice', this.onIceCandidate.bind(this));\n    this.pc.on('offer', function (offer) {\n        if (self.parent.config.nick) offer.nick = self.parent.config.nick;\n        self.send('offer', offer);\n    });\n    this.pc.on('answer', function (answer) {\n        if (self.parent.config.nick) answer.nick = self.parent.config.nick;\n        self.send('answer', answer);\n    });\n    this.pc.on('addStream', this.handleRemoteStreamAdded.bind(this));\n    this.pc.on('addChannel', this.handleDataChannelAdded.bind(this));\n    this.pc.on('removeStream', this.handleStreamRemoved.bind(this));\n    // Just fire negotiation needed events for now\n    // When browser re-negotiation handling seems to work\n    // we can use this as the trigger for starting the offer/answer process\n    // automatically. We'll just leave it be for now while this stabalizes.\n    this.pc.on('negotiationNeeded', this.emit.bind(this, 'negotiationNeeded'));\n    this.pc.on('iceConnectionStateChange', this.emit.bind(this, 'iceConnectionStateChange'));\n    this.pc.on('iceConnectionStateChange', function () {\n        switch (self.pc.iceConnectionState) {\n        case 'failed':\n            // currently, in chrome only the initiator goes to failed\n            // so we need to signal this to the peer\n            if (self.pc.pc.peerconnection.localDescription.type === 'offer') {\n                self.parent.emit('iceFailed', self);\n                self.send('connectivityError');\n            }\n            break;\n        }\n    });\n    this.pc.on('signalingStateChange', this.emit.bind(this, 'signalingStateChange'));\n    this.logger = this.parent.logger;\n\n    // handle screensharing/broadcast mode\n    if (options.type === 'screen') {\n        if (this.parent.localScreen && this.sharemyscreen) {\n            this.logger.log('adding local screen stream to peer connection');\n            this.pc.addStream(this.parent.localScreen);\n            this.broadcaster = options.broadcaster;\n        }\n    } else {\n        this.parent.localStreams.forEach(function (stream) {\n            self.pc.addStream(stream);\n        });\n    }\n\n    this.on('channelOpen', function (channel) {\n        if (channel.protocol === INBAND_FILETRANSFER_V1) {\n            channel.onmessage = function (event) {\n                var metadata = JSON.parse(event.data);\n                var receiver = new FileTransfer.Receiver();\n                receiver.receive(metadata, channel);\n                self.emit('fileTransfer', metadata, receiver);\n                receiver.on('receivedFile', function (file, metadata) {\n                    receiver.channel.close();\n                });\n            };\n        }\n    });\n\n    // proxy events to parent\n    this.on('*', function () {\n        self.parent.emit.apply(self.parent, arguments);\n    });\n}\n\nutil.inherits(Peer, WildEmitter);\n\nPeer.prototype.handleMessage = function (message) {\n    var self = this;\n\n    this.logger.log('getting', message.type, message);\n\n    if (message.prefix) this.browserPrefix = message.prefix;\n\n    if (message.type === 'offer') {\n        if (!this.nick) this.nick = message.payload.nick;\n        delete message.payload.nick;\n        // workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1064247\n        message.payload.sdp = message.payload.sdp.replace('a=fmtp:0 profile-level-id=0x42e00c;packetization-mode=1\\r\\n', '');\n        this.pc.handleOffer(message.payload, function (err) {\n            if (err) {\n                return;\n            }\n            // auto-accept\n            self.pc.answer(self.receiveMedia, function (err, sessionDescription) {\n                //self.send('answer', sessionDescription);\n            });\n        });\n    } else if (message.type === 'answer') {\n        if (!this.nick) this.nick = message.payload.nick;\n        delete message.payload.nick;\n        this.pc.handleAnswer(message.payload);\n    } else if (message.type === 'candidate') {\n        this.pc.processIce(message.payload);\n    } else if (message.type === 'connectivityError') {\n        this.parent.emit('connectivityError', self);\n    } else if (message.type === 'mute') {\n        this.parent.emit('mute', {id: message.from, name: message.payload.name});\n    } else if (message.type === 'unmute') {\n        this.parent.emit('unmute', {id: message.from, name: message.payload.name});\n    }\n};\n\n// send via signalling channel\nPeer.prototype.send = function (messageType, payload) {\n    var message = {\n        to: this.id,\n        sid: this.sid,\n        broadcaster: this.broadcaster,\n        roomType: this.type,\n        type: messageType,\n        payload: payload,\n        prefix: webrtc.prefix\n    };\n    this.logger.log('sending', messageType, message);\n    this.parent.emit('message', message);\n};\n\n// send via data channel\n// returns true when message was sent and false if channel is not open\nPeer.prototype.sendDirectly = function (channel, messageType, payload) {\n    var message = {\n        type: messageType,\n        payload: payload\n    };\n    this.logger.log('sending via datachannel', channel, messageType, message);\n    var dc = this.getDataChannel(channel);\n    if (dc.readyState != 'open') return false;\n    dc.send(JSON.stringify(message));\n    return true;\n};\n\n// Internal method registering handlers for a data channel and emitting events on the peer\nPeer.prototype._observeDataChannel = function (channel) {\n    var self = this;\n    channel.onclose = this.emit.bind(this, 'channelClose', channel);\n    channel.onerror = this.emit.bind(this, 'channelError', channel);\n    channel.onmessage = function (event) {\n        self.emit('channelMessage', self, channel.label, JSON.parse(event.data), channel, event);\n    };\n    channel.onopen = this.emit.bind(this, 'channelOpen', channel);\n};\n\n// Fetch or create a data channel by the given name\nPeer.prototype.getDataChannel = function (name, opts) {\n    if (!webrtc.supportDataChannel) return this.emit('error', new Error('createDataChannel not supported'));\n    var channel = this.channels[name];\n    opts || (opts = {});\n    if (channel) return channel;\n    // if we don't have one by this label, create it\n    channel = this.channels[name] = this.pc.createDataChannel(name, opts);\n    this._observeDataChannel(channel);\n    return channel;\n};\n\nPeer.prototype.onIceCandidate = function (candidate) {\n    if (this.closed) return;\n    if (candidate) {\n        var pcConfig = this.parent.config.peerConnectionConfig;\n        if (webrtc.prefix === 'moz' && pcConfig && pcConfig.iceTransports &&\n                candidate.candidate && candidate.candidate.candidate &&\n                candidate.candidate.candidate.indexOf(pcConfig.iceTransports) < 0) {\n            this.logger.log('Ignoring ice candidate not matching pcConfig iceTransports type: ', pcConfig.iceTransports);\n        } else {\n            this.send('candidate', candidate);\n        }\n    } else {\n        this.logger.log(\"End of candidates.\");\n    }\n};\n\nPeer.prototype.start = function () {\n    var self = this;\n\n    // well, the webrtc api requires that we either\n    // a) create a datachannel a priori\n    // b) do a renegotiation later to add the SCTP m-line\n    // Let's do (a) first...\n    if (this.enableDataChannels) {\n        this.getDataChannel('simplewebrtc');\n    }\n\n    this.pc.offer(this.receiveMedia, function (err, sessionDescription) {\n        //self.send('offer', sessionDescription);\n    });\n};\n\nPeer.prototype.icerestart = function () {\n    var constraints = this.receiveMedia;\n    constraints.mandatory.IceRestart = true;\n    this.pc.offer(constraints, function (err, success) { });\n};\n\nPeer.prototype.end = function () {\n    if (this.closed) return;\n    this.pc.close();\n    this.handleStreamRemoved();\n};\n\nPeer.prototype.handleRemoteStreamAdded = function (event) {\n    var self = this;\n    if (this.stream) {\n        this.logger.warn('Already have a remote stream');\n    } else {\n        this.stream = event.stream;\n        // FIXME: addEventListener('ended', ...) would be nicer\n        // but does not work in firefox\n        this.stream.onended = function () {\n            self.end();\n        };\n        this.parent.emit('peerStreamAdded', this);\n    }\n};\n\nPeer.prototype.handleStreamRemoved = function () {\n    this.parent.peers.splice(this.parent.peers.indexOf(this), 1);\n    this.closed = true;\n    this.parent.emit('peerStreamRemoved', this);\n};\n\nPeer.prototype.handleDataChannelAdded = function (channel) {\n    this.channels[channel.label] = channel;\n    this._observeDataChannel(channel);\n};\n\nPeer.prototype.sendFile = function (file) {\n    var sender = new FileTransfer.Sender();\n    var dc = this.getDataChannel('filetransfer' + (new Date()).getTime(), {\n        protocol: INBAND_FILETRANSFER_V1\n    });\n    // override onopen\n    dc.onopen = function () {\n        dc.send(JSON.stringify({\n            size: file.size,\n            name: file.name\n        }));\n        sender.send(file, dc);\n    };\n    // override onclose\n    dc.onclose = function () {\n        console.log('sender received transfer');\n        sender.emit('complete');\n    };\n    return sender;\n};\n\nmodule.exports = Peer;\n\n},{\"filetransfer\":2,\"rtcpeerconnection\":41,\"util\":53,\"webrtcsupport\":43,\"wildemitter\":44}],46:[function(require,module,exports){\nvar WebRTC = require('./webrtc');\nvar WildEmitter = require('wildemitter');\nvar webrtcSupport = require('webrtcsupport');\nvar attachMediaStream = require('attachmediastream');\nvar mockconsole = require('mockconsole');\nvar SocketIoConnection = require('./socketioconnection');\n\nfunction SimpleWebRTC(opts) {\n    var self = this;\n    var options = opts || {};\n    var config = this.config = {\n            url: 'https://signaling.simplewebrtc.com:443/',\n            socketio: {/* 'force new connection':true*/},\n            connection: null,\n            debug: false,\n            localVideoEl: '',\n            remoteVideosEl: '',\n            enableDataChannels: true,\n            autoRequestMedia: false,\n            autoRemoveVideos: true,\n            adjustPeerVolume: true,\n            peerVolumeWhenSpeaking: 0.25,\n            media: {\n                video: true,\n                audio: true\n            },\n            receiveMedia: { // FIXME: remove old chrome <= 37 constraints format\n                mandatory: {\n                    OfferToReceiveAudio: true,\n                    OfferToReceiveVideo: true\n                }\n            },\n            localVideo: {\n                autoplay: true,\n                mirror: true,\n                muted: true\n            }\n        };\n    var item, connection;\n\n    // We also allow a 'logger' option. It can be any object that implements\n    // log, warn, and error methods.\n    // We log nothing by default, following \"the rule of silence\":\n    // http://www.linfo.org/rule_of_silence.html\n    this.logger = function () {\n        // we assume that if you're in debug mode and you didn't\n        // pass in a logger, you actually want to log as much as\n        // possible.\n        if (opts.debug) {\n            return opts.logger || console;\n        } else {\n        // or we'll use your logger which should have its own logic\n        // for output. Or we'll return the no-op.\n            return opts.logger || mockconsole;\n        }\n    }();\n\n    // set our config from options\n    for (item in options) {\n        this.config[item] = options[item];\n    }\n\n    // attach detected support for convenience\n    this.capabilities = webrtcSupport;\n\n    // call WildEmitter constructor\n    WildEmitter.call(this);\n\n    // create default SocketIoConnection if it's not passed in\n    if (this.config.connection === null) {\n        connection = this.connection = new SocketIoConnection(this.config);\n    } else {\n        connection = this.connection = this.config.connection;\n    }\n\n    connection.on('connect', function () {\n        self.emit('connectionReady', connection.getSessionid());\n        self.sessionReady = true;\n        self.testReadiness();\n    });\n\n    connection.on('message', function (message) {\n        var peers = self.webrtc.getPeers(message.from, message.roomType);\n        var peer;\n\n        if (message.type === 'offer') {\n            if (peers.length) {\n                peers.forEach(function (p) {\n                    if (p.sid == message.sid) peer = p;\n                });\n                //if (!peer) peer = peers[0]; // fallback for old protocol versions\n            }\n            if (!peer) {\n                peer = self.webrtc.createPeer({\n                    id: message.from,\n                    sid: message.sid,\n                    type: message.roomType,\n                    enableDataChannels: self.config.enableDataChannels && message.roomType !== 'screen',\n                    sharemyscreen: message.roomType === 'screen' && !message.broadcaster,\n                    broadcaster: message.roomType === 'screen' && !message.broadcaster ? self.connection.getSessionid() : null\n                });\n                self.emit('createdPeer', peer);\n            }\n            peer.handleMessage(message);\n        } else if (peers.length) {\n            peers.forEach(function (peer) {\n                if (message.sid) {\n                    if (peer.sid === message.sid) {\n                        peer.handleMessage(message);\n                    }\n                } else {\n                    peer.handleMessage(message);\n                }\n            });\n        }\n    });\n\n    connection.on('remove', function (room) {\n        if (room.id !== self.connection.getSessionid()) {\n            self.webrtc.removePeers(room.id, room.type);\n        }\n    });\n\n    // instantiate our main WebRTC helper\n    // using same logger from logic here\n    opts.logger = this.logger;\n    opts.debug = false;\n    this.webrtc = new WebRTC(opts);\n\n    // attach a few methods from underlying lib to simple.\n    ['mute', 'unmute', 'pauseVideo', 'resumeVideo', 'pause', 'resume', 'sendToAll', 'sendDirectlyToAll', 'getPeers'].forEach(function (method) {\n        self[method] = self.webrtc[method].bind(self.webrtc);\n    });\n\n    // proxy events from WebRTC\n    this.webrtc.on('*', function () {\n        self.emit.apply(self, arguments);\n    });\n\n    // log all events in debug mode\n    if (config.debug) {\n        this.on('*', this.logger.log.bind(this.logger, 'SimpleWebRTC event:'));\n    }\n\n    // check for readiness\n    this.webrtc.on('localStream', function () {\n        self.testReadiness();\n    });\n\n    this.webrtc.on('message', function (payload) {\n        self.connection.emit('message', payload);\n    });\n\n    this.webrtc.on('peerStreamAdded', this.handlePeerStreamAdded.bind(this));\n    this.webrtc.on('peerStreamRemoved', this.handlePeerStreamRemoved.bind(this));\n\n    // echo cancellation attempts\n    if (this.config.adjustPeerVolume) {\n        this.webrtc.on('speaking', this.setVolumeForAll.bind(this, this.config.peerVolumeWhenSpeaking));\n        this.webrtc.on('stoppedSpeaking', this.setVolumeForAll.bind(this, 1));\n    }\n\n    connection.on('stunservers', function (args) {\n        // resets/overrides the config\n        self.webrtc.config.peerConnectionConfig.iceServers = args;\n        self.emit('stunservers', args);\n    });\n    connection.on('turnservers', function (args) {\n        // appends to the config\n        self.webrtc.config.peerConnectionConfig.iceServers = self.webrtc.config.peerConnectionConfig.iceServers.concat(args);\n        self.emit('turnservers', args);\n    });\n\n    this.webrtc.on('iceFailed', function (peer) {\n        // local ice failure\n    });\n    this.webrtc.on('connectivityError', function (peer) {\n        // remote ice failure\n    });\n\n\n    // sending mute/unmute to all peers\n    this.webrtc.on('audioOn', function () {\n        self.webrtc.sendToAll('unmute', {name: 'audio'});\n    });\n    this.webrtc.on('audioOff', function () {\n        self.webrtc.sendToAll('mute', {name: 'audio'});\n    });\n    this.webrtc.on('videoOn', function () {\n        self.webrtc.sendToAll('unmute', {name: 'video'});\n    });\n    this.webrtc.on('videoOff', function () {\n        self.webrtc.sendToAll('mute', {name: 'video'});\n    });\n\n    // screensharing events\n    this.webrtc.on('localScreen', function (stream) {\n        var item,\n            el = document.createElement('video'),\n            container = self.getRemoteVideoContainer();\n\n        el.oncontextmenu = function () { return false; };\n        el.id = 'localScreen';\n        attachMediaStream(stream, el);\n        if (container) {\n            container.appendChild(el);\n        }\n\n        self.emit('localScreenAdded', el);\n        self.connection.emit('shareScreen');\n\n        self.webrtc.peers.forEach(function (existingPeer) {\n            var peer;\n            if (existingPeer.type === 'video') {\n                peer = self.webrtc.createPeer({\n                    id: existingPeer.id,\n                    type: 'screen',\n                    sharemyscreen: true,\n                    enableDataChannels: false,\n                    receiveMedia: {\n                        mandatory: {\n                            OfferToReceiveAudio: false,\n                            OfferToReceiveVideo: false\n                        }\n                    },\n                    broadcaster: self.connection.getSessionid(),\n                });\n                self.emit('createdPeer', peer);\n                peer.start();\n            }\n        });\n    });\n    this.webrtc.on('localScreenStopped', function (stream) {\n        self.stopScreenShare();\n        /*\n        self.connection.emit('unshareScreen');\n        self.webrtc.peers.forEach(function (peer) {\n            if (peer.sharemyscreen) {\n                peer.end();\n            }\n        });\n        */\n    });\n\n    this.webrtc.on('channelMessage', function (peer, label, data) {\n        if (data.type == 'volume') {\n            self.emit('remoteVolumeChange', peer, data.volume);\n        }\n    });\n\n    if (this.config.autoRequestMedia) this.startLocalVideo();\n}\n\n\nSimpleWebRTC.prototype = Object.create(WildEmitter.prototype, {\n    constructor: {\n        value: SimpleWebRTC\n    }\n});\n\nSimpleWebRTC.prototype.leaveRoom = function () {\n    if (this.roomName) {\n        this.connection.emit('leave');\n        this.webrtc.peers.forEach(function (peer) {\n            peer.end();\n        });\n        if (this.getLocalScreen()) {\n            this.stopScreenShare();\n        }\n        this.emit('leftRoom', this.roomName);\n        this.roomName = undefined;\n    }\n};\n\nSimpleWebRTC.prototype.disconnect = function () {\n    this.connection.disconnect();\n    delete this.connection;\n};\n\nSimpleWebRTC.prototype.handlePeerStreamAdded = function (peer) {\n    var self = this;\n    var container = this.getRemoteVideoContainer();\n    var video = attachMediaStream(peer.stream);\n\n    // store video element as part of peer for easy removal\n    peer.videoEl = video;\n    video.id = this.getDomId(peer);\n\n    if (container) container.appendChild(video);\n\n    this.emit('videoAdded', video, peer);\n\n    // send our mute status to new peer if we're muted\n    // currently called with a small delay because it arrives before\n    // the video element is created otherwise (which happens after\n    // the async setRemoteDescription-createAnswer)\n    window.setTimeout(function () {\n        if (!self.webrtc.isAudioEnabled()) {\n            peer.send('mute', {name: 'audio'});\n        }\n        if (!self.webrtc.isVideoEnabled()) {\n            peer.send('mute', {name: 'video'});\n        }\n    }, 250);\n};\n\nSimpleWebRTC.prototype.handlePeerStreamRemoved = function (peer) {\n    var container = this.getRemoteVideoContainer();\n    var videoEl = peer.videoEl;\n    if (this.config.autoRemoveVideos && container && videoEl) {\n        container.removeChild(videoEl);\n    }\n    if (videoEl) this.emit('videoRemoved', videoEl, peer);\n};\n\nSimpleWebRTC.prototype.getDomId = function (peer) {\n    return [peer.id, peer.type, peer.broadcaster ? 'broadcasting' : 'incoming'].join('_');\n};\n\n// set volume on video tag for all peers takse a value between 0 and 1\nSimpleWebRTC.prototype.setVolumeForAll = function (volume) {\n    this.webrtc.peers.forEach(function (peer) {\n        if (peer.videoEl) peer.videoEl.volume = volume;\n    });\n};\n\nSimpleWebRTC.prototype.joinRoom = function (name, cb) {\n    var self = this;\n    this.roomName = name;\n    this.connection.emit('join', name, function (err, roomDescription) {\n        if (err) {\n            self.emit('error', err);\n        } else {\n            var id,\n                client,\n                type,\n                peer;\n            for (id in roomDescription.clients) {\n                client = roomDescription.clients[id];\n                for (type in client) {\n                    if (client[type]) {\n                        peer = self.webrtc.createPeer({\n                            id: id,\n                            type: type,\n                            enableDataChannels: self.config.enableDataChannels && type !== 'screen',\n                            receiveMedia: {\n                                mandatory: {\n                                    OfferToReceiveAudio: type !== 'screen' && self.config.receiveMedia.mandatory.OfferToReceiveAudio,\n                                    OfferToReceiveVideo: self.config.receiveMedia.mandatory.OfferToReceiveVideo\n                                }\n                            }\n                        });\n                        self.emit('createdPeer', peer);\n                        peer.start();\n                    }\n                }\n            }\n        }\n\n        if (cb) cb(err, roomDescription);\n        self.emit('joinedRoom', name);\n    });\n};\n\nSimpleWebRTC.prototype.getEl = function (idOrEl) {\n    if (typeof idOrEl === 'string') {\n        return document.getElementById(idOrEl);\n    } else {\n        return idOrEl;\n    }\n};\n\nSimpleWebRTC.prototype.startLocalVideo = function () {\n    var self = this;\n    this.webrtc.startLocalMedia(this.config.media, function (err, stream) {\n        if (err) {\n            self.emit('localMediaError', err);\n        } else {\n            attachMediaStream(stream, self.getLocalVideoContainer(), self.config.localVideo);\n        }\n    });\n};\n\nSimpleWebRTC.prototype.stopLocalVideo = function () {\n    this.webrtc.stopLocalMedia();\n};\n\n// this accepts either element ID or element\n// and either the video tag itself or a container\n// that will be used to put the video tag into.\nSimpleWebRTC.prototype.getLocalVideoContainer = function () {\n    var el = this.getEl(this.config.localVideoEl);\n    if (el && el.tagName === 'VIDEO') {\n        el.oncontextmenu = function () { return false; };\n        return el;\n    } else if (el) {\n        var video = document.createElement('video');\n        video.oncontextmenu = function () { return false; };\n        el.appendChild(video);\n        return video;\n    } else {\n        return;\n    }\n};\n\nSimpleWebRTC.prototype.getRemoteVideoContainer = function () {\n    return this.getEl(this.config.remoteVideosEl);\n};\n\nSimpleWebRTC.prototype.shareScreen = function (cb) {\n    this.webrtc.startScreenShare(cb);\n};\n\nSimpleWebRTC.prototype.getLocalScreen = function () {\n    return this.webrtc.localScreen;\n};\n\nSimpleWebRTC.prototype.stopScreenShare = function () {\n    this.connection.emit('unshareScreen');\n    var videoEl = document.getElementById('localScreen');\n    var container = this.getRemoteVideoContainer();\n    var stream = this.getLocalScreen();\n\n    if (this.config.autoRemoveVideos && container && videoEl) {\n        container.removeChild(videoEl);\n    }\n\n    // a hack to emit the event the removes the video\n    // element that we want\n    if (videoEl) this.emit('videoRemoved', videoEl);\n    if (stream) stream.stop();\n    this.webrtc.peers.forEach(function (peer) {\n        if (peer.broadcaster) {\n            peer.end();\n        }\n    });\n    //delete this.webrtc.localScreen;\n};\n\nSimpleWebRTC.prototype.testReadiness = function () {\n    var self = this;\n    if (this.webrtc.localStream && this.sessionReady) {\n        self.emit('readyToCall', self.connection.getSessionid());\n    }\n};\n\nSimpleWebRTC.prototype.createRoom = function (name, cb) {\n    if (arguments.length === 2) {\n        this.connection.emit('create', name, cb);\n    } else {\n        this.connection.emit('create', name);\n    }\n};\n\nSimpleWebRTC.prototype.sendFile = function () {\n    if (!webrtcSupport.dataChannel) {\n        return this.emit('error', new Error('DataChannelNotSupported'));\n    }\n\n};\n\nmodule.exports = SimpleWebRTC;\n\n},{\"./socketioconnection\":47,\"./webrtc\":48,\"attachmediastream\":1,\"mockconsole\":10,\"webrtcsupport\":43,\"wildemitter\":44}],47:[function(require,module,exports){\nvar io = require('socket.io-client');\n\nfunction SocketIoConnection(config) {\n    this.connection = io.connect(config.url, config.socketio);\n}\n\nSocketIoConnection.prototype.on = function (ev, fn) {\n    this.connection.on(ev, fn);\n};\n\nSocketIoConnection.prototype.emit = function () {\n    this.connection.emit.apply(this.connection, arguments);\n};\n\nSocketIoConnection.prototype.getSessionid = function () {\n    return this.connection.socket.sessionid;\n};\n\nSocketIoConnection.prototype.disconnect = function () {\n    return this.connection.disconnect();\n};\n\nmodule.exports = SocketIoConnection;\n\n},{\"socket.io-client\":42}],48:[function(require,module,exports){\nvar util = require('util');\nvar webrtc = require('webrtcsupport');\nvar WildEmitter = require('wildemitter');\nvar mockconsole = require('mockconsole');\nvar localMedia = require('localmedia');\nvar Peer = require('./peer');\n\n\nfunction WebRTC(opts) {\n    var self = this;\n    var options = opts || {};\n    var config = this.config = {\n            debug: false,\n            // makes the entire PC config overridable\n            peerConnectionConfig: {\n                iceServers: [{\"url\": \"stun:stun.l.google.com:19302\"}]\n            },\n            peerConnectionConstraints: {\n                optional: [\n                    {DtlsSrtpKeyAgreement: true}\n                ]\n            },\n            receiveMedia: {\n                mandatory: {\n                    OfferToReceiveAudio: true,\n                    OfferToReceiveVideo: true\n                }\n            },\n            enableDataChannels: true\n        };\n    var item;\n\n    // expose screensharing check\n    this.screenSharingSupport = webrtc.screenSharing;\n\n    // We also allow a 'logger' option. It can be any object that implements\n    // log, warn, and error methods.\n    // We log nothing by default, following \"the rule of silence\":\n    // http://www.linfo.org/rule_of_silence.html\n    this.logger = function () {\n        // we assume that if you're in debug mode and you didn't\n        // pass in a logger, you actually want to log as much as\n        // possible.\n        if (opts.debug) {\n            return opts.logger || console;\n        } else {\n        // or we'll use your logger which should have its own logic\n        // for output. Or we'll return the no-op.\n            return opts.logger || mockconsole;\n        }\n    }();\n\n    // set options\n    for (item in options) {\n        this.config[item] = options[item];\n    }\n\n    // check for support\n    if (!webrtc.support) {\n        this.logger.error('Your browser doesn\\'t seem to support WebRTC');\n    }\n\n    // where we'll store our peer connections\n    this.peers = [];\n\n    // call localMedia constructor\n    localMedia.call(this, this.config);\n\n    this.on('speaking', function () {\n        if (!self.hardMuted) {\n            // FIXME: should use sendDirectlyToAll, but currently has different semantics wrt payload\n            self.peers.forEach(function (peer) {\n                if (peer.enableDataChannels) {\n                    var dc = peer.getDataChannel('hark');\n                    if (dc.readyState != 'open') return;\n                    dc.send(JSON.stringify({type: 'speaking'}));\n                }\n            });\n        }\n    });\n    this.on('stoppedSpeaking', function () {\n        if (!self.hardMuted) {\n            // FIXME: should use sendDirectlyToAll, but currently has different semantics wrt payload\n            self.peers.forEach(function (peer) {\n                if (peer.enableDataChannels) {\n                    var dc = peer.getDataChannel('hark');\n                    if (dc.readyState != 'open') return;\n                    dc.send(JSON.stringify({type: 'stoppedSpeaking'}));\n                }\n            });\n        }\n    });\n    this.on('volumeChange', function (volume, treshold) {\n        if (!self.hardMuted) {\n            // FIXME: should use sendDirectlyToAll, but currently has different semantics wrt payload\n            self.peers.forEach(function (peer) {\n                if (peer.enableDataChannels) {\n                    var dc = peer.getDataChannel('hark');\n                    if (dc.readyState != 'open') return;\n                    dc.send(JSON.stringify({type: 'volume', volume: volume }));\n                }\n            });\n        }\n    });\n\n    // log events in debug mode\n    if (this.config.debug) {\n        this.on('*', function (event, val1, val2) {\n            var logger;\n            // if you didn't pass in a logger and you explicitly turning on debug\n            // we're just going to assume you're wanting log output with console\n            if (self.config.logger === mockconsole) {\n                logger = console;\n            } else {\n                logger = self.logger;\n            }\n            logger.log('event:', event, val1, val2);\n        });\n    }\n}\n\nutil.inherits(WebRTC, localMedia);\n\nWebRTC.prototype.createPeer = function (opts) {\n    var peer;\n    opts.parent = this;\n    peer = new Peer(opts);\n    this.peers.push(peer);\n    return peer;\n};\n\n// removes peers\nWebRTC.prototype.removePeers = function (id, type) {\n    this.getPeers(id, type).forEach(function (peer) {\n        peer.end();\n    });\n};\n\n// fetches all Peer objects by session id and/or type\nWebRTC.prototype.getPeers = function (sessionId, type) {\n    return this.peers.filter(function (peer) {\n        return (!sessionId || peer.id === sessionId) && (!type || peer.type === type);\n    });\n};\n\n// sends message to all\nWebRTC.prototype.sendToAll = function (message, payload) {\n    this.peers.forEach(function (peer) {\n        peer.send(message, payload);\n    });\n};\n\n// sends message to all using a datachannel\n// only sends to anyone who has an open datachannel\nWebRTC.prototype.sendDirectlyToAll = function (channel, message, payload) {\n    this.peers.forEach(function (peer) {\n        if (peer.enableDataChannels) {\n            peer.sendDirectly(channel, message, payload);\n        }\n    });\n};\n\nmodule.exports = WebRTC;\n\n},{\"./peer\":45,\"localmedia\":3,\"mockconsole\":10,\"util\":53,\"webrtcsupport\":43,\"wildemitter\":44}],49:[function(require,module,exports){\n/* global Y */\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SimpleWebRTC = require('simplewebrtc');\n\nfunction extend(Y) {\n  var WebRTC = (function (_Y$AbstractConnector) {\n    _inherits(WebRTC, _Y$AbstractConnector);\n\n    function WebRTC(y, options) {\n      _classCallCheck(this, WebRTC);\n\n      if (options === undefined) {\n        throw new Error('Options must not be undefined!');\n      }\n      if (options.room == null) {\n        throw new Error('You must define a room name!');\n      }\n      options.role = 'slave';\n\n      var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WebRTC).call(this, y, options));\n\n      _this.webrtcOptions = {\n        url: options.url || 'http://yatta.ninja:8888',\n        room: options.room\n      };\n      var swr = new SimpleWebRTC(_this.webrtcOptions);\n      _this.swr = swr;\n      var self = _this;\n      swr.once('connectionReady', function (userId) {\n        // SimpleWebRTC (swr) is initialized\n        swr.joinRoom(self.webrtcOptions.room);\n\n        swr.once('joinedRoom', function () {\n          self.setUserId(userId);\n          /*\n          var i\n          // notify the connector class about all the users that already\n          // joined the session\n          for(i in self.swr.webrtc.peers){\n            self.userJoined(self.swr.webrtc.peers[i].id, \"master\")\n          }*/\n          swr.on('channelMessage', function (peer, room_, message) {\n            // The client received a message\n            // Check if the connector is already initialized,\n            // only then forward the message to the connector class\n            if (message.type != null) {\n              self.receiveMessage(peer.id, message.payload);\n            }\n          });\n        });\n\n        swr.on('createdPeer', function (peer) {\n          // a new peer/client joined the session.\n          // Notify the connector class, if the connector\n          // is already initialized\n          self.userJoined(peer.id, 'master');\n        });\n\n        swr.on('peerStreamRemoved', function (peer) {\n          // a client left the session.\n          // Notify the connector class, if the connector\n          // is already initialized\n          self.userLeft(peer.id);\n        });\n      });\n      return _this;\n    }\n\n    _createClass(WebRTC, [{\n      key: 'disconnect',\n      value: function disconnect() {\n        this.swr.leaveRoom();\n        _get(Object.getPrototypeOf(WebRTC.prototype), 'disconnect', this).call(this);\n      }\n    }, {\n      key: 'reconnect',\n      value: function reconnect() {\n        this.swr.joinRoom(this.webrtcOptions.room);\n        _get(Object.getPrototypeOf(WebRTC.prototype), 'reconnect', this).call(this);\n      }\n    }, {\n      key: 'send',\n      value: function send(uid, message) {\n        var self = this;\n        // we have to make sure that the message is sent under all circumstances\n        var send = function send() {\n          // check if the clients still exists\n          var peer = self.swr.webrtc.getPeers(uid)[0];\n          var success;\n          if (peer) {\n            // success is true, if the message is successfully sent\n            success = peer.sendDirectly('simplewebrtc', 'yjs', message);\n          }\n          if (!success) {\n            // resend the message if it didn't work\n            setTimeout(send, 500);\n          }\n        };\n        // try to send the message\n        send();\n      }\n    }, {\n      key: 'broadcast',\n      value: function broadcast(message) {\n        this.swr.sendDirectlyToAll('simplewebrtc', 'yjs', message);\n      }\n    }, {\n      key: 'isDisconnected',\n      value: function isDisconnected() {\n        return false;\n      }\n    }]);\n\n    return WebRTC;\n  })(Y.AbstractConnector);\n\n  Y.extend('webrtc', WebRTC);\n}\n\nmodule.exports = extend;\nif (typeof Y !== 'undefined') {\n  extend(Y);\n}\n\n},{\"simplewebrtc\":46}],50:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],51:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],52:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],53:[function(require,module,exports){\n(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./support/isBuffer\":52,\"_process\":51,\"inherits\":50}]},{},[49])\n\n","var WildEmitter = require('wildemitter');\nvar util = require('util');\n\nfunction Sender(opts) {\n    WildEmitter.call(this);\n    var options = opts || {};\n    this.config = {\n        chunksize: 16384,\n        pacing: 0\n    };\n    // set our config from options\n    var item;\n    for (item in options) {\n        this.config[item] = options[item];\n    }\n\n    this.file = null;\n    this.channel = null;\n}\nutil.inherits(Sender, WildEmitter);\n\nSender.prototype.send = function (file, channel) {\n    var self = this;\n    this.file = file;\n    this.channel = channel;\n    var sliceFile = function(offset) {\n        var reader = new window.FileReader();\n        reader.onload = (function() {\n            return function(e) {\n                self.channel.send(e.target.result);\n                self.emit('progress', offset, file.size, e.target.result);\n                if (file.size > offset + e.target.result.byteLength) {\n                    window.setTimeout(sliceFile, self.config.pacing, offset + self.config.chunksize);\n                } else {\n                    self.emit('progress', file.size, file.size, null);\n                    self.emit('sentFile');\n                }\n            };\n        })(file);\n        var slice = file.slice(offset, offset + self.config.chunksize);\n        reader.readAsArrayBuffer(slice);\n    };\n    window.setTimeout(sliceFile, 0, 0);\n};\n\nfunction Receiver() {\n    WildEmitter.call(this);\n\n    this.receiveBuffer = [];\n    this.received = 0;\n    this.metadata = {};\n    this.channel = null;\n}\nutil.inherits(Receiver, WildEmitter);\n\nReceiver.prototype.receive = function (metadata, channel) {\n    var self = this;\n\n    if (metadata) {\n        this.metadata = metadata;\n    }\n    this.channel = channel;\n    // chrome only supports arraybuffers and those make it easier to calc the hash\n    channel.binaryType = 'arraybuffer';\n    this.channel.onmessage = function (event) {\n        var len = event.data.byteLength;\n        self.received += len;\n        self.receiveBuffer.push(event.data);\n\n        self.emit('progress', self.received, self.metadata.size, event.data);\n        if (self.received === self.metadata.size) {\n            self.emit('receivedFile', new window.Blob(self.receiveBuffer), self.metadata);\n            self.receiveBuffer = []; // discard receivebuffer\n        } else if (self.received > self.metadata.size) {\n            // FIXME\n            console.error('received more than expected, discarding...');\n            self.receiveBuffer = []; // just discard...\n\n        }\n    };\n};\n\nmodule.exports = {};\nmodule.exports.support = typeof window !== 'undefined' && window && window.File && window.FileReader && window.Blob;\nmodule.exports.Sender = Sender;\nmodule.exports.Receiver = Receiver;\n","var util = require('util');\nvar hark = require('hark');\nvar webrtc = require('webrtcsupport');\nvar getUserMedia = require('getusermedia');\nvar getScreenMedia = require('getscreenmedia');\nvar WildEmitter = require('wildemitter');\nvar GainController = require('mediastream-gain');\nvar mockconsole = require('mockconsole');\n\n\nfunction LocalMedia(opts) {\n    WildEmitter.call(this);\n\n    var config = this.config = {\n        autoAdjustMic: false,\n        detectSpeakingEvents: true,\n        audioFallback: false,\n        media: {\n            audio: true,\n            video: true\n        },\n        logger: mockconsole\n    };\n\n    var item;\n    for (item in opts) {\n        this.config[item] = opts[item];\n    }\n\n    this.logger = config.logger;\n    this._log = this.logger.log.bind(this.logger, 'LocalMedia:');\n    this._logerror = this.logger.error.bind(this.logger, 'LocalMedia:');\n\n    this.screenSharingSupport = webrtc.screenSharing;\n\n    this.localStreams = [];\n    this.localScreens = [];\n\n    if (!webrtc.support) {\n        this._logerror('Your browser does not support local media capture.');\n    }\n}\n\nutil.inherits(LocalMedia, WildEmitter);\n\n\nLocalMedia.prototype.start = function (mediaConstraints, cb) {\n    var self = this;\n    var constraints = mediaConstraints || this.config.media;\n\n    getUserMedia(constraints, function (err, stream) {\n\n        if (!err) {\n            if (constraints.audio && self.config.detectSpeakingEvents) {\n                self.setupAudioMonitor(stream, self.config.harkOptions);\n            }\n            self.localStreams.push(stream);\n\n            if (self.config.autoAdjustMic) {\n                self.gainController = new GainController(stream);\n                // start out somewhat muted if we can track audio\n                self.setMicIfEnabled(0.5);\n            }\n\n            // TODO: might need to migrate to the video tracks onended\n            // FIXME: firefox does not seem to trigger this...\n            stream.onended = function () {\n                /*\n                var idx = self.localStreams.indexOf(stream);\n                if (idx > -1) {\n                    self.localScreens.splice(idx, 1);\n                }\n                self.emit('localStreamStopped', stream);\n                */\n            };\n\n            self.emit('localStream', stream);\n        } else {\n            // Fallback for users without a camera\n            if (self.config.audioFallback && err.name === 'DevicesNotFoundError' && constraints.video !== false) {\n                constraints.video = false;\n                self.start(constraints, cb);\n                return;\n            }\n        }\n        if (cb) {\n            return cb(err, stream);\n        }\n    });\n};\n\nLocalMedia.prototype.stop = function (stream) {\n    var self = this;\n    // FIXME: duplicates cleanup code until fixed in FF\n    if (stream) {\n        stream.getTracks().forEach(function (track) { track.stop(); });\n        var idx = self.localStreams.indexOf(stream);\n        if (idx > -1) {\n            self.emit('localStreamStopped', stream);\n            self.localStreams = self.localStreams.splice(idx, 1);\n        } else {\n            idx = self.localScreens.indexOf(stream);\n            if (idx > -1) {\n                self.emit('localScreenStopped', stream);\n                self.localScreens = self.localScreens.splice(idx, 1);\n            }\n        }\n    } else {\n        this.stopStreams();\n        this.stopScreenShare();\n    }\n};\n\nLocalMedia.prototype.stopStreams = function () {\n    var self = this;\n    if (this.audioMonitor) {\n        this.audioMonitor.stop();\n        delete this.audioMonitor;\n    }\n    this.localStreams.forEach(function (stream) {\n        stream.getTracks().forEach(function (track) { track.stop(); });\n        self.emit('localStreamStopped', stream);\n    });\n    this.localStreams = [];\n};\n\nLocalMedia.prototype.startScreenShare = function (cb) {\n    var self = this;\n    getScreenMedia(function (err, stream) {\n        if (!err) {\n            self.localScreens.push(stream);\n\n            // TODO: might need to migrate to the video tracks onended\n            // Firefox does not support .onended but it does not support\n            // screensharing either\n            stream.onended = function () {\n                var idx = self.localScreens.indexOf(stream);\n                if (idx > -1) {\n                    self.localScreens.splice(idx, 1);\n                }\n                self.emit('localScreenStopped', stream);\n            };\n            self.emit('localScreen', stream);\n        }\n\n        // enable the callback\n        if (cb) {\n            return cb(err, stream);\n        }\n    });\n};\n\nLocalMedia.prototype.stopScreenShare = function (stream) {\n    var self = this;\n    if (stream) {\n        stream.getTracks().forEach(function (track) { track.stop(); });\n        this.emit('localScreenStopped', stream);\n    } else {\n        this.localScreens.forEach(function (stream) {\n            stream.getTracks().forEach(function (track) { track.stop(); });\n            self.emit('localScreenStopped', stream);\n        });\n        this.localScreens = [];\n    }\n};\n\n// Audio controls\nLocalMedia.prototype.mute = function () {\n    this._audioEnabled(false);\n    this.hardMuted = true;\n    this.emit('audioOff');\n};\n\nLocalMedia.prototype.unmute = function () {\n    this._audioEnabled(true);\n    this.hardMuted = false;\n    this.emit('audioOn');\n};\n\nLocalMedia.prototype.setupAudioMonitor = function (stream, harkOptions) {\n    this._log('Setup audio');\n    var audio = this.audioMonitor = hark(stream, harkOptions);\n    var self = this;\n    var timeout;\n\n    audio.on('speaking', function () {\n        self.emit('speaking');\n        if (self.hardMuted) {\n            return;\n        }\n        self.setMicIfEnabled(1);\n    });\n\n    audio.on('stopped_speaking', function () {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        timeout = setTimeout(function () {\n            self.emit('stoppedSpeaking');\n            if (self.hardMuted) {\n                return;\n            }\n            self.setMicIfEnabled(0.5);\n        }, 1000);\n    });\n    audio.on('volume_change', function (volume, treshold) {\n        self.emit('volumeChange', volume, treshold);\n    });\n};\n\n// We do this as a seperate method in order to\n// still leave the \"setMicVolume\" as a working\n// method.\nLocalMedia.prototype.setMicIfEnabled = function (volume) {\n    if (!this.config.autoAdjustMic) {\n        return;\n    }\n    this.gainController.setGain(volume);\n};\n\n// Video controls\nLocalMedia.prototype.pauseVideo = function () {\n    this._videoEnabled(false);\n    this.emit('videoOff');\n};\nLocalMedia.prototype.resumeVideo = function () {\n    this._videoEnabled(true);\n    this.emit('videoOn');\n};\n\n// Combined controls\nLocalMedia.prototype.pause = function () {\n    this.mute();\n    this.pauseVideo();\n};\nLocalMedia.prototype.resume = function () {\n    this.unmute();\n    this.resumeVideo();\n};\n\n// Internal methods for enabling/disabling audio/video\nLocalMedia.prototype._audioEnabled = function (bool) {\n    // work around for chrome 27 bug where disabling tracks\n    // doesn't seem to work (works in canary, remove when working)\n    this.setMicIfEnabled(bool ? 1 : 0);\n    this.localStreams.forEach(function (stream) {\n        stream.getAudioTracks().forEach(function (track) {\n            track.enabled = !!bool;\n        });\n    });\n};\nLocalMedia.prototype._videoEnabled = function (bool) {\n    this.localStreams.forEach(function (stream) {\n        stream.getVideoTracks().forEach(function (track) {\n            track.enabled = !!bool;\n        });\n    });\n};\n\n// check if all audio streams are enabled\nLocalMedia.prototype.isAudioEnabled = function () {\n    var enabled = true;\n    this.localStreams.forEach(function (stream) {\n        stream.getAudioTracks().forEach(function (track) {\n            enabled = enabled && track.enabled;\n        });\n    });\n    return enabled;\n};\n\n// check if all video streams are enabled\nLocalMedia.prototype.isVideoEnabled = function () {\n    var enabled = true;\n    this.localStreams.forEach(function (stream) {\n        stream.getVideoTracks().forEach(function (track) {\n            enabled = enabled && track.enabled;\n        });\n    });\n    return enabled;\n};\n\n// Backwards Compat\nLocalMedia.prototype.startLocalMedia = LocalMedia.prototype.start;\nLocalMedia.prototype.stopLocalMedia = LocalMedia.prototype.stop;\n\n// fallback for old .localStream behaviour\nObject.defineProperty(LocalMedia.prototype, 'localStream', {\n    get: function () {\n        return this.localStreams.length > 0 ? this.localStreams[0] : null;\n    }\n});\n// fallback for old .localScreen behaviour\nObject.defineProperty(LocalMedia.prototype, 'localScreen', {\n    get: function () {\n        return this.localScreens.length > 0 ? this.localScreens[0] : null;\n    }\n});\n\nmodule.exports = LocalMedia;\n","// getScreenMedia helper by @HenrikJoreteg\nvar getUserMedia = require('getusermedia');\n\n// cache for constraints and callback\nvar cache = {};\n\nmodule.exports = function (constraints, cb) {\n    var hasConstraints = arguments.length === 2;\n    var callback = hasConstraints ? cb : constraints;\n    var error;\n\n    if (typeof window === 'undefined' || window.location.protocol === 'http:') {\n        error = new Error('NavigatorUserMediaError');\n        error.name = 'HTTPS_REQUIRED';\n        return callback(error);\n    }\n\n    if (window.navigator.userAgent.match('Chrome')) {\n        var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10);\n        var maxver = 33;\n        var isCef = !window.chrome.webstore;\n        // \"known\" crash in chrome 34 and 35 on linux\n        if (window.navigator.userAgent.match('Linux')) maxver = 35;\n\n        // check that the extension is installed by looking for a\n        // sessionStorage variable that contains the extension id\n        // this has to be set after installation unless the contest\n        // script does that\n        if (sessionStorage.getScreenMediaJSExtensionId) {\n            chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId,\n                {type:'getScreen', id: 1}, null,\n                function (data) {\n                    if (data.sourceId === '') { // user canceled\n                        var error = new Error('NavigatorUserMediaError');\n                        error.name = 'PERMISSION_DENIED';\n                        callback(error);\n                    } else {\n                        constraints = (hasConstraints && constraints) || {audio: false, video: {\n                            mandatory: {\n                                chromeMediaSource: 'desktop',\n                                maxWidth: window.screen.width,\n                                maxHeight: window.screen.height,\n                                maxFrameRate: 3\n                            },\n                            optional: [\n                                {googLeakyBucket: true},\n                                {googTemporalLayeredScreencast: true}\n                            ]\n                        }};\n                        constraints.video.mandatory.chromeMediaSourceId = data.sourceId;\n                        getUserMedia(constraints, callback);\n                    }\n                }\n            );\n        } else if (window.cefGetScreenMedia) {\n            //window.cefGetScreenMedia is experimental - may be removed without notice\n            window.cefGetScreenMedia(function(sourceId) {\n                if (!sourceId) {\n                    var error = new Error('cefGetScreenMediaError');\n                    error.name = 'CEF_GETSCREENMEDIA_CANCELED';\n                    callback(error);\n                } else {\n                    constraints = (hasConstraints && constraints) || {audio: false, video: {\n                        mandatory: {\n                            chromeMediaSource: 'desktop',\n                            maxWidth: window.screen.width,\n                            maxHeight: window.screen.height,\n                            maxFrameRate: 3\n                        },\n                        optional: [\n                            {googLeakyBucket: true},\n                            {googTemporalLayeredScreencast: true}\n                        ]\n                    }};\n                    constraints.video.mandatory.chromeMediaSourceId = sourceId;\n                    getUserMedia(constraints, callback);\n                }\n            });\n        } else if (isCef || (chromever >= 26 && chromever <= maxver)) {\n            // chrome 26 - chrome 33 way to do it -- requires bad chrome://flags\n            // note: this is basically in maintenance mode and will go away soon\n            constraints = (hasConstraints && constraints) || {\n                video: {\n                    mandatory: {\n                        googLeakyBucket: true,\n                        maxWidth: window.screen.width,\n                        maxHeight: window.screen.height,\n                        maxFrameRate: 3,\n                        chromeMediaSource: 'screen'\n                    }\n                }\n            };\n            getUserMedia(constraints, callback);\n        } else {\n            // chrome 34+ way requiring an extension\n            var pending = window.setTimeout(function () {\n                error = new Error('NavigatorUserMediaError');\n                error.name = 'EXTENSION_UNAVAILABLE';\n                return callback(error);\n            }, 1000);\n            cache[pending] = [callback, hasConstraints ? constraint : null];\n            window.postMessage({ type: 'getScreen', id: pending }, '*');\n        }\n    } else if (window.navigator.userAgent.match('Firefox')) {\n        var ffver = parseInt(window.navigator.userAgent.match(/Firefox\\/(.*)/)[1], 10);\n        if (ffver >= 33) {\n            constraints = (hasConstraints && constraints) || {\n                video: {\n                    mozMediaSource: 'window',\n                    mediaSource: 'window'\n                }\n            }\n            getUserMedia(constraints, function (err, stream) {\n                callback(err, stream);\n                // workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                if (!err) {\n                    var lastTime = stream.currentTime;\n                    var polly = window.setInterval(function () {\n                        if (!stream) window.clearInterval(polly);\n                        if (stream.currentTime == lastTime) {\n                            window.clearInterval(polly);\n                            if (stream.onended) {\n                                stream.onended();\n                            }\n                        }\n                        lastTime = stream.currentTime;\n                    }, 500);\n                }\n            });\n        } else {\n            error = new Error('NavigatorUserMediaError');\n            error.name = 'EXTENSION_UNAVAILABLE'; // does not make much sense but...\n        }\n    }\n};\n\nwindow.addEventListener('message', function (event) {\n    if (event.origin != window.location.origin) {\n        return;\n    }\n    if (event.data.type == 'gotScreen' && cache[event.data.id]) {\n        var data = cache[event.data.id];\n        var constraints = data[1];\n        var callback = data[0];\n        delete cache[event.data.id];\n\n        if (event.data.sourceId === '') { // user canceled\n            var error = new Error('NavigatorUserMediaError');\n            error.name = 'PERMISSION_DENIED';\n            callback(error);\n        } else {\n            constraints = constraints || {audio: false, video: {\n                mandatory: {\n                    chromeMediaSource: 'desktop',\n                    maxWidth: window.screen.width,\n                    maxHeight: window.screen.height,\n                    maxFrameRate: 3\n                },\n                optional: [\n                    {googLeakyBucket: true},\n                    {googTemporalLayeredScreencast: true}\n                ]\n            }};\n            constraints.video.mandatory.chromeMediaSourceId = event.data.sourceId;\n            getUserMedia(constraints, callback);\n        }\n    } else if (event.data.type == 'getScreenPending') {\n        window.clearTimeout(event.data.id);\n    }\n});\n","// getUserMedia helper by @HenrikJoreteg\nvar adapter = require('webrtc-adapter-test');\n\nmodule.exports = function (constraints, cb) {\n    var options, error;\n    var haveOpts = arguments.length === 2;\n    var defaultOpts = {video: true, audio: true};\n\n    var denied = 'PermissionDeniedError';\n    var altDenied = 'PERMISSION_DENIED';\n    var notSatisfied = 'ConstraintNotSatisfiedError';\n\n    // make constraints optional\n    if (!haveOpts) {\n        cb = constraints;\n        constraints = defaultOpts;\n    }\n\n    // treat lack of browser support like an error\n    if (!navigator.getUserMedia) {\n        // throw proper error per spec\n        error = new Error('MediaStreamError');\n        error.name = 'NotSupportedError';\n\n        // keep all callbacks async\n        return window.setTimeout(function () {\n            cb(error);\n        }, 0);\n    }\n\n    // normalize error handling when no media types are requested\n    if (!constraints.audio && !constraints.video) {\n        error = new Error('MediaStreamError');\n        error.name = 'NoMediaRequestedError';\n\n        // keep all callbacks async\n        return window.setTimeout(function () {\n            cb(error);\n        }, 0);\n    }\n\n    // testing support\n    if (localStorage && localStorage.useFirefoxFakeDevice === \"true\") {\n        constraints.fake = true;\n    }\n\n    navigator.getUserMedia(constraints, function (stream) {\n        cb(null, stream);\n    }, function (err) {\n        var error;\n        // coerce into an error object since FF gives us a string\n        // there are only two valid names according to the spec\n        // we coerce all non-denied to \"constraint not satisfied\".\n        if (typeof err === 'string') {\n            error = new Error('MediaStreamError');\n            if (err === denied || err === altDenied) {\n                error.name = denied;\n            } else {\n                error.name = notSatisfied;\n            }\n        } else {\n            // if we get an error object make sure '.name' property is set\n            // according to spec: http://dev.w3.org/2011/webrtc/editor/getusermedia.html#navigatorusermediaerror-and-navigatorusermediaerrorcallback\n            error = err;\n            if (!error.name) {\n                // this is likely chrome which\n                // sets a property called \"ERROR_DENIED\" on the error object\n                // if so we make sure to set a name\n                if (error[denied]) {\n                    err.name = denied;\n                } else {\n                    err.name = notSatisfied;\n                }\n            }\n        }\n\n        cb(error);\n    });\n};\n","/*\n *  Copyright (c) 2014 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\n/* More information about these options at jshint.com/docs/options */\n/* jshint browser: true, camelcase: true, curly: true, devel: true,\n   eqeqeq: true, forin: false, globalstrict: true, node: true,\n   quotmark: single, undef: true, unused: strict */\n/* global mozRTCIceCandidate, mozRTCPeerConnection, Promise,\nmozRTCSessionDescription, webkitRTCPeerConnection, MediaStreamTrack */\n/* exported trace,requestUserMedia */\n\n'use strict';\n\nvar getUserMedia = null;\nvar attachMediaStream = null;\nvar reattachMediaStream = null;\nvar webrtcDetectedBrowser = null;\nvar webrtcDetectedVersion = null;\nvar webrtcMinimumVersion = null;\nvar webrtcUtils = {\n  log: function() {\n    // suppress console.log output when being included as a module.\n    if (typeof module !== 'undefined' ||\n        typeof require === 'function' && typeof define === 'function') {\n      return;\n    }\n    console.log.apply(console, arguments);\n  },\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos]);\n  }\n};\n\nfunction trace(text) {\n  // This function is used for logging.\n  if (text[text.length - 1] === '\\n') {\n    text = text.substring(0, text.length - 1);\n  }\n  if (window.performance) {\n    var now = (window.performance.now() / 1000).toFixed(3);\n    webrtcUtils.log(now + ': ' + text);\n  } else {\n    webrtcUtils.log(text);\n  }\n}\n\nif (typeof window === 'object') {\n  if (window.HTMLMediaElement &&\n    !('srcObject' in window.HTMLMediaElement.prototype)) {\n    // Shim the srcObject property, once, when HTMLMediaElement is found.\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n      get: function() {\n        // If prefixed srcObject property exists, return it.\n        // Otherwise use the shimmed property, _srcObject\n        return 'mozSrcObject' in this ? this.mozSrcObject : this._srcObject;\n      },\n      set: function(stream) {\n        if ('mozSrcObject' in this) {\n          this.mozSrcObject = stream;\n        } else {\n          // Use _srcObject as a private property for this shim\n          this._srcObject = stream;\n          // TODO: revokeObjectUrl(this.src) when !stream to release resources?\n          this.src = URL.createObjectURL(stream);\n        }\n      }\n    });\n  }\n  // Proxy existing globals\n  getUserMedia = window.navigator && window.navigator.getUserMedia;\n}\n\n// Attach a media stream to an element.\nattachMediaStream = function(element, stream) {\n  element.srcObject = stream;\n};\n\nreattachMediaStream = function(to, from) {\n  to.srcObject = from.srcObject;\n};\n\nif (typeof window === 'undefined' || !window.navigator) {\n  webrtcUtils.log('This does not appear to be a browser');\n  webrtcDetectedBrowser = 'not a browser';\n} else if (navigator.mozGetUserMedia && window.mozRTCPeerConnection) {\n  webrtcUtils.log('This appears to be Firefox');\n\n  webrtcDetectedBrowser = 'firefox';\n\n  // the detected firefox version.\n  webrtcDetectedVersion = webrtcUtils.extractVersion(navigator.userAgent,\n      /Firefox\\/([0-9]+)\\./, 1);\n\n  // the minimum firefox version still supported by adapter.\n  webrtcMinimumVersion = 31;\n\n  // The RTCPeerConnection object.\n  window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n    if (webrtcDetectedVersion < 38) {\n      // .urls is not supported in FF < 38.\n      // create RTCIceServers with a single url.\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (server.hasOwnProperty('urls')) {\n            for (var j = 0; j < server.urls.length; j++) {\n              var newServer = {\n                url: server.urls[j]\n              };\n              if (server.urls[j].indexOf('turn') === 0) {\n                newServer.username = server.username;\n                newServer.credential = server.credential;\n              }\n              newIceServers.push(newServer);\n            }\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n    }\n    return new mozRTCPeerConnection(pcConfig, pcConstraints); // jscs:ignore requireCapitalizedConstructors\n  };\n\n  // The RTCSessionDescription object.\n  if (!window.RTCSessionDescription) {\n    window.RTCSessionDescription = mozRTCSessionDescription;\n  }\n\n  // The RTCIceCandidate object.\n  if (!window.RTCIceCandidate) {\n    window.RTCIceCandidate = mozRTCIceCandidate;\n  }\n\n  // getUserMedia constraints shim.\n  getUserMedia = function(constraints, onSuccess, onError) {\n    var constraintsToFF37 = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r.min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    if (webrtcDetectedVersion < 38) {\n      webrtcUtils.log('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37(constraints.video);\n      }\n      webrtcUtils.log('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, onError);\n  };\n\n  navigator.getUserMedia = getUserMedia;\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: requestUserMedia,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n    return new Promise(function(resolve) {\n      var infos = [\n        {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n        {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n      ];\n      resolve(infos);\n    });\n  };\n\n  if (webrtcDetectedVersion < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n} else if (navigator.webkitGetUserMedia && window.webkitRTCPeerConnection) {\n  webrtcUtils.log('This appears to be Chrome');\n\n  webrtcDetectedBrowser = 'chrome';\n\n  // the detected chrome version.\n  webrtcDetectedVersion = webrtcUtils.extractVersion(navigator.userAgent,\n      /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\n  // the minimum chrome version still supported by adapter.\n  webrtcMinimumVersion = 38;\n\n  // The RTCPeerConnection object.\n  window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n    // Translate iceTransportPolicy to iceTransports,\n    // see https://code.google.com/p/webrtc/issues/detail?id=4869\n    if (pcConfig && pcConfig.iceTransportPolicy) {\n      pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n    }\n\n    var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints); // jscs:ignore requireCapitalizedConstructors\n    var origGetStats = pc.getStats.bind(pc);\n    pc.getStats = function(selector, successCallback, errorCallback) { // jshint ignore: line\n      var self = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats(selector, successCallback);\n      }\n\n      var fixChromeStats = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper = function(response) {\n          args[1](fixChromeStats(response));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper, arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        if (args.length === 1 && selector === null) {\n          origGetStats.apply(self, [\n              function(response) {\n                resolve.apply(null, [fixChromeStats(response)]);\n              }, reject]);\n        } else {\n          origGetStats.apply(self, [resolve, reject]);\n        }\n      });\n    };\n\n    return pc;\n  };\n\n  // add promise support\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    var nativeMethod = webkitRTCPeerConnection.prototype[method];\n    webkitRTCPeerConnection.prototype[method] = function() {\n      var self = this;\n      if (arguments.length < 1 || (arguments.length === 1 &&\n          typeof(arguments[0]) === 'object')) {\n        var opts = arguments.length === 1 ? arguments[0] : undefined;\n        return new Promise(function(resolve, reject) {\n          nativeMethod.apply(self, [resolve, reject, opts]);\n        });\n      } else {\n        return nativeMethod.apply(this, arguments);\n      }\n    };\n  });\n\n  ['setLocalDescription', 'setRemoteDescription',\n      'addIceCandidate'].forEach(function(method) {\n    var nativeMethod = webkitRTCPeerConnection.prototype[method];\n    webkitRTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        nativeMethod.apply(self, [args[0],\n            function() {\n              resolve();\n              if (args.length >= 2) {\n                args[1].apply(null, []);\n              }\n            },\n            function(err) {\n              reject(err);\n              if (args.length >= 3) {\n                args[2].apply(null, [err]);\n              }\n            }]\n          );\n      });\n    };\n  });\n\n  // getUserMedia constraints shim.\n  var constraintsToChrome = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  getUserMedia = function(constraints, onSuccess, onError) {\n    if (constraints.audio) {\n      constraints.audio = constraintsToChrome(constraints.audio);\n    }\n    if (constraints.video) {\n      constraints.video = constraintsToChrome(constraints.video);\n    }\n    webrtcUtils.log('chrome: ' + JSON.stringify(constraints));\n    return navigator.webkitGetUserMedia(constraints, onSuccess, onError);\n  };\n  navigator.getUserMedia = getUserMedia;\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: requestUserMedia,\n                              enumerateDevices: function() {\n      return new Promise(function(resolve) {\n        var kinds = {audio: 'audioinput', video: 'videoinput'};\n        return MediaStreamTrack.getSources(function(devices) {\n          resolve(devices.map(function(device) {\n            return {label: device.label,\n                    kind: kinds[device.kind],\n                    deviceId: device.id,\n                    groupId: ''};\n          }));\n        });\n      });\n    }};\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return requestUserMedia(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      webrtcUtils.log('spec:   ' + JSON.stringify(c)); // whitespace for alignment\n      c.audio = constraintsToChrome(c.audio);\n      c.video = constraintsToChrome(c.video);\n      webrtcUtils.log('chrome: ' + JSON.stringify(c));\n      return origGetUserMedia(c);\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      webrtcUtils.log('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      webrtcUtils.log('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n\n  // Attach a media stream to an element.\n  attachMediaStream = function(element, stream) {\n    if (webrtcDetectedVersion >= 43) {\n      element.srcObject = stream;\n    } else if (typeof element.src !== 'undefined') {\n      element.src = URL.createObjectURL(stream);\n    } else {\n      webrtcUtils.log('Error attaching stream to element.');\n    }\n  };\n  reattachMediaStream = function(to, from) {\n    if (webrtcDetectedVersion >= 43) {\n      to.srcObject = from.srcObject;\n    } else {\n      to.src = from.src;\n    }\n  };\n\n} else if (navigator.mediaDevices && navigator.userAgent.match(\n    /Edge\\/(\\d+).(\\d+)$/)) {\n  webrtcUtils.log('This appears to be Edge');\n  webrtcDetectedBrowser = 'edge';\n\n  webrtcDetectedVersion = webrtcUtils.extractVersion(navigator.userAgent,\n      /Edge\\/(\\d+).(\\d+)$/, 2);\n\n  // the minimum version still supported by adapter.\n  webrtcMinimumVersion = 12;\n} else {\n  webrtcUtils.log('Browser does not appear to be WebRTC-capable');\n}\n\n// Returns the result of getUserMedia as a Promise.\nfunction requestUserMedia(constraints) {\n  return new Promise(function(resolve, reject) {\n    getUserMedia(constraints, resolve, reject);\n  });\n}\n\nvar webrtcTesting = {};\ntry {\n  Object.defineProperty(webrtcTesting, 'version', {\n    set: function(version) {\n      webrtcDetectedVersion = version;\n    }\n  });\n} catch (e) {}\n\nif (typeof module !== 'undefined') {\n  var RTCPeerConnection;\n  if (typeof window !== 'undefined') {\n    RTCPeerConnection = window.RTCPeerConnection;\n  }\n  module.exports = {\n    RTCPeerConnection: RTCPeerConnection,\n    getUserMedia: getUserMedia,\n    attachMediaStream: attachMediaStream,\n    reattachMediaStream: reattachMediaStream,\n    webrtcDetectedBrowser: webrtcDetectedBrowser,\n    webrtcDetectedVersion: webrtcDetectedVersion,\n    webrtcMinimumVersion: webrtcMinimumVersion,\n    webrtcTesting: webrtcTesting,\n    webrtcUtils: webrtcUtils\n    //requestUserMedia: not exposed on purpose.\n    //trace: not exposed on purpose.\n  };\n} else if ((typeof require === 'function') && (typeof define === 'function')) {\n  // Expose objects and functions when RequireJS is doing the loading.\n  define([], function() {\n    return {\n      RTCPeerConnection: window.RTCPeerConnection,\n      getUserMedia: getUserMedia,\n      attachMediaStream: attachMediaStream,\n      reattachMediaStream: reattachMediaStream,\n      webrtcDetectedBrowser: webrtcDetectedBrowser,\n      webrtcDetectedVersion: webrtcDetectedVersion,\n      webrtcMinimumVersion: webrtcMinimumVersion,\n      webrtcTesting: webrtcTesting,\n      webrtcUtils: webrtcUtils\n      //requestUserMedia: not exposed on purpose.\n      //trace: not exposed on purpose.\n    };\n  });\n}\n","var WildEmitter = require('wildemitter');\n\nfunction getMaxVolume (analyser, fftBins) {\n  var maxVolume = -Infinity;\n  analyser.getFloatFrequencyData(fftBins);\n\n  for(var i=4, ii=fftBins.length; i < ii; i++) {\n    if (fftBins[i] > maxVolume && fftBins[i] < 0) {\n      maxVolume = fftBins[i];\n    }\n  };\n\n  return maxVolume;\n}\n\n\nvar audioContextType = window.AudioContext || window.webkitAudioContext;\n// use a single audio context due to hardware limits\nvar audioContext = null;\nmodule.exports = function(stream, options) {\n  var harker = new WildEmitter();\n\n\n  // make it not break in non-supported browsers\n  if (!audioContextType) return harker;\n\n  //Config\n  var options = options || {},\n      smoothing = (options.smoothing || 0.1),\n      interval = (options.interval || 50),\n      threshold = options.threshold,\n      play = options.play,\n      history = options.history || 10,\n      running = true;\n\n  //Setup Audio Context\n  if (!audioContext) {\n    audioContext = new audioContextType();\n  }\n  var sourceNode, fftBins, analyser;\n\n  analyser = audioContext.createAnalyser();\n  analyser.fftSize = 512;\n  analyser.smoothingTimeConstant = smoothing;\n  fftBins = new Float32Array(analyser.fftSize);\n\n  if (stream.jquery) stream = stream[0];\n  if (stream instanceof HTMLAudioElement || stream instanceof HTMLVideoElement) {\n    //Audio Tag\n    sourceNode = audioContext.createMediaElementSource(stream);\n    if (typeof play === 'undefined') play = true;\n    threshold = threshold || -50;\n  } else {\n    //WebRTC Stream\n    sourceNode = audioContext.createMediaStreamSource(stream);\n    threshold = threshold || -50;\n  }\n\n  sourceNode.connect(analyser);\n  if (play) analyser.connect(audioContext.destination);\n\n  harker.speaking = false;\n\n  harker.setThreshold = function(t) {\n    threshold = t;\n  };\n\n  harker.setInterval = function(i) {\n    interval = i;\n  };\n  \n  harker.stop = function() {\n    running = false;\n    harker.emit('volume_change', -100, threshold);\n    if (harker.speaking) {\n      harker.speaking = false;\n      harker.emit('stopped_speaking');\n    }\n  };\n  harker.speakingHistory = [];\n  for (var i = 0; i < history; i++) {\n      harker.speakingHistory.push(0);\n  }\n\n  // Poll the analyser node to determine if speaking\n  // and emit events if changed\n  var looper = function() {\n    setTimeout(function() {\n    \n      //check if stop has been called\n      if(!running) {\n        return;\n      }\n      \n      var currentVolume = getMaxVolume(analyser, fftBins);\n\n      harker.emit('volume_change', currentVolume, threshold);\n\n      var history = 0;\n      if (currentVolume > threshold && !harker.speaking) {\n        // trigger quickly, short history\n        for (var i = harker.speakingHistory.length - 3; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history >= 2) {\n          harker.speaking = true;\n          harker.emit('speaking');\n        }\n      } else if (currentVolume < threshold && harker.speaking) {\n        for (var i = 0; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history == 0) {\n          harker.speaking = false;\n          harker.emit('stopped_speaking');\n        }\n      }\n      harker.speakingHistory.shift();\n      harker.speakingHistory.push(0 + (currentVolume > threshold));\n\n      looper();\n    }, interval);\n  };\n  looper();\n\n\n  return harker;\n}\n","/*\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based \non @visionmedia's Emitter from UI Kit.\n\nWhy? I wanted it standalone.\n\nI also wanted support for wildcard emitters like this:\n\nemitter.on('*', function (eventName, other, event, payloads) {\n    \n});\n\nemitter.on('somenamespace*', function (eventName, payloads) {\n    \n});\n\nPlease note that callbacks triggered by wildcard registered events also get \nthe event name as the first argument.\n*/\nmodule.exports = WildEmitter;\n\nfunction WildEmitter() {\n    this.callbacks = {};\n}\n\n// Listen on the given `event` with `fn`. Store a group name if present.\nWildEmitter.prototype.on = function (event, groupName, fn) {\n    var hasGroup = (arguments.length === 3),\n        group = hasGroup ? arguments[1] : undefined,\n        func = hasGroup ? arguments[2] : arguments[1];\n    func._groupName = group;\n    (this.callbacks[event] = this.callbacks[event] || []).push(func);\n    return this;\n};\n\n// Adds an `event` listener that will be invoked a single\n// time then automatically removed.\nWildEmitter.prototype.once = function (event, groupName, fn) {\n    var self = this,\n        hasGroup = (arguments.length === 3),\n        group = hasGroup ? arguments[1] : undefined,\n        func = hasGroup ? arguments[2] : arguments[1];\n    function on() {\n        self.off(event, on);\n        func.apply(this, arguments);\n    }\n    this.on(event, group, on);\n    return this;\n};\n\n// Unbinds an entire group\nWildEmitter.prototype.releaseGroup = function (groupName) {\n    var item, i, len, handlers;\n    for (item in this.callbacks) {\n        handlers = this.callbacks[item];\n        for (i = 0, len = handlers.length; i < len; i++) {\n            if (handlers[i]._groupName === groupName) {\n                //console.log('removing');\n                // remove it and shorten the array we're looping through\n                handlers.splice(i, 1);\n                i--;\n                len--;\n            }\n        }\n    }\n    return this;\n};\n\n// Remove the given callback for `event` or all\n// registered callbacks.\nWildEmitter.prototype.off = function (event, fn) {\n    var callbacks = this.callbacks[event],\n        i;\n\n    if (!callbacks) return this;\n\n    // remove all handlers\n    if (arguments.length === 1) {\n        delete this.callbacks[event];\n        return this;\n    }\n\n    // remove specific handler\n    i = callbacks.indexOf(fn);\n    callbacks.splice(i, 1);\n    if (callbacks.length === 0) {\n        delete this.callbacks[event];\n    }\n    return this;\n};\n\n/// Emit `event` with the given args.\n// also calls any `*` handlers\nWildEmitter.prototype.emit = function (event) {\n    var args = [].slice.call(arguments, 1),\n        callbacks = this.callbacks[event],\n        specialCallbacks = this.getWildcardCallbacks(event),\n        i,\n        len,\n        item,\n        listeners;\n\n    if (callbacks) {\n        listeners = callbacks.slice();\n        for (i = 0, len = listeners.length; i < len; ++i) {\n            if (listeners[i]) {\n                listeners[i].apply(this, args);\n            } else {\n                break;\n            }\n        }\n    }\n\n    if (specialCallbacks) {\n        len = specialCallbacks.length;\n        listeners = specialCallbacks.slice();\n        for (i = 0, len = listeners.length; i < len; ++i) {\n            if (listeners[i]) {\n                listeners[i].apply(this, [event].concat(args));\n            } else {\n                break;\n            }\n        }\n    }\n\n    return this;\n};\n\n// Helper for for finding special wildcard event handlers that match the event\nWildEmitter.prototype.getWildcardCallbacks = function (eventName) {\n    var item,\n        split,\n        result = [];\n\n    for (item in this.callbacks) {\n        split = item.split('*');\n        if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\n            result = result.concat(this.callbacks[item]);\n        }\n    }\n    return result;\n};\n","var support = require('webrtcsupport');\n\n\nfunction GainController(stream) {\n    this.support = support.webAudio && support.mediaStream;\n\n    // set our starting value\n    this.gain = 1;\n\n    if (this.support) {\n        var context = this.context = new support.AudioContext();\n        this.microphone = context.createMediaStreamSource(stream);\n        this.gainFilter = context.createGain();\n        this.destination = context.createMediaStreamDestination();\n        this.outputStream = this.destination.stream;\n        this.microphone.connect(this.gainFilter);\n        this.gainFilter.connect(this.destination);\n        stream.addTrack(this.outputStream.getAudioTracks()[0]);\n        stream.removeTrack(stream.getAudioTracks()[0]);\n    }\n    this.stream = stream;\n}\n\n// setting\nGainController.prototype.setGain = function (val) {\n    // check for support\n    if (!this.support) return;\n    this.gainFilter.gain.value = val;\n    this.gain = val;\n};\n\nGainController.prototype.getGain = function () {\n    return this.gain;\n};\n\nGainController.prototype.off = function () {\n    return this.setGain(0);\n};\n\nGainController.prototype.on = function () {\n    this.setGain(1);\n};\n\n\nmodule.exports = GainController;\n","var methods = \"assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn\".split(\",\");\nvar l = methods.length;\nvar fn = function () {};\nvar mockconsole = {};\n\nwhile (l--) {\n    mockconsole[methods[l]] = fn;\n}\n\nmodule.exports = mockconsole;\n","/**\n * lodash 3.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar arrayEach = require('lodash._arrayeach'),\n    baseEach = require('lodash._baseeach'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray');\n\n/**\n * Creates a function for `_.forEach` or `_.forEachRight`.\n *\n * @private\n * @param {Function} arrayFunc The function to iterate over an array.\n * @param {Function} eachFunc The function to iterate over a collection.\n * @returns {Function} Returns the new each function.\n */\nfunction createForEach(arrayFunc, eachFunc) {\n  return function(collection, iteratee, thisArg) {\n    return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n      ? arrayFunc(collection, iteratee)\n      : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n  };\n}\n\n/**\n * Iterates over elements of `collection` invoking `iteratee` for each element.\n * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n * (value, index|key, collection). Iteratee functions may exit iteration early\n * by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n * may be used for object iteration.\n *\n * @static\n * @memberOf _\n * @alias each\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array|Object|string} Returns `collection`.\n * @example\n *\n * _([1, 2]).forEach(function(n) {\n *   console.log(n);\n * }).value();\n * // => logs each value from left to right and returns the array\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n *   console.log(n, key);\n * });\n * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n */\nvar forEach = createForEach(arrayEach, baseEach);\n\nmodule.exports = forEach;\n","/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `_.forEach` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys');\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.forEach` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object|string} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\n/**\n * The base implementation of `baseForIn` and `baseForOwn` which iterates\n * over `object` properties returned by `keysFunc` invoking `iteratee` for\n * each property. Iteratee functions may exit iteration early by explicitly\n * returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    var length = collection ? getLength(collection) : 0;\n    if (!isLength(length)) {\n      return eachFunc(collection, iteratee);\n    }\n    var index = fromRight ? length : -1,\n        iterable = toObject(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\n/**\n * Creates a base function for `_.forIn` or `_.forInRight`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var iterable = toObject(object),\n        props = keysFunc(object),\n        length = props.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var key = props[index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseEach;\n","/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar getNative = require('lodash._getnative'),\n    isArguments = require('lodash.isarguments'),\n    isArray = require('lodash.isarray');\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^\\d+$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = getNative(Object, 'keys');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return value > -1 && value % 1 == 0 && value < length;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * A fallback implementation of `Object.keys` which creates an array of the\n * own enumerable property names of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction shimKeys(object) {\n  var props = keysIn(object),\n      propsLength = props.length,\n      length = propsLength && object.length;\n\n  var allowIndexes = !!length && isLength(length) &&\n    (isArray(object) || isArguments(object));\n\n  var index = -1,\n      result = [];\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  var Ctor = object == null ? undefined : object.constructor;\n  if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n      (typeof object != 'function' && isArrayLike(object))) {\n    return shimKeys(object);\n  }\n  return isObject(object) ? nativeKeys(object) : [];\n};\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  if (object == null) {\n    return [];\n  }\n  if (!isObject(object)) {\n    object = Object(object);\n  }\n  var length = object.length;\n  length = (length && isLength(length) &&\n    (isArray(object) || isArguments(object)) && length) || 0;\n\n  var Ctor = object.constructor,\n      index = -1,\n      isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n      result = Array(length),\n      skipIndexes = length > 0;\n\n  while (++index < length) {\n    result[index] = (index + '');\n  }\n  for (var key in object) {\n    if (!(skipIndexes && isIndex(key, length)) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = keys;\n","/**\n * lodash 3.9.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = getNative;\n","/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Native method references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `arguments` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  return isObjectLike(value) && isArrayLike(value) &&\n    hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n}\n\nmodule.exports = isArguments;\n","/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `baseCallback` which only supports `this` binding\n * and specifying the number of arguments to provide to `func`.\n *\n * @private\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction bindCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  if (thisArg === undefined) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n    case 5: return function(value, other, key, object, source) {\n      return func.call(thisArg, value, other, key, object, source);\n    };\n  }\n  return function() {\n    return func.apply(thisArg, arguments);\n  };\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = bindCallback;\n","/**\n * lodash 3.0.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]',\n    funcTag = '[object Function]';\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 equivalents which return 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isArray;\n","/**\n * lodash 3.1.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseGet = require('lodash._baseget'),\n    toPath = require('lodash._topath'),\n    isArray = require('lodash.isarray'),\n    map = require('lodash.map');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  var pathKey = (path + '');\n  path = toPath(path);\n  return function(object) {\n    return baseGet(object, path, pathKey);\n  };\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  var type = typeof value;\n  if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n    return true;\n  }\n  if (isArray(value)) {\n    return false;\n  }\n  var result = !reIsDeepProp.test(value);\n  return result || (object != null && value in toObject(object));\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Gets the property value of `path` from all elements in `collection`.\n *\n * @static\n * @memberOf _\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Array|string} path The path of the property to pluck.\n * @returns {Array} Returns the property values.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 }\n * ];\n *\n * _.pluck(users, 'user');\n * // => ['barney', 'fred']\n *\n * var userIndex = _.indexBy(users, 'user');\n * _.pluck(userIndex, 'age');\n * // => [36, 40] (iteration order is not guaranteed)\n */\nfunction pluck(collection, path) {\n  return map(collection, property(path));\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates a function which returns the property value at `path` on a\n * given object.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = pluck;\n","/**\n * lodash 3.7.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * The base implementation of `get` without support for string paths\n * and default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path of the property to get.\n * @param {string} [pathKey] The key representation of path.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path, pathKey) {\n  if (object == null) {\n    return;\n  }\n  if (pathKey !== undefined && pathKey in toObject(object)) {\n    path = [pathKey];\n  }\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseGet;\n","/**\n * lodash 3.8.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar isArray = require('lodash.isarray');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  return value == null ? '' : (value + '');\n}\n\n/**\n * Converts `value` to property path array if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array} Returns the property path array.\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  var result = [];\n  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\nmodule.exports = toPath;\n","/**\n * lodash 3.1.4 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar arrayMap = require('lodash._arraymap'),\n    baseCallback = require('lodash._basecallback'),\n    baseEach = require('lodash._baseeach'),\n    isArray = require('lodash.isarray');\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * The base implementation of `_.map` without support for callback shorthands\n * and `this` binding.\n *\n * @private\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n * that affects Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is array-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value));\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Creates an array of values by running each element in `collection` through\n * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n * arguments: (value, index|key, collection).\n *\n * If a property name is provided for `iteratee` the created `_.property`\n * style callback returns the property value of the given element.\n *\n * If a value is also provided for `thisArg` the created `_.matchesProperty`\n * style callback returns `true` for elements that have a matching property\n * value, else `false`.\n *\n * If an object is provided for `iteratee` the created `_.matches` style\n * callback returns `true` for elements that have the properties of the given\n * object, else `false`.\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n * `sum`, `uniq`, and `words`\n *\n * @static\n * @memberOf _\n * @alias collect\n * @category Collection\n * @param {Array|Object|string} collection The collection to iterate over.\n * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n *  per iteration.\n * @param {*} [thisArg] The `this` binding of `iteratee`.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function timesThree(n) {\n *   return n * 3;\n * }\n *\n * _.map([1, 2], timesThree);\n * // => [3, 6]\n *\n * _.map({ 'a': 1, 'b': 2 }, timesThree);\n * // => [3, 6] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // using the `_.property` callback shorthand\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee, thisArg) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  iteratee = baseCallback(iteratee, thisArg, 3);\n  return func(collection, iteratee);\n}\n\nmodule.exports = map;\n","/**\n * lodash 3.0.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * A specialized version of `_.map` for arrays without support for callback\n * shorthands or `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * lodash 3.3.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar baseIsEqual = require('lodash._baseisequal'),\n    bindCallback = require('lodash._bindcallback'),\n    isArray = require('lodash.isarray'),\n    pairs = require('lodash.pairs');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  return value == null ? '' : (value + '');\n}\n\n/**\n * The base implementation of `_.callback` which supports specifying the\n * number of arguments to provide to `func`.\n *\n * @private\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [argCount] The number of arguments to provide to `func`.\n * @returns {Function} Returns the callback.\n */\nfunction baseCallback(func, thisArg, argCount) {\n  var type = typeof func;\n  if (type == 'function') {\n    return thisArg === undefined\n      ? func\n      : bindCallback(func, thisArg, argCount);\n  }\n  if (func == null) {\n    return identity;\n  }\n  if (type == 'object') {\n    return baseMatches(func);\n  }\n  return thisArg === undefined\n    ? property(func)\n    : baseMatchesProperty(func, thisArg);\n}\n\n/**\n * The base implementation of `get` without support for string paths\n * and default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path of the property to get.\n * @param {string} [pathKey] The key representation of path.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path, pathKey) {\n  if (object == null) {\n    return;\n  }\n  if (pathKey !== undefined && pathKey in toObject(object)) {\n    path = [pathKey];\n  }\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isMatch` without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Array} matchData The propery names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = toObject(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n      if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * The base implementation of `_.matches` which does not clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    var key = matchData[0][0],\n        value = matchData[0][1];\n\n    return function(object) {\n      if (object == null) {\n        return false;\n      }\n      return object[key] === value && (value !== undefined || (key in toObject(object)));\n    };\n  }\n  return function(object) {\n    return baseIsMatch(object, matchData);\n  };\n}\n\n/**\n * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to compare.\n * @returns {Function} Returns the new function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  var isArr = isArray(path),\n      isCommon = isKey(path) && isStrictComparable(srcValue),\n      pathKey = (path + '');\n\n  path = toPath(path);\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    var key = pathKey;\n    object = toObject(object);\n    if ((isArr || !isCommon) && !(key in object)) {\n      object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n      if (object == null) {\n        return false;\n      }\n      key = last(path);\n      object = toObject(object);\n    }\n    return object[key] === srcValue\n      ? (srcValue !== undefined || (key in object))\n      : baseIsEqual(srcValue, object[key], undefined, true);\n  };\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n */\nfunction basePropertyDeep(path) {\n  var pathKey = (path + '');\n  path = toPath(path);\n  return function(object) {\n    return baseGet(object, path, pathKey);\n  };\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  start = start == null ? 0 : (+start || 0);\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = (end === undefined || end > length) ? length : (+end || 0);\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Gets the propery names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = pairs(object),\n      length = result.length;\n\n  while (length--) {\n    result[length][2] = isStrictComparable(result[length][1]);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  var type = typeof value;\n  if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n    return true;\n  }\n  if (isArray(value)) {\n    return false;\n  }\n  var result = !reIsDeepProp.test(value);\n  return result || (object != null && value in toObject(object));\n}\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Converts `value` to property path array if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array} Returns the property path array.\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  var result = [];\n  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Creates a function that returns the property value at `path` on a\n * given object.\n *\n * @static\n * @memberOf _\n * @category Utility\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': { 'c': 2 } } },\n *   { 'a': { 'b': { 'c': 1 } } }\n * ];\n *\n * _.map(objects, _.property('a.b.c'));\n * // => [2, 1]\n *\n * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n}\n\nmodule.exports = baseCallback;\n","/**\n * lodash 3.0.7 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar isArray = require('lodash.isarray'),\n    isTypedArray = require('lodash.istypedarray'),\n    keys = require('lodash.keys');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    stringTag = '[object String]';\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * A specialized version of `_.some` for arrays without support for callback\n * shorthands and `this` binding.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.isEqual` without support for `this` binding\n * `customizer` functions.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing objects.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = objToString.call(object);\n    if (objTag == argsTag) {\n      objTag = objectTag;\n    } else if (objTag != objectTag) {\n      objIsArr = isTypedArray(object);\n    }\n  }\n  if (!othIsArr) {\n    othTag = objToString.call(other);\n    if (othTag == argsTag) {\n      othTag = objectTag;\n    } else if (othTag != objectTag) {\n      othIsArr = isTypedArray(other);\n    }\n  }\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !(objIsArr || objIsObj)) {\n    return equalByTag(object, other, objTag);\n  }\n  if (!isLoose) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  // For more information on detecting circular references see https://es5.github.io/#JO.\n  stackA || (stackA = []);\n  stackB || (stackB = []);\n\n  var length = stackA.length;\n  while (length--) {\n    if (stackA[length] == object) {\n      return stackB[length] == other;\n    }\n  }\n  // Add `object` and `other` to the stack of traversed objects.\n  stackA.push(object);\n  stackB.push(other);\n\n  var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n  stackA.pop();\n  stackB.pop();\n\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing arrays.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var index = -1,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n    return false;\n  }\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index],\n        result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n    if (result !== undefined) {\n      if (result) {\n        continue;\n      }\n      return false;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (isLoose) {\n      if (!arraySome(other, function(othValue) {\n            return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          })) {\n        return false;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} value The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag) {\n  switch (tag) {\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n      // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object)\n        ? other != +other\n        : object == +other;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings primitives and string\n      // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n      return object == (other + '');\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparing values.\n * @param {boolean} [isLoose] Specify performing partial comparisons.\n * @param {Array} [stackA] Tracks traversed `value` objects.\n * @param {Array} [stackB] Tracks traversed `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n  var objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isLoose) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  var skipCtor = isLoose;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key],\n        result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n      return false;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (!skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = baseIsEqual;\n","/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dateTag] = typedArrayTags[errorTag] =\ntypedArrayTags[funcTag] = typedArrayTags[mapTag] =\ntypedArrayTags[numberTag] = typedArrayTags[objectTag] =\ntypedArrayTags[regexpTag] = typedArrayTags[setTag] =\ntypedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n}\n\nmodule.exports = isTypedArray;\n","/**\n * lodash 3.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\nvar keys = require('lodash.keys');\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Creates a two dimensional array of the key-value pairs for `object`,\n * e.g. `[[key1, value1], [key2, value2]]`.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the new array of key-value pairs.\n * @example\n *\n * _.pairs({ 'barney': 36, 'fred': 40 });\n * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n */\nfunction pairs(object) {\n  object = toObject(object);\n\n  var index = -1,\n      props = keys(object),\n      length = props.length,\n      result = Array(length);\n\n  while (++index < length) {\n    var key = props[index];\n    result[index] = [key, object[key]];\n  }\n  return result;\n}\n\nmodule.exports = pairs;\n","var toSDP = require('./lib/tosdp');\nvar toJSON = require('./lib/tojson');\n\n\n// Converstion from JSON to SDP\n\nexports.toIncomingSDPOffer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'responder',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingSDPOffer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'initiator',\n        direction: 'outgoing'\n    });\n};\nexports.toIncomingSDPAnswer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'initiator',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingSDPAnswer = function (session) {\n    return toSDP.toSessionSDP(session, {\n        role: 'responder',\n        direction: 'outgoing'\n    });\n};\nexports.toIncomingMediaSDPOffer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'responder',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingMediaSDPOffer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'initiator',\n        direction: 'outgoing'\n    });\n};\nexports.toIncomingMediaSDPAnswer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'initiator',\n        direction: 'incoming'\n    });\n};\nexports.toOutgoingMediaSDPAnswer = function (media) {\n    return toSDP.toMediaSDP(media, {\n        role: 'responder',\n        direction: 'outgoing'\n    });\n};\nexports.toCandidateSDP = toSDP.toCandidateSDP;\nexports.toMediaSDP = toSDP.toMediaSDP;\nexports.toSessionSDP = toSDP.toSessionSDP;\n\n\n// Conversion from SDP to JSON\n\nexports.toIncomingJSONOffer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'responder',\n        direction: 'incoming',\n        creators: creators\n    });\n};\nexports.toOutgoingJSONOffer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'initiator',\n        direction: 'outgoing',\n        creators: creators\n    });\n};\nexports.toIncomingJSONAnswer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'initiator',\n        direction: 'incoming',\n        creators: creators\n    });\n};\nexports.toOutgoingJSONAnswer = function (sdp, creators) {\n    return toJSON.toSessionJSON(sdp, {\n        role: 'responder',\n        direction: 'outgoing',\n        creators: creators\n    });\n};\nexports.toIncomingMediaJSONOffer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'responder',\n        direction: 'incoming',\n        creator: creator\n    });\n};\nexports.toOutgoingMediaJSONOffer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'initiator',\n        direction: 'outgoing',\n        creator: creator\n    });\n};\nexports.toIncomingMediaJSONAnswer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'initiator',\n        direction: 'incoming',\n        creator: creator\n    });\n};\nexports.toOutgoingMediaJSONAnswer = function (sdp, creator) {\n    return toJSON.toMediaJSON(sdp, {\n        role: 'responder',\n        direction: 'outgoing',\n        creator: creator\n    });\n};\nexports.toCandidateJSON = toJSON.toCandidateJSON;\nexports.toMediaJSON = toJSON.toMediaJSON;\nexports.toSessionJSON = toJSON.toSessionJSON;\n","exports.lines = function (sdp) {\n    return sdp.split('\\r\\n').filter(function (line) {\n        return line.length > 0;\n    });\n};\n\nexports.findLine = function (prefix, mediaLines, sessionLines) {\n    var prefixLength = prefix.length;\n    for (var i = 0; i < mediaLines.length; i++) {\n        if (mediaLines[i].substr(0, prefixLength) === prefix) {\n            return mediaLines[i];\n        }\n    }\n    // Continue searching in parent session section\n    if (!sessionLines) {\n        return false;\n    }\n\n    for (var j = 0; j < sessionLines.length; j++) {\n        if (sessionLines[j].substr(0, prefixLength) === prefix) {\n            return sessionLines[j];\n        }\n    }\n\n    return false;\n};\n\nexports.findLines = function (prefix, mediaLines, sessionLines) {\n    var results = [];\n    var prefixLength = prefix.length;\n    for (var i = 0; i < mediaLines.length; i++) {\n        if (mediaLines[i].substr(0, prefixLength) === prefix) {\n            results.push(mediaLines[i]);\n        }\n    }\n    if (results.length || !sessionLines) {\n        return results;\n    }\n    for (var j = 0; j < sessionLines.length; j++) {\n        if (sessionLines[j].substr(0, prefixLength) === prefix) {\n            results.push(sessionLines[j]);\n        }\n    }\n    return results;\n};\n\nexports.mline = function (line) {\n    var parts = line.substr(2).split(' ');\n    var parsed = {\n        media: parts[0],\n        port: parts[1],\n        proto: parts[2],\n        formats: []\n    };\n    for (var i = 3; i < parts.length; i++) {\n        if (parts[i]) {\n            parsed.formats.push(parts[i]);\n        }\n    }\n    return parsed;\n};\n\nexports.rtpmap = function (line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {\n        id: parts.shift()\n    };\n\n    parts = parts[0].split('/');\n\n    parsed.name = parts[0];\n    parsed.clockrate = parts[1];\n    parsed.channels = parts.length == 3 ? parts[2] : '1';\n    return parsed;\n};\n\nexports.sctpmap = function (line) {\n    // based on -05 draft\n    var parts = line.substr(10).split(' ');\n    var parsed = {\n        number: parts.shift(),\n        protocol: parts.shift(),\n        streams: parts.shift()\n    };\n    return parsed;\n};\n\n\nexports.fmtp = function (line) {\n    var kv, key, value;\n    var parts = line.substr(line.indexOf(' ') + 1).split(';');\n    var parsed = [];\n    for (var i = 0; i < parts.length; i++) {\n        kv = parts[i].split('=');\n        key = kv[0].trim();\n        value = kv[1];\n        if (key && value) {\n            parsed.push({key: key, value: value});\n        } else if (key) {\n            parsed.push({key: '', value: key});\n        }\n    }\n    return parsed;\n};\n\nexports.crypto = function (line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {\n        tag: parts[0],\n        cipherSuite: parts[1],\n        keyParams: parts[2],\n        sessionParams: parts.slice(3).join(' ')\n    };\n    return parsed;\n};\n\nexports.fingerprint = function (line) {\n    var parts = line.substr(14).split(' ');\n    return {\n        hash: parts[0],\n        value: parts[1]\n    };\n};\n\nexports.extmap = function (line) {\n    var parts = line.substr(9).split(' ');\n    var parsed = {};\n\n    var idpart = parts.shift();\n    var sp = idpart.indexOf('/');\n    if (sp >= 0) {\n        parsed.id = idpart.substr(0, sp);\n        parsed.senders = idpart.substr(sp + 1);\n    } else {\n        parsed.id = idpart;\n        parsed.senders = 'sendrecv';\n    }\n\n    parsed.uri = parts.shift() || '';\n\n    return parsed;\n};\n\nexports.rtcpfb = function (line) {\n    var parts = line.substr(10).split(' ');\n    var parsed = {};\n    parsed.id = parts.shift();\n    parsed.type = parts.shift();\n    if (parsed.type === 'trr-int') {\n        parsed.value = parts.shift();\n    } else {\n        parsed.subtype = parts.shift() || '';\n    }\n    parsed.parameters = parts;\n    return parsed;\n};\n\nexports.candidate = function (line) {\n    var parts;\n    if (line.indexOf('a=candidate:') === 0) {\n        parts = line.substring(12).split(' ');\n    } else { // no a=candidate\n        parts = line.substring(10).split(' ');\n    }\n\n    var candidate = {\n        foundation: parts[0],\n        component: parts[1],\n        protocol: parts[2].toLowerCase(),\n        priority: parts[3],\n        ip: parts[4],\n        port: parts[5],\n        // skip parts[6] == 'typ'\n        type: parts[7],\n        generation: '0'\n    };\n\n    for (var i = 8; i < parts.length; i += 2) {\n        if (parts[i] === 'raddr') {\n            candidate.relAddr = parts[i + 1];\n        } else if (parts[i] === 'rport') {\n            candidate.relPort = parts[i + 1];\n        } else if (parts[i] === 'generation') {\n            candidate.generation = parts[i + 1];\n        } else if (parts[i] === 'tcptype') {\n            candidate.tcpType = parts[i + 1];\n        }\n    }\n\n    candidate.network = '1';\n\n    return candidate;\n};\n\nexports.sourceGroups = function (lines) {\n    var parsed = [];\n    for (var i = 0; i < lines.length; i++) {\n        var parts = lines[i].substr(13).split(' ');\n        parsed.push({\n            semantics: parts.shift(),\n            sources: parts\n        });\n    }\n    return parsed;\n};\n\nexports.sources = function (lines) {\n    // http://tools.ietf.org/html/rfc5576\n    var parsed = [];\n    var sources = {};\n    for (var i = 0; i < lines.length; i++) {\n        var parts = lines[i].substr(7).split(' ');\n        var ssrc = parts.shift();\n\n        if (!sources[ssrc]) {\n            var source = {\n                ssrc: ssrc,\n                parameters: []\n            };\n            parsed.push(source);\n\n            // Keep an index\n            sources[ssrc] = source;\n        }\n\n        parts = parts.join(' ').split(':');\n        var attribute = parts.shift();\n        var value = parts.join(':') || null;\n\n        sources[ssrc].parameters.push({\n            key: attribute,\n            value: value\n        });\n    }\n\n    return parsed;\n};\n\nexports.groups = function (lines) {\n    // http://tools.ietf.org/html/rfc5888\n    var parsed = [];\n    var parts;\n    for (var i = 0; i < lines.length; i++) {\n        parts = lines[i].substr(8).split(' ');\n        parsed.push({\n            semantics: parts.shift(),\n            contents: parts\n        });\n    }\n    return parsed;\n};\n\nexports.bandwidth = function (line) {\n    var parts = line.substr(2).split(':');\n    var parsed = {};\n    parsed.type = parts.shift();\n    parsed.bandwidth = parts.shift();\n    return parsed;\n};\n\nexports.msid = function (line) {\n    var data = line.substr(7);\n    var parts = data.split(' ');\n    return {\n        msid: data,\n        mslabel: parts[0],\n        label: parts[1]\n    };\n};\n","module.exports = {\n    initiator: {\n        incoming: {\n            initiator: 'recvonly',\n            responder: 'sendonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'initiator',\n            sendonly: 'responder',\n            sendrecv: 'both',\n            inactive: 'none'\n        },\n        outgoing: {\n            initiator: 'sendonly',\n            responder: 'recvonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'responder',\n            sendonly: 'initiator',\n            sendrecv: 'both',\n            inactive: 'none'\n        }\n    },\n    responder: {\n        incoming: {\n            initiator: 'sendonly',\n            responder: 'recvonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'responder',\n            sendonly: 'initiator',\n            sendrecv: 'both',\n            inactive: 'none'\n        },\n        outgoing: {\n            initiator: 'recvonly',\n            responder: 'sendonly',\n            both: 'sendrecv',\n            none: 'inactive',\n            recvonly: 'initiator',\n            sendonly: 'responder',\n            sendrecv: 'both',\n            inactive: 'none'\n        }\n    }\n};\n","var SENDERS = require('./senders');\nvar parsers = require('./parsers');\nvar idCounter = Math.random();\n\n\nexports._setIdCounter = function (counter) {\n    idCounter = counter;\n};\n\nexports.toSessionJSON = function (sdp, opts) {\n    var i;\n    var creators = opts.creators || [];\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n\n\n    // Divide the SDP into session and media sections.\n    var media = sdp.split('\\r\\nm=');\n    for (i = 1; i < media.length; i++) {\n        media[i] = 'm=' + media[i];\n        if (i !== media.length - 1) {\n            media[i] += '\\r\\n';\n        }\n    }\n    var session = media.shift() + '\\r\\n';\n    var sessionLines = parsers.lines(session);\n    var parsed = {};\n\n    var contents = [];\n    for (i = 0; i < media.length; i++) {\n        contents.push(exports.toMediaJSON(media[i], session, {\n            role: role,\n            direction: direction,\n            creator: creators[i] || 'initiator'\n        }));\n    }\n    parsed.contents = contents;\n\n    var groupLines = parsers.findLines('a=group:', sessionLines);\n    if (groupLines.length) {\n        parsed.groups = parsers.groups(groupLines);\n    }\n\n    return parsed;\n};\n\nexports.toMediaJSON = function (media, session, opts) {\n    var creator = opts.creator || 'initiator';\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n\n    var lines = parsers.lines(media);\n    var sessionLines = parsers.lines(session);\n    var mline = parsers.mline(lines[0]);\n\n    var content = {\n        creator: creator,\n        name: mline.media,\n        description: {\n            descType: 'rtp',\n            media: mline.media,\n            payloads: [],\n            encryption: [],\n            feedback: [],\n            headerExtensions: []\n        },\n        transport: {\n            transType: 'iceUdp',\n            candidates: [],\n            fingerprints: []\n        }\n    };\n    if (mline.media == 'application') {\n        // FIXME: the description is most likely to be independent\n        // of the SDP and should be processed by other parts of the library\n        content.description = {\n            descType: 'datachannel'\n        };\n        content.transport.sctp = [];\n    }\n    var desc = content.description;\n    var trans = content.transport;\n\n    // If we have a mid, use that for the content name instead.\n    var mid = parsers.findLine('a=mid:', lines);\n    if (mid) {\n        content.name = mid.substr(6);\n    }\n\n    if (parsers.findLine('a=sendrecv', lines, sessionLines)) {\n        content.senders = 'both';\n    } else if (parsers.findLine('a=sendonly', lines, sessionLines)) {\n        content.senders = SENDERS[role][direction].sendonly;\n    } else if (parsers.findLine('a=recvonly', lines, sessionLines)) {\n        content.senders = SENDERS[role][direction].recvonly;\n    } else if (parsers.findLine('a=inactive', lines, sessionLines)) {\n        content.senders = 'none';\n    }\n\n    if (desc.descType == 'rtp') {\n        var bandwidth = parsers.findLine('b=', lines);\n        if (bandwidth) {\n            desc.bandwidth = parsers.bandwidth(bandwidth);\n        }\n\n        var ssrc = parsers.findLine('a=ssrc:', lines);\n        if (ssrc) {\n            desc.ssrc = ssrc.substr(7).split(' ')[0];\n        }\n\n        var rtpmapLines = parsers.findLines('a=rtpmap:', lines);\n        rtpmapLines.forEach(function (line) {\n            var payload = parsers.rtpmap(line);\n            payload.parameters = [];\n            payload.feedback = [];\n\n            var fmtpLines = parsers.findLines('a=fmtp:' + payload.id, lines);\n            // There should only be one fmtp line per payload\n            fmtpLines.forEach(function (line) {\n                payload.parameters = parsers.fmtp(line);\n            });\n\n            var fbLines = parsers.findLines('a=rtcp-fb:' + payload.id, lines);\n            fbLines.forEach(function (line) {\n                payload.feedback.push(parsers.rtcpfb(line));\n            });\n\n            desc.payloads.push(payload);\n        });\n\n        var cryptoLines = parsers.findLines('a=crypto:', lines, sessionLines);\n        cryptoLines.forEach(function (line) {\n            desc.encryption.push(parsers.crypto(line));\n        });\n\n        if (parsers.findLine('a=rtcp-mux', lines)) {\n            desc.mux = true;\n        }\n\n        var fbLines = parsers.findLines('a=rtcp-fb:*', lines);\n        fbLines.forEach(function (line) {\n            desc.feedback.push(parsers.rtcpfb(line));\n        });\n\n        var extLines = parsers.findLines('a=extmap:', lines);\n        extLines.forEach(function (line) {\n            var ext = parsers.extmap(line);\n\n            ext.senders = SENDERS[role][direction][ext.senders];\n\n            desc.headerExtensions.push(ext);\n        });\n\n        var ssrcGroupLines = parsers.findLines('a=ssrc-group:', lines);\n        desc.sourceGroups = parsers.sourceGroups(ssrcGroupLines || []);\n\n        var ssrcLines = parsers.findLines('a=ssrc:', lines);\n        var sources = desc.sources = parsers.sources(ssrcLines || []);\n\n        var msidLine = parsers.findLine('a=msid:', lines);\n        if (msidLine) {\n            var msid = parsers.msid(msidLine);\n            ['msid', 'mslabel', 'label'].forEach(function (key) {\n                for (var i = 0; i < sources.length; i++) {\n                    var found = false;\n                    for (var j = 0; j < sources[i].parameters.length; j++) {\n                        if (sources[i].parameters[j].key === key) {\n                            found = true;\n                        }\n                    }\n                    if (!found) {\n                        sources[i].parameters.push({ key: key, value: msid[key] });\n                    }\n                }\n            });\n        }\n\n        if (parsers.findLine('a=x-google-flag:conference', lines, sessionLines)) {\n            desc.googConferenceFlag = true;\n        }\n    }\n\n    // transport specific attributes\n    var fingerprintLines = parsers.findLines('a=fingerprint:', lines, sessionLines);\n    var setup = parsers.findLine('a=setup:', lines, sessionLines);\n    fingerprintLines.forEach(function (line) {\n        var fp = parsers.fingerprint(line);\n        if (setup) {\n            fp.setup = setup.substr(8);\n        }\n        trans.fingerprints.push(fp);\n    });\n\n    var ufragLine = parsers.findLine('a=ice-ufrag:', lines, sessionLines);\n    var pwdLine = parsers.findLine('a=ice-pwd:', lines, sessionLines);\n    if (ufragLine && pwdLine) {\n        trans.ufrag = ufragLine.substr(12);\n        trans.pwd = pwdLine.substr(10);\n        trans.candidates = [];\n\n        var candidateLines = parsers.findLines('a=candidate:', lines, sessionLines);\n        candidateLines.forEach(function (line) {\n            trans.candidates.push(exports.toCandidateJSON(line));\n        });\n    }\n\n    if (desc.descType == 'datachannel') {\n        var sctpmapLines = parsers.findLines('a=sctpmap:', lines);\n        sctpmapLines.forEach(function (line) {\n            var sctp = parsers.sctpmap(line);\n            trans.sctp.push(sctp);\n        });\n    }\n\n    return content;\n};\n\nexports.toCandidateJSON = function (line) {\n    var candidate = parsers.candidate(line.split('\\r\\n')[0]);\n    candidate.id = (idCounter++).toString(36).substr(0, 12);\n    return candidate;\n};\n","var SENDERS = require('./senders');\n\n\nexports.toSessionSDP = function (session, opts) {\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n    var sid = opts.sid || session.sid || Date.now();\n    var time = opts.time || Date.now();\n\n    var sdp = [\n        'v=0',\n        'o=- ' + sid + ' ' + time + ' IN IP4 0.0.0.0',\n        's=-',\n        't=0 0',\n        'a=msid-semantic: WMS *'\n    ];\n\n    var groups = session.groups || [];\n    groups.forEach(function (group) {\n        sdp.push('a=group:' + group.semantics + ' ' + group.contents.join(' '));\n    });\n\n    var contents = session.contents || [];\n    contents.forEach(function (content) {\n        sdp.push(exports.toMediaSDP(content, opts));\n    });\n\n    return sdp.join('\\r\\n') + '\\r\\n';\n};\n\nexports.toMediaSDP = function (content, opts) {\n    var sdp = [];\n\n    var role = opts.role || 'initiator';\n    var direction = opts.direction || 'outgoing';\n\n    var desc = content.description;\n    var transport = content.transport;\n    var payloads = desc.payloads || [];\n    var fingerprints = (transport && transport.fingerprints) || [];\n\n    var mline = [];\n    if (desc.descType == 'datachannel') {\n        mline.push('application');\n        mline.push('1');\n        mline.push('DTLS/SCTP');\n        if (transport.sctp) {\n            transport.sctp.forEach(function (map) {\n                mline.push(map.number);\n            });\n        }\n    } else {\n        mline.push(desc.media);\n        mline.push('1');\n        if ((desc.encryption && desc.encryption.length > 0) || (fingerprints.length > 0)) {\n            mline.push('RTP/SAVPF');\n        } else {\n            mline.push('RTP/AVPF');\n        }\n        payloads.forEach(function (payload) {\n            mline.push(payload.id);\n        });\n    }\n\n\n    sdp.push('m=' + mline.join(' '));\n\n    sdp.push('c=IN IP4 0.0.0.0');\n    if (desc.bandwidth && desc.bandwidth.type && desc.bandwidth.bandwidth) {\n        sdp.push('b=' + desc.bandwidth.type + ':' + desc.bandwidth.bandwidth);\n    }\n    if (desc.descType == 'rtp') {\n        sdp.push('a=rtcp:1 IN IP4 0.0.0.0');\n    }\n\n    if (transport) {\n        if (transport.ufrag) {\n            sdp.push('a=ice-ufrag:' + transport.ufrag);\n        }\n        if (transport.pwd) {\n            sdp.push('a=ice-pwd:' + transport.pwd);\n        }\n\n        var pushedSetup = false;\n        fingerprints.forEach(function (fingerprint) {\n            sdp.push('a=fingerprint:' + fingerprint.hash + ' ' + fingerprint.value);\n            if (fingerprint.setup && !pushedSetup) {\n                sdp.push('a=setup:' + fingerprint.setup);\n            }\n        });\n\n        if (transport.sctp) {\n            transport.sctp.forEach(function (map) {\n                sdp.push('a=sctpmap:' + map.number + ' ' + map.protocol + ' ' + map.streams);\n            });\n        }\n    }\n\n    if (desc.descType == 'rtp') {\n        sdp.push('a=' + (SENDERS[role][direction][content.senders] || 'sendrecv'));\n    }\n    sdp.push('a=mid:' + content.name);\n\n    if (desc.sources && desc.sources.length) {\n        (desc.sources[0].parameters || []).forEach(function (param) {\n            if (param.key === 'msid') {\n                sdp.push('a=msid:' + param.value);\n            }\n        });\n    }\n\n    if (desc.mux) {\n        sdp.push('a=rtcp-mux');\n    }\n\n    var encryption = desc.encryption || [];\n    encryption.forEach(function (crypto) {\n        sdp.push('a=crypto:' + crypto.tag + ' ' + crypto.cipherSuite + ' ' + crypto.keyParams + (crypto.sessionParams ? ' ' + crypto.sessionParams : ''));\n    });\n    if (desc.googConferenceFlag) {\n        sdp.push('a=x-google-flag:conference');\n    }\n\n    payloads.forEach(function (payload) {\n        var rtpmap = 'a=rtpmap:' + payload.id + ' ' + payload.name + '/' + payload.clockrate;\n        if (payload.channels && payload.channels != '1') {\n            rtpmap += '/' + payload.channels;\n        }\n        sdp.push(rtpmap);\n\n        if (payload.parameters && payload.parameters.length) {\n            var fmtp = ['a=fmtp:' + payload.id];\n            var parameters = [];\n            payload.parameters.forEach(function (param) {\n                parameters.push((param.key ? param.key + '=' : '') + param.value);\n            });\n            fmtp.push(parameters.join(';'));\n            sdp.push(fmtp.join(' '));\n        }\n\n        if (payload.feedback) {\n            payload.feedback.forEach(function (fb) {\n                if (fb.type === 'trr-int') {\n                    sdp.push('a=rtcp-fb:' + payload.id + ' trr-int ' + (fb.value ? fb.value : '0'));\n                } else {\n                    sdp.push('a=rtcp-fb:' + payload.id + ' ' + fb.type + (fb.subtype ? ' ' + fb.subtype : ''));\n                }\n            });\n        }\n    });\n\n    if (desc.feedback) {\n        desc.feedback.forEach(function (fb) {\n            if (fb.type === 'trr-int') {\n                sdp.push('a=rtcp-fb:* trr-int ' + (fb.value ? fb.value : '0'));\n            } else {\n                sdp.push('a=rtcp-fb:* ' + fb.type + (fb.subtype ? ' ' + fb.subtype : ''));\n            }\n        });\n    }\n\n    var hdrExts = desc.headerExtensions || [];\n    hdrExts.forEach(function (hdr) {\n        sdp.push('a=extmap:' + hdr.id + (hdr.senders ? '/' + SENDERS[role][direction][hdr.senders] : '') + ' ' + hdr.uri);\n    });\n\n    var ssrcGroups = desc.sourceGroups || [];\n    ssrcGroups.forEach(function (ssrcGroup) {\n        sdp.push('a=ssrc-group:' + ssrcGroup.semantics + ' ' + ssrcGroup.sources.join(' '));\n    });\n\n    var ssrcs = desc.sources || [];\n    ssrcs.forEach(function (ssrc) {\n        for (var i = 0; i < ssrc.parameters.length; i++) {\n            var param = ssrc.parameters[i];\n            sdp.push('a=ssrc:' + (ssrc.ssrc || desc.ssrc) + ' ' + param.key + (param.value ? (':' + param.value) : ''));\n        }\n    });\n\n    var candidates = transport.candidates || [];\n    candidates.forEach(function (candidate) {\n        sdp.push(exports.toCandidateSDP(candidate));\n    });\n\n    return sdp.join('\\r\\n');\n};\n\nexports.toCandidateSDP = function (candidate) {\n    var sdp = [];\n\n    sdp.push(candidate.foundation);\n    sdp.push(candidate.component);\n    sdp.push(candidate.protocol.toUpperCase());\n    sdp.push(candidate.priority);\n    sdp.push(candidate.ip);\n    sdp.push(candidate.port);\n\n    var type = candidate.type;\n    sdp.push('typ');\n    sdp.push(type);\n    if (type === 'srflx' || type === 'prflx' || type === 'relay') {\n        if (candidate.relAddr && candidate.relPort) {\n            sdp.push('raddr');\n            sdp.push(candidate.relAddr);\n            sdp.push('rport');\n            sdp.push(candidate.relPort);\n        }\n    }\n    if (candidate.tcpType && candidate.protocol.toUpperCase() == 'TCP') {\n        sdp.push('tcptype');\n        sdp.push(candidate.tcpType);\n    }\n\n    sdp.push('generation');\n    sdp.push(candidate.generation || '0');\n\n    // FIXME: apparently this is wrong per spec\n    // but then, we need this when actually putting this into\n    // SDP so it's going to stay.\n    // decision needs to be revisited when browsers dont\n    // accept this any longer\n    return 'a=candidate:' + sdp.join(' ');\n};\n","// based on https://github.com/ESTOS/strophe.jingle/\n// adds wildemitter support\nvar util = require('util');\nvar adapter = require('webrtc-adapter-test');\nvar WildEmitter = require('wildemitter');\n\nfunction dumpSDP(description) {\n    return {\n        type: description.type,\n        sdp: description.sdp\n    };\n}\n\nfunction dumpStream(stream) {\n    var info = {\n        label: stream.id,\n    };\n    if (stream.getAudioTracks().length) {\n        info.audio = stream.getAudioTracks().map(function (track) {\n            return track.id;\n        });\n    }\n    if (stream.getVideoTracks().length) {\n        info.video = stream.getVideoTracks().map(function (track) {\n            return track.id;\n        });\n    }\n    return info;\n}\n\nfunction TraceablePeerConnection(config, constraints) {\n    var self = this;\n    WildEmitter.call(this);\n\n    this.peerconnection = new window.RTCPeerConnection(config, constraints);\n\n    this.trace = function (what, info) {\n        self.emit('PeerConnectionTrace', {\n            time: new Date(),\n            type: what,\n            value: info || \"\"\n        });\n    };\n\n    this.onicecandidate = null;\n    this.peerconnection.onicecandidate = function (event) {\n        self.trace('onicecandidate', event.candidate);\n        if (self.onicecandidate !== null) {\n            self.onicecandidate(event);\n        }\n    };\n    this.onaddstream = null;\n    this.peerconnection.onaddstream = function (event) {\n        self.trace('onaddstream', dumpStream(event.stream));\n        if (self.onaddstream !== null) {\n            self.onaddstream(event);\n        }\n    };\n    this.onremovestream = null;\n    this.peerconnection.onremovestream = function (event) {\n        self.trace('onremovestream', dumpStream(event.stream));\n        if (self.onremovestream !== null) {\n            self.onremovestream(event);\n        }\n    };\n    this.onsignalingstatechange = null;\n    this.peerconnection.onsignalingstatechange = function (event) {\n        self.trace('onsignalingstatechange', self.signalingState);\n        if (self.onsignalingstatechange !== null) {\n            self.onsignalingstatechange(event);\n        }\n    };\n    this.oniceconnectionstatechange = null;\n    this.peerconnection.oniceconnectionstatechange = function (event) {\n        self.trace('oniceconnectionstatechange', self.iceConnectionState);\n        if (self.oniceconnectionstatechange !== null) {\n            self.oniceconnectionstatechange(event);\n        }\n    };\n    this.onnegotiationneeded = null;\n    this.peerconnection.onnegotiationneeded = function (event) {\n        self.trace('onnegotiationneeded');\n        if (self.onnegotiationneeded !== null) {\n            self.onnegotiationneeded(event);\n        }\n    };\n    self.ondatachannel = null;\n    this.peerconnection.ondatachannel = function (event) {\n        self.trace('ondatachannel', event);\n        if (self.ondatachannel !== null) {\n            self.ondatachannel(event);\n        }\n    };\n    this.getLocalStreams = this.peerconnection.getLocalStreams.bind(this.peerconnection);\n    this.getRemoteStreams = this.peerconnection.getRemoteStreams.bind(this.peerconnection);\n}\n\nutil.inherits(TraceablePeerConnection, WildEmitter);\n\n['signalingState', 'iceConnectionState', 'localDescription', 'remoteDescription'].forEach(function (prop) {\n    Object.defineProperty(TraceablePeerConnection.prototype, prop, {\n        get: function () {\n            return this.peerconnection[prop];\n        }\n    });\n});\n\nTraceablePeerConnection.prototype.addStream = function (stream) {\n    this.trace('addStream', dumpStream(stream));\n    this.peerconnection.addStream(stream);\n};\n\nTraceablePeerConnection.prototype.removeStream = function (stream) {\n    this.trace('removeStream', dumpStream(stream));\n    this.peerconnection.removeStream(stream);\n};\n\nTraceablePeerConnection.prototype.createDataChannel = function (label, opts) {\n    this.trace('createDataChannel', label, opts);\n    return this.peerconnection.createDataChannel(label, opts);\n};\n\nTraceablePeerConnection.prototype.setLocalDescription = function (description, successCallback, failureCallback) {\n    var self = this;\n    this.trace('setLocalDescription', dumpSDP(description));\n    this.peerconnection.setLocalDescription(description,\n        function () {\n            self.trace('setLocalDescriptionOnSuccess');\n            if (successCallback) successCallback();\n        },\n        function (err) {\n            self.trace('setLocalDescriptionOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        }\n    );\n};\n\nTraceablePeerConnection.prototype.setRemoteDescription = function (description, successCallback, failureCallback) {\n    var self = this;\n    this.trace('setRemoteDescription', dumpSDP(description));\n    this.peerconnection.setRemoteDescription(description,\n        function () {\n            self.trace('setRemoteDescriptionOnSuccess');\n            if (successCallback) successCallback();\n        },\n        function (err) {\n            self.trace('setRemoteDescriptionOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        }\n    );\n};\n\nTraceablePeerConnection.prototype.close = function () {\n    this.trace('stop');\n    if (this.peerconnection.signalingState != 'closed') {\n        this.peerconnection.close();\n    }\n};\n\nTraceablePeerConnection.prototype.createOffer = function (successCallback, failureCallback, constraints) {\n    var self = this;\n    this.trace('createOffer', constraints);\n    this.peerconnection.createOffer(\n        function (offer) {\n            self.trace('createOfferOnSuccess', dumpSDP(offer));\n            if (successCallback) successCallback(offer);\n        },\n        function (err) {\n            self.trace('createOfferOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        },\n        constraints\n    );\n};\n\nTraceablePeerConnection.prototype.createAnswer = function (successCallback, failureCallback, constraints) {\n    var self = this;\n    this.trace('createAnswer', constraints);\n    this.peerconnection.createAnswer(\n        function (answer) {\n            self.trace('createAnswerOnSuccess', dumpSDP(answer));\n            if (successCallback) successCallback(answer);\n        },\n        function (err) {\n            self.trace('createAnswerOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        },\n        constraints\n    );\n};\n\nTraceablePeerConnection.prototype.addIceCandidate = function (candidate, successCallback, failureCallback) {\n    var self = this;\n    this.trace('addIceCandidate', candidate);\n    this.peerconnection.addIceCandidate(candidate,\n        function () {\n            //self.trace('addIceCandidateOnSuccess');\n            if (successCallback) successCallback();\n        },\n        function (err) {\n            self.trace('addIceCandidateOnFailure', err);\n            if (failureCallback) failureCallback(err);\n        }\n    );\n};\n\nTraceablePeerConnection.prototype.getStats = function () {\n    this.peerconnection.getStats.apply(this.peerconnection, arguments);\n};\n\nmodule.exports = TraceablePeerConnection;\n","var util = require('util');\nvar each = require('lodash.foreach');\nvar pluck = require('lodash.pluck');\nvar SJJ = require('sdp-jingle-json');\nvar WildEmitter = require('wildemitter');\nvar peerconn = require('traceablepeerconnection');\nvar adapter = require('webrtc-adapter-test');\n\nfunction PeerConnection(config, constraints) {\n    var self = this;\n    var item;\n    WildEmitter.call(this);\n\n    config = config || {};\n    config.iceServers = config.iceServers || [];\n\n    // make sure this only gets enabled in Google Chrome\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.enableChromeNativeSimulcast = false;\n    if (constraints && constraints.optional &&\n            adapter.webrtcDetectedBrowser === 'chrome' &&\n            navigator.appVersion.match(/Chromium\\//) === null) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.enableChromeNativeSimulcast) {\n                self.enableChromeNativeSimulcast = true;\n            }\n        });\n    }\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.enableMultiStreamHacks = false;\n    if (constraints && constraints.optional &&\n            adapter.webrtcDetectedBrowser === 'chrome') {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.enableMultiStreamHacks) {\n                self.enableMultiStreamHacks = true;\n            }\n        });\n    }\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.restrictBandwidth = 0;\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetRestrictBandwidth) {\n                self.restrictBandwidth = constraint.andyetRestrictBandwidth;\n            }\n        });\n    }\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // bundle up ice candidates, only works for jingle mode\n    // number > 0 is the delay to wait for additional candidates\n    // ~20ms seems good\n    this.batchIceCandidates = 0;\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetBatchIce) {\n                self.batchIceCandidates = constraint.andyetBatchIce;\n            }\n        });\n    }\n    this.batchedIceCandidates = [];\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // this attemps to strip out candidates with an already known foundation\n    // and type -- i.e. those which are gathered via the same TURN server\n    // but different transports (TURN udp, tcp and tls respectively)\n    if (constraints && constraints.optional && adapter.webrtcDetectedBrowser === 'chrome') {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetFasterICE) {\n                self.eliminateDuplicateCandidates = constraint.andyetFasterICE;\n            }\n        });\n    }\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // when using a server such as the jitsi videobridge we don't need to signal\n    // our candidates\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetDontSignalCandidates) {\n                self.dontSignalCandidates = constraint.andyetDontSignalCandidates;\n            }\n        });\n    }\n\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    this.assumeSetLocalSuccess = false;\n    if (constraints && constraints.optional) {\n        constraints.optional.forEach(function (constraint) {\n            if (constraint.andyetAssumeSetLocalSuccess) {\n                self.assumeSetLocalSuccess = constraint.andyetAssumeSetLocalSuccess;\n            }\n        });\n    }\n\n    // EXPERIMENTAL FLAG, might get removed without notice\n    // working around https://bugzilla.mozilla.org/show_bug.cgi?id=1087551\n    // pass in a timeout for this\n    if (adapter.webrtcDetectedBrowser === 'firefox') {\n        if (constraints && constraints.optional) {\n            this.wtFirefox = 0;\n            constraints.optional.forEach(function (constraint) {\n                if (constraint.andyetFirefoxMakesMeSad) {\n                    self.wtFirefox = constraint.andyetFirefoxMakesMeSad;\n                    if (self.wtFirefox > 0) {\n                        self.firefoxcandidatebuffer = [];\n                    }\n                }\n            });\n        }\n    }\n\n\n    this.pc = new peerconn(config, constraints);\n\n    this.getLocalStreams = this.pc.getLocalStreams.bind(this.pc);\n    this.getRemoteStreams = this.pc.getRemoteStreams.bind(this.pc);\n    this.addStream = this.pc.addStream.bind(this.pc);\n    this.removeStream = this.pc.removeStream.bind(this.pc);\n\n    // proxy events\n    this.pc.on('*', function () {\n        self.emit.apply(self, arguments);\n    });\n\n    // proxy some events directly\n    this.pc.onremovestream = this.emit.bind(this, 'removeStream');\n    this.pc.onaddstream = this.emit.bind(this, 'addStream');\n    this.pc.onnegotiationneeded = this.emit.bind(this, 'negotiationNeeded');\n    this.pc.oniceconnectionstatechange = this.emit.bind(this, 'iceConnectionStateChange');\n    this.pc.onsignalingstatechange = this.emit.bind(this, 'signalingStateChange');\n\n    // handle ice candidate and data channel events\n    this.pc.onicecandidate = this._onIce.bind(this);\n    this.pc.ondatachannel = this._onDataChannel.bind(this);\n\n    this.localDescription = {\n        contents: []\n    };\n    this.remoteDescription = {\n        contents: []\n    };\n\n    this.config = {\n        debug: false,\n        ice: {},\n        sid: '',\n        isInitiator: true,\n        sdpSessionID: Date.now(),\n        useJingle: false\n    };\n\n    // apply our config\n    for (item in config) {\n        this.config[item] = config[item];\n    }\n\n    if (this.config.debug) {\n        this.on('*', function () {\n            var logger = config.logger || console;\n            logger.log('PeerConnection event:', arguments);\n        });\n    }\n    this.hadLocalStunCandidate = false;\n    this.hadRemoteStunCandidate = false;\n    this.hadLocalRelayCandidate = false;\n    this.hadRemoteRelayCandidate = false;\n\n    this.hadLocalIPv6Candidate = false;\n    this.hadRemoteIPv6Candidate = false;\n\n    // keeping references for all our data channels\n    // so they dont get garbage collected\n    // can be removed once the following bugs have been fixed\n    // https://crbug.com/405545\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=964092\n    // to be filed for opera\n    this._remoteDataChannels = [];\n    this._localDataChannels = [];\n\n    this._candidateBuffer = [];\n}\n\nutil.inherits(PeerConnection, WildEmitter);\n\nObject.defineProperty(PeerConnection.prototype, 'signalingState', {\n    get: function () {\n        return this.pc.signalingState;\n    }\n});\nObject.defineProperty(PeerConnection.prototype, 'iceConnectionState', {\n    get: function () {\n        return this.pc.iceConnectionState;\n    }\n});\n\nPeerConnection.prototype._role = function () {\n    return this.isInitiator ? 'initiator' : 'responder';\n};\n\n// Add a stream to the peer connection object\nPeerConnection.prototype.addStream = function (stream) {\n    this.localStream = stream;\n    this.pc.addStream(stream);\n};\n\n// helper function to check if a remote candidate is a stun/relay\n// candidate or an ipv6 candidate\nPeerConnection.prototype._checkLocalCandidate = function (candidate) {\n    var cand = SJJ.toCandidateJSON(candidate);\n    if (cand.type == 'srflx') {\n        this.hadLocalStunCandidate = true;\n    } else if (cand.type == 'relay') {\n        this.hadLocalRelayCandidate = true;\n    }\n    if (cand.ip.indexOf(':') != -1) {\n        this.hadLocalIPv6Candidate = true;\n    }\n};\n\n// helper function to check if a remote candidate is a stun/relay\n// candidate or an ipv6 candidate\nPeerConnection.prototype._checkRemoteCandidate = function (candidate) {\n    var cand = SJJ.toCandidateJSON(candidate);\n    if (cand.type == 'srflx') {\n        this.hadRemoteStunCandidate = true;\n    } else if (cand.type == 'relay') {\n        this.hadRemoteRelayCandidate = true;\n    }\n    if (cand.ip.indexOf(':') != -1) {\n        this.hadRemoteIPv6Candidate = true;\n    }\n};\n\n\n// Init and add ice candidate object with correct constructor\nPeerConnection.prototype.processIce = function (update, cb) {\n    cb = cb || function () {};\n    var self = this;\n\n    // ignore any added ice candidates to avoid errors. why does the\n    // spec not do this?\n    if (this.pc.signalingState === 'closed') return cb();\n\n    if (update.contents || (update.jingle && update.jingle.contents)) {\n        var contentNames = pluck(this.remoteDescription.contents, 'name');\n        var contents = update.contents || update.jingle.contents;\n\n        contents.forEach(function (content) {\n            var transport = content.transport || {};\n            var candidates = transport.candidates || [];\n            var mline = contentNames.indexOf(content.name);\n            var mid = content.name;\n\n            candidates.forEach(\n                function (candidate) {\n                var iceCandidate = SJJ.toCandidateSDP(candidate) + '\\r\\n';\n                self.pc.addIceCandidate(\n                    new RTCIceCandidate({\n                        candidate: iceCandidate,\n                        sdpMLineIndex: mline,\n                        sdpMid: mid\n                    }), function () {\n                        // well, this success callback is pretty meaningless\n                    },\n                    function (err) {\n                        self.emit('error', err);\n                    }\n                );\n                self._checkRemoteCandidate(iceCandidate);\n            });\n        });\n    } else {\n        // working around https://code.google.com/p/webrtc/issues/detail?id=3669\n        if (update.candidate && update.candidate.candidate.indexOf('a=') !== 0) {\n            update.candidate.candidate = 'a=' + update.candidate.candidate;\n        }\n\n        if (this.wtFirefox && this.firefoxcandidatebuffer !== null) {\n            // we cant add this yet due to https://bugzilla.mozilla.org/show_bug.cgi?id=1087551\n            if (this.pc.localDescription && this.pc.localDescription.type === 'offer') {\n                this.firefoxcandidatebuffer.push(update.candidate);\n                return cb();\n            }\n        }\n\n        self.pc.addIceCandidate(\n            new RTCIceCandidate(update.candidate),\n            function () { },\n            function (err) {\n                self.emit('error', err);\n            }\n        );\n        self._checkRemoteCandidate(update.candidate.candidate);\n    }\n    cb();\n};\n\n// Generate and emit an offer with the given constraints\nPeerConnection.prototype.offer = function (constraints, cb) {\n    var self = this;\n    var hasConstraints = arguments.length === 2;\n    var mediaConstraints = hasConstraints && constraints ? constraints : {\n            mandatory: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: true\n            }\n        };\n    cb = hasConstraints ? cb : constraints;\n    cb = cb || function () {};\n\n    if (this.pc.signalingState === 'closed') return cb('Already closed');\n\n    // Actually generate the offer\n    this.pc.createOffer(\n        function (offer) {\n            // does not work for jingle, but jingle.js doesn't need\n            // this hack...\n            var expandedOffer = {\n                type: 'offer',\n                sdp: offer.sdp\n            };\n            if (self.assumeSetLocalSuccess) {\n                self.emit('offer', expandedOffer);\n                cb(null, expandedOffer);\n            }\n            self._candidateBuffer = [];\n            self.pc.setLocalDescription(offer,\n                function () {\n                    var jingle;\n                    if (self.config.useJingle) {\n                        jingle = SJJ.toSessionJSON(offer.sdp, {\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                        jingle.sid = self.config.sid;\n                        self.localDescription = jingle;\n\n                        // Save ICE credentials\n                        each(jingle.contents, function (content) {\n                            var transport = content.transport || {};\n                            if (transport.ufrag) {\n                                self.config.ice[content.name] = {\n                                    ufrag: transport.ufrag,\n                                    pwd: transport.pwd\n                                };\n                            }\n                        });\n\n                        expandedOffer.jingle = jingle;\n                    }\n                    expandedOffer.sdp.split('\\r\\n').forEach(function (line) {\n                        if (line.indexOf('a=candidate:') === 0) {\n                            self._checkLocalCandidate(line);\n                        }\n                    });\n\n                    if (!self.assumeSetLocalSuccess) {\n                        self.emit('offer', expandedOffer);\n                        cb(null, expandedOffer);\n                    }\n                },\n                function (err) {\n                    self.emit('error', err);\n                    cb(err);\n                }\n            );\n        },\n        function (err) {\n            self.emit('error', err);\n            cb(err);\n        },\n        mediaConstraints\n    );\n};\n\n\n// Process an incoming offer so that ICE may proceed before deciding\n// to answer the request.\nPeerConnection.prototype.handleOffer = function (offer, cb) {\n    cb = cb || function () {};\n    var self = this;\n    offer.type = 'offer';\n    if (offer.jingle) {\n        if (this.enableChromeNativeSimulcast) {\n            offer.jingle.contents.forEach(function (content) {\n                if (content.name === 'video') {\n                    content.description.googConferenceFlag = true;\n                }\n            });\n        }\n        if (this.enableMultiStreamHacks) {\n            // add a mixed video stream as first stream\n            offer.jingle.contents.forEach(function (content) {\n                if (content.name === 'video') {\n                    var sources = content.description.sources || [];\n                    if (sources.length === 0 || sources[0].ssrc !== \"3735928559\") {\n                        sources.unshift({\n                            ssrc: \"3735928559\", // 0xdeadbeef\n                            parameters: [\n                                {\n                                    key: \"cname\",\n                                    value: \"deadbeef\"\n                                },\n                                {\n                                    key: \"msid\",\n                                    value: \"mixyourfecintothis please\"\n                                }\n                            ]\n                        });\n                        content.description.sources = sources;\n                    }\n                }\n            });\n        }\n        if (self.restrictBandwidth > 0) {\n            if (offer.jingle.contents.length >= 2 && offer.jingle.contents[1].name === 'video') {\n                var content = offer.jingle.contents[1];\n                var hasBw = content.description && content.description.bandwidth;\n                if (!hasBw) {\n                    offer.jingle.contents[1].description.bandwidth = { type: 'AS', bandwidth: self.restrictBandwidth.toString() };\n                    offer.sdp = SJJ.toSessionSDP(offer.jingle, {\n                        sid: self.config.sdpSessionID,\n                        role: self._role(),\n                        direction: 'outgoing'\n                    });\n                }\n            }\n        }\n        offer.sdp = SJJ.toSessionSDP(offer.jingle, {\n            sid: self.config.sdpSessionID,\n            role: self._role(),\n            direction: 'incoming'\n        });\n        self.remoteDescription = offer.jingle;\n    }\n    offer.sdp.split('\\r\\n').forEach(function (line) {\n        if (line.indexOf('a=candidate:') === 0) {\n            self._checkRemoteCandidate(line);\n        }\n    });\n    self.pc.setRemoteDescription(new RTCSessionDescription(offer),\n        function () {\n            cb();\n        },\n        cb\n    );\n};\n\n// Answer an offer with audio only\nPeerConnection.prototype.answerAudioOnly = function (cb) {\n    var mediaConstraints = {\n            mandatory: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: false\n            }\n        };\n    this._answer(mediaConstraints, cb);\n};\n\n// Answer an offer without offering to recieve\nPeerConnection.prototype.answerBroadcastOnly = function (cb) {\n    var mediaConstraints = {\n            mandatory: {\n                OfferToReceiveAudio: false,\n                OfferToReceiveVideo: false\n            }\n        };\n    this._answer(mediaConstraints, cb);\n};\n\n// Answer an offer with given constraints default is audio/video\nPeerConnection.prototype.answer = function (constraints, cb) {\n    var hasConstraints = arguments.length === 2;\n    var callback = hasConstraints ? cb : constraints;\n    var mediaConstraints = hasConstraints && constraints ? constraints : {\n            mandatory: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: true\n            }\n        };\n\n    this._answer(mediaConstraints, callback);\n};\n\n// Process an answer\nPeerConnection.prototype.handleAnswer = function (answer, cb) {\n    cb = cb || function () {};\n    var self = this;\n    if (answer.jingle) {\n        answer.sdp = SJJ.toSessionSDP(answer.jingle, {\n            sid: self.config.sdpSessionID,\n            role: self._role(),\n            direction: 'incoming'\n        });\n        self.remoteDescription = answer.jingle;\n    }\n    answer.sdp.split('\\r\\n').forEach(function (line) {\n        if (line.indexOf('a=candidate:') === 0) {\n            self._checkRemoteCandidate(line);\n        }\n    });\n    self.pc.setRemoteDescription(\n        new RTCSessionDescription(answer),\n        function () {\n            if (self.wtFirefox) {\n                window.setTimeout(function () {\n                    self.firefoxcandidatebuffer.forEach(function (candidate) {\n                        // add candidates later\n                        self.pc.addIceCandidate(\n                            new RTCIceCandidate(candidate),\n                            function () { },\n                            function (err) {\n                                self.emit('error', err);\n                            }\n                        );\n                        self._checkRemoteCandidate(candidate.candidate);\n                    });\n                    self.firefoxcandidatebuffer = null;\n                }, self.wtFirefox);\n            }\n            cb(null);\n        },\n        cb\n    );\n};\n\n// Close the peer connection\nPeerConnection.prototype.close = function () {\n    this.pc.close();\n\n    this._localDataChannels = [];\n    this._remoteDataChannels = [];\n\n    this.emit('close');\n};\n\n// Internal code sharing for various types of answer methods\nPeerConnection.prototype._answer = function (constraints, cb) {\n    cb = cb || function () {};\n    var self = this;\n    if (!this.pc.remoteDescription) {\n        // the old API is used, call handleOffer\n        throw new Error('remoteDescription not set');\n    }\n\n    if (this.pc.signalingState === 'closed') return cb('Already closed');\n\n    self.pc.createAnswer(\n        function (answer) {\n            var sim = [];\n            if (self.enableChromeNativeSimulcast) {\n                // native simulcast part 1: add another SSRC\n                answer.jingle = SJJ.toSessionJSON(answer.sdp, {\n                    role: self._role(),\n                    direction: 'outgoing'\n                });\n                if (answer.jingle.contents.length >= 2 && answer.jingle.contents[1].name === 'video') {\n                    var groups = answer.jingle.contents[1].description.sourceGroups || [];\n                    var hasSim = false;\n                    groups.forEach(function (group) {\n                        if (group.semantics == 'SIM') hasSim = true;\n                    });\n                    if (!hasSim &&\n                        answer.jingle.contents[1].description.sources.length) {\n                        var newssrc = JSON.parse(JSON.stringify(answer.jingle.contents[1].description.sources[0]));\n                        newssrc.ssrc = '' + Math.floor(Math.random() * 0xffffffff); // FIXME: look for conflicts\n                        answer.jingle.contents[1].description.sources.push(newssrc);\n\n                        sim.push(answer.jingle.contents[1].description.sources[0].ssrc);\n                        sim.push(newssrc.ssrc);\n                        groups.push({\n                            semantics: 'SIM',\n                            sources: sim\n                        });\n\n                        // also create an RTX one for the SIM one\n                        var rtxssrc = JSON.parse(JSON.stringify(newssrc));\n                        rtxssrc.ssrc = '' + Math.floor(Math.random() * 0xffffffff); // FIXME: look for conflicts\n                        answer.jingle.contents[1].description.sources.push(rtxssrc);\n                        groups.push({\n                            semantics: 'FID',\n                            sources: [newssrc.ssrc, rtxssrc.ssrc]\n                        });\n\n                        answer.jingle.contents[1].description.sourceGroups = groups;\n                        answer.sdp = SJJ.toSessionSDP(answer.jingle, {\n                            sid: self.config.sdpSessionID,\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                    }\n                }\n            }\n            var expandedAnswer = {\n                type: 'answer',\n                sdp: answer.sdp\n            };\n            if (self.assumeSetLocalSuccess) {\n                // not safe to do when doing simulcast mangling\n                self.emit('answer', expandedAnswer);\n                cb(null, expandedAnswer);\n            }\n            self._candidateBuffer = [];\n            self.pc.setLocalDescription(answer,\n                function () {\n                    if (self.config.useJingle) {\n                        var jingle = SJJ.toSessionJSON(answer.sdp, {\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                        jingle.sid = self.config.sid;\n                        self.localDescription = jingle;\n                        expandedAnswer.jingle = jingle;\n                    }\n                    if (self.enableChromeNativeSimulcast) {\n                        // native simulcast part 2:\n                        // signal multiple tracks to the receiver\n                        // for anything in the SIM group\n                        if (!expandedAnswer.jingle) {\n                            expandedAnswer.jingle = SJJ.toSessionJSON(answer.sdp, {\n                                role: self._role(),\n                                direction: 'outgoing'\n                            });\n                        }\n                        expandedAnswer.jingle.contents[1].description.sources.forEach(function (source, idx) {\n                            // the floor idx/2 is a hack that relies on a particular order\n                            // of groups, alternating between sim and rtx\n                            source.parameters = source.parameters.map(function (parameter) {\n                                if (parameter.key === 'msid') {\n                                    parameter.value += '-' + Math.floor(idx / 2);\n                                }\n                                return parameter;\n                            });\n                        });\n                        expandedAnswer.sdp = SJJ.toSessionSDP(expandedAnswer.jingle, {\n                            sid: self.sdpSessionID,\n                            role: self._role(),\n                            direction: 'outgoing'\n                        });\n                    }\n                    expandedAnswer.sdp.split('\\r\\n').forEach(function (line) {\n                        if (line.indexOf('a=candidate:') === 0) {\n                            self._checkLocalCandidate(line);\n                        }\n                    });\n                    if (!self.assumeSetLocalSuccess) {\n                        self.emit('answer', expandedAnswer);\n                        cb(null, expandedAnswer);\n                    }\n                },\n                function (err) {\n                    self.emit('error', err);\n                    cb(err);\n                }\n            );\n        },\n        function (err) {\n            self.emit('error', err);\n            cb(err);\n        },\n        constraints\n    );\n};\n\n// Internal method for emitting ice candidates on our peer object\nPeerConnection.prototype._onIce = function (event) {\n    var self = this;\n    if (event.candidate) {\n        if (this.dontSignalCandidates) return;\n        var ice = event.candidate;\n\n        var expandedCandidate = {\n            candidate: {\n                candidate: ice.candidate,\n                sdpMid: ice.sdpMid,\n                sdpMLineIndex: ice.sdpMLineIndex\n            }\n        };\n        this._checkLocalCandidate(ice.candidate);\n\n        var cand = SJJ.toCandidateJSON(ice.candidate);\n\n        var already;\n        var idx;\n        if (this.eliminateDuplicateCandidates && cand.type === 'relay') {\n            // drop candidates with same foundation, component\n            // take local type pref into account so we don't ignore udp\n            // ones when we know about a TCP one. unlikely but...\n            already = this._candidateBuffer.filter(\n                function (c) {\n                    return c.type === 'relay';\n                }).map(function (c) {\n                    return c.foundation + ':' + c.component;\n                }\n            );\n            idx = already.indexOf(cand.foundation + ':' + cand.component);\n            // remember: local type pref of udp is 0, tcp 1, tls 2\n            if (idx > -1 && ((cand.priority >> 24) >= (already[idx].priority >> 24))) {\n                // drop it, same foundation with higher (worse) type pref\n                return;\n            }\n        }\n        if (this.config.bundlePolicy === 'max-bundle') {\n            // drop candidates which are duplicate for audio/video/data\n            // duplicate means same host/port but different sdpMid\n            already = this._candidateBuffer.filter(\n                function (c) {\n                    return cand.type === c.type;\n                }).map(function (cand) {\n                    return cand.address + ':' + cand.port;\n                }\n            );\n            idx = already.indexOf(cand.address + ':' + cand.port);\n            if (idx > -1) return;\n        }\n        // also drop rtcp candidates since we know the peer supports RTCP-MUX\n        // this is a workaround until browsers implement this natively\n        if (this.config.rtcpMuxPolicy === 'require' && cand.component === '2') {\n            return;\n        }\n        this._candidateBuffer.push(cand);\n\n        if (self.config.useJingle) {\n            if (!ice.sdpMid) { // firefox doesn't set this\n                if (self.pc.remoteDescription && self.pc.remoteDescription.type === 'offer') {\n                    // preserve name from remote\n                    ice.sdpMid = self.remoteDescription.contents[ice.sdpMLineIndex].name;\n                } else {\n                    ice.sdpMid = self.localDescription.contents[ice.sdpMLineIndex].name;\n                }\n            }\n            if (!self.config.ice[ice.sdpMid]) {\n                var jingle = SJJ.toSessionJSON(self.pc.localDescription.sdp, {\n                    role: self._role(),\n                    direction: 'outgoing'\n                });\n                each(jingle.contents, function (content) {\n                    var transport = content.transport || {};\n                    if (transport.ufrag) {\n                        self.config.ice[content.name] = {\n                            ufrag: transport.ufrag,\n                            pwd: transport.pwd\n                        };\n                    }\n                });\n            }\n            expandedCandidate.jingle = {\n                contents: [{\n                    name: ice.sdpMid,\n                    creator: self._role(),\n                    transport: {\n                        transType: 'iceUdp',\n                        ufrag: self.config.ice[ice.sdpMid].ufrag,\n                        pwd: self.config.ice[ice.sdpMid].pwd,\n                        candidates: [\n                            cand\n                        ]\n                    }\n                }]\n            };\n            if (self.batchIceCandidates > 0) {\n                if (self.batchedIceCandidates.length === 0) {\n                    window.setTimeout(function () {\n                        var contents = {};\n                        self.batchedIceCandidates.forEach(function (content) {\n                            content = content.contents[0];\n                            if (!contents[content.name]) contents[content.name] = content;\n                            contents[content.name].transport.candidates.push(content.transport.candidates[0]);\n                        });\n                        var newCand = {\n                            jingle: {\n                                contents: []\n                            }\n                        };\n                        Object.keys(contents).forEach(function (name) {\n                            newCand.jingle.contents.push(contents[name]);\n                        });\n                        self.batchedIceCandidates = [];\n                        self.emit('ice', newCand);\n                    }, self.batchIceCandidates);\n                }\n                self.batchedIceCandidates.push(expandedCandidate.jingle);\n                return;\n            }\n\n        }\n        this.emit('ice', expandedCandidate);\n    } else {\n        this.emit('endOfCandidates');\n    }\n};\n\n// Internal method for processing a new data channel being added by the\n// other peer.\nPeerConnection.prototype._onDataChannel = function (event) {\n    // make sure we keep a reference so this doesn't get garbage collected\n    var channel = event.channel;\n    this._remoteDataChannels.push(channel);\n\n    this.emit('addChannel', channel);\n};\n\n// Create a data channel spec reference:\n// http://dev.w3.org/2011/webrtc/editor/webrtc.html#idl-def-RTCDataChannelInit\nPeerConnection.prototype.createDataChannel = function (name, opts) {\n    var channel = this.pc.createDataChannel(name, opts);\n\n    // make sure we keep a reference so this doesn't get garbage collected\n    this._localDataChannels.push(channel);\n\n    return channel;\n};\n\n// a wrapper around getStats which hides the differences (where possible)\n// TODO: remove in favor of adapter.js shim\nPeerConnection.prototype.getStats = function (cb) {\n    if (adapter.webrtcDetectedBrowser === 'firefox') {\n        this.pc.getStats(\n            function (res) {\n                var items = [];\n                for (var result in res) {\n                    if (typeof res[result] === 'object') {\n                        items.push(res[result]);\n                    }\n                }\n                cb(null, items);\n            },\n            cb\n        );\n    } else {\n        this.pc.getStats(function (res) {\n            var items = [];\n            res.result().forEach(function (result) {\n                var item = {};\n                result.names().forEach(function (name) {\n                    item[name] = result.stat(name);\n                });\n                item.id = result.id;\n                item.type = result.type;\n                item.timestamp = result.timestamp;\n                items.push(item);\n            });\n            cb(null, items);\n        });\n    }\n};\n\nmodule.exports = PeerConnection;\n","/*! Socket.IO.js build:0.9.16, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */\n\nvar io = ('undefined' === typeof module ? {} : module.exports);\n(function() {\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, global) {\n\n  /**\n   * IO namespace.\n   *\n   * @namespace\n   */\n\n  var io = exports;\n\n  /**\n   * Socket.IO version\n   *\n   * @api public\n   */\n\n  io.version = '0.9.16';\n\n  /**\n   * Protocol implemented.\n   *\n   * @api public\n   */\n\n  io.protocol = 1;\n\n  /**\n   * Available transports, these will be populated with the available transports\n   *\n   * @api public\n   */\n\n  io.transports = [];\n\n  /**\n   * Keep track of jsonp callbacks.\n   *\n   * @api private\n   */\n\n  io.j = [];\n\n  /**\n   * Keep track of our io.Sockets\n   *\n   * @api private\n   */\n  io.sockets = {};\n\n\n  /**\n   * Manages connections to hosts.\n   *\n   * @param {String} uri\n   * @Param {Boolean} force creation of new socket (defaults to false)\n   * @api public\n   */\n\n  io.connect = function (host, details) {\n    var uri = io.util.parseUri(host)\n      , uuri\n      , socket;\n\n    if (global && global.location) {\n      uri.protocol = uri.protocol || global.location.protocol.slice(0, -1);\n      uri.host = uri.host || (global.document\n        ? global.document.domain : global.location.hostname);\n      uri.port = uri.port || global.location.port;\n    }\n\n    uuri = io.util.uniqueUri(uri);\n\n    var options = {\n        host: uri.host\n      , secure: 'https' == uri.protocol\n      , port: uri.port || ('https' == uri.protocol ? 443 : 80)\n      , query: uri.query || ''\n    };\n\n    io.util.merge(options, details);\n\n    if (options['force new connection'] || !io.sockets[uuri]) {\n      socket = new io.Socket(options);\n    }\n\n    if (!options['force new connection'] && socket) {\n      io.sockets[uuri] = socket;\n    }\n\n    socket = socket || io.sockets[uuri];\n\n    // if path is different from '' or /\n    return socket.of(uri.path.length > 1 ? uri.path : '');\n  };\n\n})('object' === typeof module ? module.exports : (this.io = {}), this);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, global) {\n\n  /**\n   * Utilities namespace.\n   *\n   * @namespace\n   */\n\n  var util = exports.util = {};\n\n  /**\n   * Parses an URI\n   *\n   * @author Steven Levithan <stevenlevithan.com> (MIT license)\n   * @api public\n   */\n\n  var re = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\n  var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password',\n               'host', 'port', 'relative', 'path', 'directory', 'file', 'query',\n               'anchor'];\n\n  util.parseUri = function (str) {\n    var m = re.exec(str || '')\n      , uri = {}\n      , i = 14;\n\n    while (i--) {\n      uri[parts[i]] = m[i] || '';\n    }\n\n    return uri;\n  };\n\n  /**\n   * Produces a unique url that identifies a Socket.IO connection.\n   *\n   * @param {Object} uri\n   * @api public\n   */\n\n  util.uniqueUri = function (uri) {\n    var protocol = uri.protocol\n      , host = uri.host\n      , port = uri.port;\n\n    if ('document' in global) {\n      host = host || document.domain;\n      port = port || (protocol == 'https'\n        && document.location.protocol !== 'https:' ? 443 : document.location.port);\n    } else {\n      host = host || 'localhost';\n\n      if (!port && protocol == 'https') {\n        port = 443;\n      }\n    }\n\n    return (protocol || 'http') + '://' + host + ':' + (port || 80);\n  };\n\n  /**\n   * Mergest 2 query strings in to once unique query string\n   *\n   * @param {String} base\n   * @param {String} addition\n   * @api public\n   */\n\n  util.query = function (base, addition) {\n    var query = util.chunkQuery(base || '')\n      , components = [];\n\n    util.merge(query, util.chunkQuery(addition || ''));\n    for (var part in query) {\n      if (query.hasOwnProperty(part)) {\n        components.push(part + '=' + query[part]);\n      }\n    }\n\n    return components.length ? '?' + components.join('&') : '';\n  };\n\n  /**\n   * Transforms a querystring in to an object\n   *\n   * @param {String} qs\n   * @api public\n   */\n\n  util.chunkQuery = function (qs) {\n    var query = {}\n      , params = qs.split('&')\n      , i = 0\n      , l = params.length\n      , kv;\n\n    for (; i < l; ++i) {\n      kv = params[i].split('=');\n      if (kv[0]) {\n        query[kv[0]] = kv[1];\n      }\n    }\n\n    return query;\n  };\n\n  /**\n   * Executes the given function when the page is loaded.\n   *\n   *     io.util.load(function () { console.log('page loaded'); });\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n  var pageLoaded = false;\n\n  util.load = function (fn) {\n    if ('document' in global && document.readyState === 'complete' || pageLoaded) {\n      return fn();\n    }\n\n    util.on(global, 'load', fn, false);\n  };\n\n  /**\n   * Adds an event.\n   *\n   * @api private\n   */\n\n  util.on = function (element, event, fn, capture) {\n    if (element.attachEvent) {\n      element.attachEvent('on' + event, fn);\n    } else if (element.addEventListener) {\n      element.addEventListener(event, fn, capture);\n    }\n  };\n\n  /**\n   * Generates the correct `XMLHttpRequest` for regular and cross domain requests.\n   *\n   * @param {Boolean} [xdomain] Create a request that can be used cross domain.\n   * @returns {XMLHttpRequest|false} If we can create a XMLHttpRequest.\n   * @api private\n   */\n\n  util.request = function (xdomain) {\n\n    if (xdomain && 'undefined' != typeof XDomainRequest && !util.ua.hasCORS) {\n      return new XDomainRequest();\n    }\n\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || util.ua.hasCORS)) {\n      return new XMLHttpRequest();\n    }\n\n    if (!xdomain) {\n      try {\n        return new window[(['Active'].concat('Object').join('X'))]('Microsoft.XMLHTTP');\n      } catch(e) { }\n    }\n\n    return null;\n  };\n\n  /**\n   * XHR based transport constructor.\n   *\n   * @constructor\n   * @api public\n   */\n\n  /**\n   * Change the internal pageLoaded value.\n   */\n\n  if ('undefined' != typeof window) {\n    util.load(function () {\n      pageLoaded = true;\n    });\n  }\n\n  /**\n   * Defers a function to ensure a spinner is not displayed by the browser\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n  util.defer = function (fn) {\n    if (!util.ua.webkit || 'undefined' != typeof importScripts) {\n      return fn();\n    }\n\n    util.load(function () {\n      setTimeout(fn, 100);\n    });\n  };\n\n  /**\n   * Merges two objects.\n   *\n   * @api public\n   */\n\n  util.merge = function merge (target, additional, deep, lastseen) {\n    var seen = lastseen || []\n      , depth = typeof deep == 'undefined' ? 2 : deep\n      , prop;\n\n    for (prop in additional) {\n      if (additional.hasOwnProperty(prop) && util.indexOf(seen, prop) < 0) {\n        if (typeof target[prop] !== 'object' || !depth) {\n          target[prop] = additional[prop];\n          seen.push(additional[prop]);\n        } else {\n          util.merge(target[prop], additional[prop], depth - 1, seen);\n        }\n      }\n    }\n\n    return target;\n  };\n\n  /**\n   * Merges prototypes from objects\n   *\n   * @api public\n   */\n\n  util.mixin = function (ctor, ctor2) {\n    util.merge(ctor.prototype, ctor2.prototype);\n  };\n\n  /**\n   * Shortcut for prototypical and static inheritance.\n   *\n   * @api private\n   */\n\n  util.inherit = function (ctor, ctor2) {\n    function f() {};\n    f.prototype = ctor2.prototype;\n    ctor.prototype = new f;\n  };\n\n  /**\n   * Checks if the given object is an Array.\n   *\n   *     io.util.isArray([]); // true\n   *     io.util.isArray({}); // false\n   *\n   * @param Object obj\n   * @api public\n   */\n\n  util.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n\n  /**\n   * Intersects values of two arrays into a third\n   *\n   * @api public\n   */\n\n  util.intersect = function (arr, arr2) {\n    var ret = []\n      , longest = arr.length > arr2.length ? arr : arr2\n      , shortest = arr.length > arr2.length ? arr2 : arr;\n\n    for (var i = 0, l = shortest.length; i < l; i++) {\n      if (~util.indexOf(longest, shortest[i]))\n        ret.push(shortest[i]);\n    }\n\n    return ret;\n  };\n\n  /**\n   * Array indexOf compatibility.\n   *\n   * @see bit.ly/a5Dxa2\n   * @api public\n   */\n\n  util.indexOf = function (arr, o, i) {\n\n    for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0;\n         i < j && arr[i] !== o; i++) {}\n\n    return j <= i ? -1 : i;\n  };\n\n  /**\n   * Converts enumerables to array.\n   *\n   * @api public\n   */\n\n  util.toArray = function (enu) {\n    var arr = [];\n\n    for (var i = 0, l = enu.length; i < l; i++)\n      arr.push(enu[i]);\n\n    return arr;\n  };\n\n  /**\n   * UA / engines detection namespace.\n   *\n   * @namespace\n   */\n\n  util.ua = {};\n\n  /**\n   * Whether the UA supports CORS for XHR.\n   *\n   * @api public\n   */\n\n  util.ua.hasCORS = 'undefined' != typeof XMLHttpRequest && (function () {\n    try {\n      var a = new XMLHttpRequest();\n    } catch (e) {\n      return false;\n    }\n\n    return a.withCredentials != undefined;\n  })();\n\n  /**\n   * Detect webkit.\n   *\n   * @api public\n   */\n\n  util.ua.webkit = 'undefined' != typeof navigator\n    && /webkit/i.test(navigator.userAgent);\n\n   /**\n   * Detect iPad/iPhone/iPod.\n   *\n   * @api public\n   */\n\n  util.ua.iDevice = 'undefined' != typeof navigator\n      && /iPad|iPhone|iPod/i.test(navigator.userAgent);\n\n})('undefined' != typeof io ? io : module.exports, this);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.EventEmitter = EventEmitter;\n\n  /**\n   * Event emitter constructor.\n   *\n   * @api public.\n   */\n\n  function EventEmitter () {};\n\n  /**\n   * Adds a listener\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.on = function (name, fn) {\n    if (!this.$events) {\n      this.$events = {};\n    }\n\n    if (!this.$events[name]) {\n      this.$events[name] = fn;\n    } else if (io.util.isArray(this.$events[name])) {\n      this.$events[name].push(fn);\n    } else {\n      this.$events[name] = [this.$events[name], fn];\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  /**\n   * Adds a volatile listener.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.once = function (name, fn) {\n    var self = this;\n\n    function on () {\n      self.removeListener(name, on);\n      fn.apply(this, arguments);\n    };\n\n    on.listener = fn;\n    this.on(name, on);\n\n    return this;\n  };\n\n  /**\n   * Removes a listener.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.removeListener = function (name, fn) {\n    if (this.$events && this.$events[name]) {\n      var list = this.$events[name];\n\n      if (io.util.isArray(list)) {\n        var pos = -1;\n\n        for (var i = 0, l = list.length; i < l; i++) {\n          if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {\n            pos = i;\n            break;\n          }\n        }\n\n        if (pos < 0) {\n          return this;\n        }\n\n        list.splice(pos, 1);\n\n        if (!list.length) {\n          delete this.$events[name];\n        }\n      } else if (list === fn || (list.listener && list.listener === fn)) {\n        delete this.$events[name];\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Removes all listeners for an event.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.removeAllListeners = function (name) {\n    if (name === undefined) {\n      this.$events = {};\n      return this;\n    }\n\n    if (this.$events && this.$events[name]) {\n      this.$events[name] = null;\n    }\n\n    return this;\n  };\n\n  /**\n   * Gets all listeners for a certain event.\n   *\n   * @api publci\n   */\n\n  EventEmitter.prototype.listeners = function (name) {\n    if (!this.$events) {\n      this.$events = {};\n    }\n\n    if (!this.$events[name]) {\n      this.$events[name] = [];\n    }\n\n    if (!io.util.isArray(this.$events[name])) {\n      this.$events[name] = [this.$events[name]];\n    }\n\n    return this.$events[name];\n  };\n\n  /**\n   * Emits an event.\n   *\n   * @api public\n   */\n\n  EventEmitter.prototype.emit = function (name) {\n    if (!this.$events) {\n      return false;\n    }\n\n    var handler = this.$events[name];\n\n    if (!handler) {\n      return false;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 1);\n\n    if ('function' == typeof handler) {\n      handler.apply(this, args);\n    } else if (io.util.isArray(handler)) {\n      var listeners = handler.slice();\n\n      for (var i = 0, l = listeners.length; i < l; i++) {\n        listeners[i].apply(this, args);\n      }\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n/**\n * Based on JSON2 (http://www.JSON.org/js.html).\n */\n\n(function (exports, nativeJSON) {\n  \"use strict\";\n\n  // use native JSON if it's available\n  if (nativeJSON && nativeJSON.parse){\n    return exports.JSON = {\n      parse: nativeJSON.parse\n    , stringify: nativeJSON.stringify\n    };\n  }\n\n  var JSON = exports.JSON = {};\n\n  function f(n) {\n      // Format integers to have at least two digits.\n      return n < 10 ? '0' + n : n;\n  }\n\n  function date(d, key) {\n    return isFinite(d.valueOf()) ?\n        d.getUTCFullYear()     + '-' +\n        f(d.getUTCMonth() + 1) + '-' +\n        f(d.getUTCDate())      + 'T' +\n        f(d.getUTCHours())     + ':' +\n        f(d.getUTCMinutes())   + ':' +\n        f(d.getUTCSeconds())   + 'Z' : null;\n  };\n\n  var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n      escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n      gap,\n      indent,\n      meta = {    // table of character substitutions\n          '\\b': '\\\\b',\n          '\\t': '\\\\t',\n          '\\n': '\\\\n',\n          '\\f': '\\\\f',\n          '\\r': '\\\\r',\n          '\"' : '\\\\\"',\n          '\\\\': '\\\\\\\\'\n      },\n      rep;\n\n\n  function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n      escapable.lastIndex = 0;\n      return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n          var c = meta[a];\n          return typeof c === 'string' ? c :\n              '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n      }) + '\"' : '\"' + string + '\"';\n  }\n\n\n  function str(key, holder) {\n\n// Produce a string from holder[key].\n\n      var i,          // The loop counter.\n          k,          // The member key.\n          v,          // The member value.\n          length,\n          mind = gap,\n          partial,\n          value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n      if (value instanceof Date) {\n          value = date(key);\n      }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n      if (typeof rep === 'function') {\n          value = rep.call(holder, key, value);\n      }\n\n// What happens next depends on the value's type.\n\n      switch (typeof value) {\n      case 'string':\n          return quote(value);\n\n      case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n          return isFinite(value) ? String(value) : 'null';\n\n      case 'boolean':\n      case 'null':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n          return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n      case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n          if (!value) {\n              return 'null';\n          }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n          gap += indent;\n          partial = [];\n\n// Is the value an array?\n\n          if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n              length = value.length;\n              for (i = 0; i < length; i += 1) {\n                  partial[i] = str(i, value) || 'null';\n              }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n              v = partial.length === 0 ? '[]' : gap ?\n                  '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                  '[' + partial.join(',') + ']';\n              gap = mind;\n              return v;\n          }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n          if (rep && typeof rep === 'object') {\n              length = rep.length;\n              for (i = 0; i < length; i += 1) {\n                  if (typeof rep[i] === 'string') {\n                      k = rep[i];\n                      v = str(k, value);\n                      if (v) {\n                          partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                      }\n                  }\n              }\n          } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = str(k, value);\n                      if (v) {\n                          partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                      }\n                  }\n              }\n          }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n          v = partial.length === 0 ? '{}' : gap ?\n              '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n              '{' + partial.join(',') + '}';\n          gap = mind;\n          return v;\n      }\n  }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n  JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n      var i;\n      gap = '';\n      indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n      if (typeof space === 'number') {\n          for (i = 0; i < space; i += 1) {\n              indent += ' ';\n          }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n      } else if (typeof space === 'string') {\n          indent = space;\n      }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n      rep = replacer;\n      if (replacer && typeof replacer !== 'function' &&\n              (typeof replacer !== 'object' ||\n              typeof replacer.length !== 'number')) {\n          throw new Error('JSON.stringify');\n      }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n      return str('', {'': value});\n  };\n\n// If the JSON object does not yet have a parse method, give it one.\n\n  JSON.parse = function (text, reviver) {\n  // The parse method takes a text and an optional reviver function, and returns\n  // a JavaScript value if the text is a valid JSON text.\n\n      var j;\n\n      function walk(holder, key) {\n\n  // The walk method is used to recursively walk the resulting structure so\n  // that modifications can be made.\n\n          var k, v, value = holder[key];\n          if (value && typeof value === 'object') {\n              for (k in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, k)) {\n                      v = walk(value, k);\n                      if (v !== undefined) {\n                          value[k] = v;\n                      } else {\n                          delete value[k];\n                      }\n                  }\n              }\n          }\n          return reviver.call(holder, key, value);\n      }\n\n\n  // Parsing happens in four stages. In the first stage, we replace certain\n  // Unicode characters with escape sequences. JavaScript handles many characters\n  // incorrectly, either silently deleting them, or treating them as line endings.\n\n      text = String(text);\n      cx.lastIndex = 0;\n      if (cx.test(text)) {\n          text = text.replace(cx, function (a) {\n              return '\\\\u' +\n                  ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n          });\n      }\n\n  // In the second stage, we run the text against regular expressions that look\n  // for non-JSON patterns. We are especially concerned with '()' and 'new'\n  // because they can cause invocation, and '=' because it can cause mutation.\n  // But just to be safe, we want to reject all unexpected forms.\n\n  // We split the second stage into 4 regexp operations in order to work around\n  // crippling inefficiencies in IE's and Safari's regexp engines. First we\n  // replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n  // replace all simple value tokens with ']' characters. Third, we delete all\n  // open brackets that follow a colon or comma or that begin the text. Finally,\n  // we look to see that the remaining characters are only whitespace or ']' or\n  // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n      if (/^[\\],:{}\\s]*$/\n              .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                  .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                  .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n  // In the third stage we use the eval function to compile the text into a\n  // JavaScript structure. The '{' operator is subject to a syntactic ambiguity\n  // in JavaScript: it can begin a block or an object literal. We wrap the text\n  // in parens to eliminate the ambiguity.\n\n          j = eval('(' + text + ')');\n\n  // In the optional fourth stage, we recursively walk the new structure, passing\n  // each name/value pair to a reviver function for possible transformation.\n\n          return typeof reviver === 'function' ?\n              walk({'': j}, '') : j;\n      }\n\n  // If the text is not JSON parseable, then a SyntaxError is thrown.\n\n      throw new SyntaxError('JSON.parse');\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , typeof JSON !== 'undefined' ? JSON : undefined\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Parser namespace.\n   *\n   * @namespace\n   */\n\n  var parser = exports.parser = {};\n\n  /**\n   * Packet types.\n   */\n\n  var packets = parser.packets = [\n      'disconnect'\n    , 'connect'\n    , 'heartbeat'\n    , 'message'\n    , 'json'\n    , 'event'\n    , 'ack'\n    , 'error'\n    , 'noop'\n  ];\n\n  /**\n   * Errors reasons.\n   */\n\n  var reasons = parser.reasons = [\n      'transport not supported'\n    , 'client not handshaken'\n    , 'unauthorized'\n  ];\n\n  /**\n   * Errors advice.\n   */\n\n  var advice = parser.advice = [\n      'reconnect'\n  ];\n\n  /**\n   * Shortcuts.\n   */\n\n  var JSON = io.JSON\n    , indexOf = io.util.indexOf;\n\n  /**\n   * Encodes a packet.\n   *\n   * @api private\n   */\n\n  parser.encodePacket = function (packet) {\n    var type = indexOf(packets, packet.type)\n      , id = packet.id || ''\n      , endpoint = packet.endpoint || ''\n      , ack = packet.ack\n      , data = null;\n\n    switch (packet.type) {\n      case 'error':\n        var reason = packet.reason ? indexOf(reasons, packet.reason) : ''\n          , adv = packet.advice ? indexOf(advice, packet.advice) : '';\n\n        if (reason !== '' || adv !== '')\n          data = reason + (adv !== '' ? ('+' + adv) : '');\n\n        break;\n\n      case 'message':\n        if (packet.data !== '')\n          data = packet.data;\n        break;\n\n      case 'event':\n        var ev = { name: packet.name };\n\n        if (packet.args && packet.args.length) {\n          ev.args = packet.args;\n        }\n\n        data = JSON.stringify(ev);\n        break;\n\n      case 'json':\n        data = JSON.stringify(packet.data);\n        break;\n\n      case 'connect':\n        if (packet.qs)\n          data = packet.qs;\n        break;\n\n      case 'ack':\n        data = packet.ackId\n          + (packet.args && packet.args.length\n              ? '+' + JSON.stringify(packet.args) : '');\n        break;\n    }\n\n    // construct packet with required fragments\n    var encoded = [\n        type\n      , id + (ack == 'data' ? '+' : '')\n      , endpoint\n    ];\n\n    // data fragment is optional\n    if (data !== null && data !== undefined)\n      encoded.push(data);\n\n    return encoded.join(':');\n  };\n\n  /**\n   * Encodes multiple messages (payload).\n   *\n   * @param {Array} messages\n   * @api private\n   */\n\n  parser.encodePayload = function (packets) {\n    var decoded = '';\n\n    if (packets.length == 1)\n      return packets[0];\n\n    for (var i = 0, l = packets.length; i < l; i++) {\n      var packet = packets[i];\n      decoded += '\\ufffd' + packet.length + '\\ufffd' + packets[i];\n    }\n\n    return decoded;\n  };\n\n  /**\n   * Decodes a packet\n   *\n   * @api private\n   */\n\n  var regexp = /([^:]+):([0-9]+)?(\\+)?:([^:]+)?:?([\\s\\S]*)?/;\n\n  parser.decodePacket = function (data) {\n    var pieces = data.match(regexp);\n\n    if (!pieces) return {};\n\n    var id = pieces[2] || ''\n      , data = pieces[5] || ''\n      , packet = {\n            type: packets[pieces[1]]\n          , endpoint: pieces[4] || ''\n        };\n\n    // whether we need to acknowledge the packet\n    if (id) {\n      packet.id = id;\n      if (pieces[3])\n        packet.ack = 'data';\n      else\n        packet.ack = true;\n    }\n\n    // handle different packet types\n    switch (packet.type) {\n      case 'error':\n        var pieces = data.split('+');\n        packet.reason = reasons[pieces[0]] || '';\n        packet.advice = advice[pieces[1]] || '';\n        break;\n\n      case 'message':\n        packet.data = data || '';\n        break;\n\n      case 'event':\n        try {\n          var opts = JSON.parse(data);\n          packet.name = opts.name;\n          packet.args = opts.args;\n        } catch (e) { }\n\n        packet.args = packet.args || [];\n        break;\n\n      case 'json':\n        try {\n          packet.data = JSON.parse(data);\n        } catch (e) { }\n        break;\n\n      case 'connect':\n        packet.qs = data || '';\n        break;\n\n      case 'ack':\n        var pieces = data.match(/^([0-9]+)(\\+)?(.*)/);\n        if (pieces) {\n          packet.ackId = pieces[1];\n          packet.args = [];\n\n          if (pieces[3]) {\n            try {\n              packet.args = pieces[3] ? JSON.parse(pieces[3]) : [];\n            } catch (e) { }\n          }\n        }\n        break;\n\n      case 'disconnect':\n      case 'heartbeat':\n        break;\n    };\n\n    return packet;\n  };\n\n  /**\n   * Decodes data payload. Detects multiple messages\n   *\n   * @return {Array} messages\n   * @api public\n   */\n\n  parser.decodePayload = function (data) {\n    // IE doesn't like data[i] for unicode chars, charAt works fine\n    if (data.charAt(0) == '\\ufffd') {\n      var ret = [];\n\n      for (var i = 1, length = ''; i < data.length; i++) {\n        if (data.charAt(i) == '\\ufffd') {\n          ret.push(parser.decodePacket(data.substr(i + 1).substr(0, length)));\n          i += Number(length) + 1;\n          length = '';\n        } else {\n          length += data.charAt(i);\n        }\n      }\n\n      return ret;\n    } else {\n      return [parser.decodePacket(data)];\n    }\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.Transport = Transport;\n\n  /**\n   * This is the transport template for all supported transport methods.\n   *\n   * @constructor\n   * @api public\n   */\n\n  function Transport (socket, sessid) {\n    this.socket = socket;\n    this.sessid = sessid;\n  };\n\n  /**\n   * Apply EventEmitter mixin.\n   */\n\n  io.util.mixin(Transport, io.EventEmitter);\n\n\n  /**\n   * Indicates whether heartbeats is enabled for this transport\n   *\n   * @api private\n   */\n\n  Transport.prototype.heartbeats = function () {\n    return true;\n  };\n\n  /**\n   * Handles the response from the server. When a new response is received\n   * it will automatically update the timeout, decode the message and\n   * forwards the response to the onMessage function for further processing.\n   *\n   * @param {String} data Response from the server.\n   * @api private\n   */\n\n  Transport.prototype.onData = function (data) {\n    this.clearCloseTimeout();\n\n    // If the connection in currently open (or in a reopening state) reset the close\n    // timeout since we have just received data. This check is necessary so\n    // that we don't reset the timeout on an explicitly disconnected connection.\n    if (this.socket.connected || this.socket.connecting || this.socket.reconnecting) {\n      this.setCloseTimeout();\n    }\n\n    if (data !== '') {\n      // todo: we should only do decodePayload for xhr transports\n      var msgs = io.parser.decodePayload(data);\n\n      if (msgs && msgs.length) {\n        for (var i = 0, l = msgs.length; i < l; i++) {\n          this.onPacket(msgs[i]);\n        }\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Handles packets.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onPacket = function (packet) {\n    this.socket.setHeartbeatTimeout();\n\n    if (packet.type == 'heartbeat') {\n      return this.onHeartbeat();\n    }\n\n    if (packet.type == 'connect' && packet.endpoint == '') {\n      this.onConnect();\n    }\n\n    if (packet.type == 'error' && packet.advice == 'reconnect') {\n      this.isOpen = false;\n    }\n\n    this.socket.onPacket(packet);\n\n    return this;\n  };\n\n  /**\n   * Sets close timeout\n   *\n   * @api private\n   */\n\n  Transport.prototype.setCloseTimeout = function () {\n    if (!this.closeTimeout) {\n      var self = this;\n\n      this.closeTimeout = setTimeout(function () {\n        self.onDisconnect();\n      }, this.socket.closeTimeout);\n    }\n  };\n\n  /**\n   * Called when transport disconnects.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onDisconnect = function () {\n    if (this.isOpen) this.close();\n    this.clearTimeouts();\n    this.socket.onDisconnect();\n    return this;\n  };\n\n  /**\n   * Called when transport connects\n   *\n   * @api private\n   */\n\n  Transport.prototype.onConnect = function () {\n    this.socket.onConnect();\n    return this;\n  };\n\n  /**\n   * Clears close timeout\n   *\n   * @api private\n   */\n\n  Transport.prototype.clearCloseTimeout = function () {\n    if (this.closeTimeout) {\n      clearTimeout(this.closeTimeout);\n      this.closeTimeout = null;\n    }\n  };\n\n  /**\n   * Clear timeouts\n   *\n   * @api private\n   */\n\n  Transport.prototype.clearTimeouts = function () {\n    this.clearCloseTimeout();\n\n    if (this.reopenTimeout) {\n      clearTimeout(this.reopenTimeout);\n    }\n  };\n\n  /**\n   * Sends a packet\n   *\n   * @param {Object} packet object.\n   * @api private\n   */\n\n  Transport.prototype.packet = function (packet) {\n    this.send(io.parser.encodePacket(packet));\n  };\n\n  /**\n   * Send the received heartbeat message back to server. So the server\n   * knows we are still connected.\n   *\n   * @param {String} heartbeat Heartbeat response from the server.\n   * @api private\n   */\n\n  Transport.prototype.onHeartbeat = function (heartbeat) {\n    this.packet({ type: 'heartbeat' });\n  };\n\n  /**\n   * Called when the transport opens.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onOpen = function () {\n    this.isOpen = true;\n    this.clearCloseTimeout();\n    this.socket.onOpen();\n  };\n\n  /**\n   * Notifies the base when the connection with the Socket.IO server\n   * has been disconnected.\n   *\n   * @api private\n   */\n\n  Transport.prototype.onClose = function () {\n    var self = this;\n\n    /* FIXME: reopen delay causing a infinit loop\n    this.reopenTimeout = setTimeout(function () {\n      self.open();\n    }, this.socket.options['reopen delay']);*/\n\n    this.isOpen = false;\n    this.socket.onClose();\n    this.onDisconnect();\n  };\n\n  /**\n   * Generates a connection url based on the Socket.IO URL Protocol.\n   * See <https://github.com/learnboost/socket.io-node/> for more details.\n   *\n   * @returns {String} Connection url\n   * @api private\n   */\n\n  Transport.prototype.prepareUrl = function () {\n    var options = this.socket.options;\n\n    return this.scheme() + '://'\n      + options.host + ':' + options.port + '/'\n      + options.resource + '/' + io.protocol\n      + '/' + this.name + '/' + this.sessid;\n  };\n\n  /**\n   * Checks if the transport is ready to start a connection.\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  Transport.prototype.ready = function (socket, fn) {\n    fn.call(this);\n  };\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.Socket = Socket;\n\n  /**\n   * Create a new `Socket.IO client` which can establish a persistent\n   * connection with a Socket.IO enabled server.\n   *\n   * @api public\n   */\n\n  function Socket (options) {\n    this.options = {\n        port: 80\n      , secure: false\n      , document: 'document' in global ? document : false\n      , resource: 'socket.io'\n      , transports: io.transports\n      , 'connect timeout': 10000\n      , 'try multiple transports': true\n      , 'reconnect': true\n      , 'reconnection delay': 500\n      , 'reconnection limit': Infinity\n      , 'reopen delay': 3000\n      , 'max reconnection attempts': 10\n      , 'sync disconnect on unload': false\n      , 'auto connect': true\n      , 'flash policy port': 10843\n      , 'manualFlush': false\n    };\n\n    io.util.merge(this.options, options);\n\n    this.connected = false;\n    this.open = false;\n    this.connecting = false;\n    this.reconnecting = false;\n    this.namespaces = {};\n    this.buffer = [];\n    this.doBuffer = false;\n\n    if (this.options['sync disconnect on unload'] &&\n        (!this.isXDomain() || io.util.ua.hasCORS)) {\n      var self = this;\n      io.util.on(global, 'beforeunload', function () {\n        self.disconnectSync();\n      }, false);\n    }\n\n    if (this.options['auto connect']) {\n      this.connect();\n    }\n};\n\n  /**\n   * Apply EventEmitter mixin.\n   */\n\n  io.util.mixin(Socket, io.EventEmitter);\n\n  /**\n   * Returns a namespace listener/emitter for this socket\n   *\n   * @api public\n   */\n\n  Socket.prototype.of = function (name) {\n    if (!this.namespaces[name]) {\n      this.namespaces[name] = new io.SocketNamespace(this, name);\n\n      if (name !== '') {\n        this.namespaces[name].packet({ type: 'connect' });\n      }\n    }\n\n    return this.namespaces[name];\n  };\n\n  /**\n   * Emits the given event to the Socket and all namespaces\n   *\n   * @api private\n   */\n\n  Socket.prototype.publish = function () {\n    this.emit.apply(this, arguments);\n\n    var nsp;\n\n    for (var i in this.namespaces) {\n      if (this.namespaces.hasOwnProperty(i)) {\n        nsp = this.of(i);\n        nsp.$emit.apply(nsp, arguments);\n      }\n    }\n  };\n\n  /**\n   * Performs the handshake\n   *\n   * @api private\n   */\n\n  function empty () { };\n\n  Socket.prototype.handshake = function (fn) {\n    var self = this\n      , options = this.options;\n\n    function complete (data) {\n      if (data instanceof Error) {\n        self.connecting = false;\n        self.onError(data.message);\n      } else {\n        fn.apply(null, data.split(':'));\n      }\n    };\n\n    var url = [\n          'http' + (options.secure ? 's' : '') + ':/'\n        , options.host + ':' + options.port\n        , options.resource\n        , io.protocol\n        , io.util.query(this.options.query, 't=' + +new Date)\n      ].join('/');\n\n    if (this.isXDomain() && !io.util.ua.hasCORS) {\n      var insertAt = document.getElementsByTagName('script')[0]\n        , script = document.createElement('script');\n\n      script.src = url + '&jsonp=' + io.j.length;\n      insertAt.parentNode.insertBefore(script, insertAt);\n\n      io.j.push(function (data) {\n        complete(data);\n        script.parentNode.removeChild(script);\n      });\n    } else {\n      var xhr = io.util.request();\n\n      xhr.open('GET', url, true);\n      if (this.isXDomain()) {\n        xhr.withCredentials = true;\n      }\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          xhr.onreadystatechange = empty;\n\n          if (xhr.status == 200) {\n            complete(xhr.responseText);\n          } else if (xhr.status == 403) {\n            self.onError(xhr.responseText);\n          } else {\n            self.connecting = false;            \n            !self.reconnecting && self.onError(xhr.responseText);\n          }\n        }\n      };\n      xhr.send(null);\n    }\n  };\n\n  /**\n   * Find an available transport based on the options supplied in the constructor.\n   *\n   * @api private\n   */\n\n  Socket.prototype.getTransport = function (override) {\n    var transports = override || this.transports, match;\n\n    for (var i = 0, transport; transport = transports[i]; i++) {\n      if (io.Transport[transport]\n        && io.Transport[transport].check(this)\n        && (!this.isXDomain() || io.Transport[transport].xdomainCheck(this))) {\n        return new io.Transport[transport](this, this.sessionid);\n      }\n    }\n\n    return null;\n  };\n\n  /**\n   * Connects to the server.\n   *\n   * @param {Function} [fn] Callback.\n   * @returns {io.Socket}\n   * @api public\n   */\n\n  Socket.prototype.connect = function (fn) {\n    if (this.connecting) {\n      return this;\n    }\n\n    var self = this;\n    self.connecting = true;\n    \n    this.handshake(function (sid, heartbeat, close, transports) {\n      self.sessionid = sid;\n      self.closeTimeout = close * 1000;\n      self.heartbeatTimeout = heartbeat * 1000;\n      if(!self.transports)\n          self.transports = self.origTransports = (transports ? io.util.intersect(\n              transports.split(',')\n            , self.options.transports\n          ) : self.options.transports);\n\n      self.setHeartbeatTimeout();\n\n      function connect (transports){\n        if (self.transport) self.transport.clearTimeouts();\n\n        self.transport = self.getTransport(transports);\n        if (!self.transport) return self.publish('connect_failed');\n\n        // once the transport is ready\n        self.transport.ready(self, function () {\n          self.connecting = true;\n          self.publish('connecting', self.transport.name);\n          self.transport.open();\n\n          if (self.options['connect timeout']) {\n            self.connectTimeoutTimer = setTimeout(function () {\n              if (!self.connected) {\n                self.connecting = false;\n\n                if (self.options['try multiple transports']) {\n                  var remaining = self.transports;\n\n                  while (remaining.length > 0 && remaining.splice(0,1)[0] !=\n                         self.transport.name) {}\n\n                    if (remaining.length){\n                      connect(remaining);\n                    } else {\n                      self.publish('connect_failed');\n                    }\n                }\n              }\n            }, self.options['connect timeout']);\n          }\n        });\n      }\n\n      connect(self.transports);\n\n      self.once('connect', function (){\n        clearTimeout(self.connectTimeoutTimer);\n\n        fn && typeof fn == 'function' && fn();\n      });\n    });\n\n    return this;\n  };\n\n  /**\n   * Clears and sets a new heartbeat timeout using the value given by the\n   * server during the handshake.\n   *\n   * @api private\n   */\n\n  Socket.prototype.setHeartbeatTimeout = function () {\n    clearTimeout(this.heartbeatTimeoutTimer);\n    if(this.transport && !this.transport.heartbeats()) return;\n\n    var self = this;\n    this.heartbeatTimeoutTimer = setTimeout(function () {\n      self.transport.onClose();\n    }, this.heartbeatTimeout);\n  };\n\n  /**\n   * Sends a message.\n   *\n   * @param {Object} data packet.\n   * @returns {io.Socket}\n   * @api public\n   */\n\n  Socket.prototype.packet = function (data) {\n    if (this.connected && !this.doBuffer) {\n      this.transport.packet(data);\n    } else {\n      this.buffer.push(data);\n    }\n\n    return this;\n  };\n\n  /**\n   * Sets buffer state\n   *\n   * @api private\n   */\n\n  Socket.prototype.setBuffer = function (v) {\n    this.doBuffer = v;\n\n    if (!v && this.connected && this.buffer.length) {\n      if (!this.options['manualFlush']) {\n        this.flushBuffer();\n      }\n    }\n  };\n\n  /**\n   * Flushes the buffer data over the wire.\n   * To be invoked manually when 'manualFlush' is set to true.\n   *\n   * @api public\n   */\n\n  Socket.prototype.flushBuffer = function() {\n    this.transport.payload(this.buffer);\n    this.buffer = [];\n  };\n  \n\n  /**\n   * Disconnect the established connect.\n   *\n   * @returns {io.Socket}\n   * @api public\n   */\n\n  Socket.prototype.disconnect = function () {\n    if (this.connected || this.connecting) {\n      if (this.open) {\n        this.of('').packet({ type: 'disconnect' });\n      }\n\n      // handle disconnection immediately\n      this.onDisconnect('booted');\n    }\n\n    return this;\n  };\n\n  /**\n   * Disconnects the socket with a sync XHR.\n   *\n   * @api private\n   */\n\n  Socket.prototype.disconnectSync = function () {\n    // ensure disconnection\n    var xhr = io.util.request();\n    var uri = [\n        'http' + (this.options.secure ? 's' : '') + ':/'\n      , this.options.host + ':' + this.options.port\n      , this.options.resource\n      , io.protocol\n      , ''\n      , this.sessionid\n    ].join('/') + '/?disconnect=1';\n\n    xhr.open('GET', uri, false);\n    xhr.send(null);\n\n    // handle disconnection immediately\n    this.onDisconnect('booted');\n  };\n\n  /**\n   * Check if we need to use cross domain enabled transports. Cross domain would\n   * be a different port or different domain name.\n   *\n   * @returns {Boolean}\n   * @api private\n   */\n\n  Socket.prototype.isXDomain = function () {\n\n    var port = global.location.port ||\n      ('https:' == global.location.protocol ? 443 : 80);\n\n    return this.options.host !== global.location.hostname \n      || this.options.port != port;\n  };\n\n  /**\n   * Called upon handshake.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onConnect = function () {\n    if (!this.connected) {\n      this.connected = true;\n      this.connecting = false;\n      if (!this.doBuffer) {\n        // make sure to flush the buffer\n        this.setBuffer(false);\n      }\n      this.emit('connect');\n    }\n  };\n\n  /**\n   * Called when the transport opens\n   *\n   * @api private\n   */\n\n  Socket.prototype.onOpen = function () {\n    this.open = true;\n  };\n\n  /**\n   * Called when the transport closes.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onClose = function () {\n    this.open = false;\n    clearTimeout(this.heartbeatTimeoutTimer);\n  };\n\n  /**\n   * Called when the transport first opens a connection\n   *\n   * @param text\n   */\n\n  Socket.prototype.onPacket = function (packet) {\n    this.of(packet.endpoint).onPacket(packet);\n  };\n\n  /**\n   * Handles an error.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onError = function (err) {\n    if (err && err.advice) {\n      if (err.advice === 'reconnect' && (this.connected || this.connecting)) {\n        this.disconnect();\n        if (this.options.reconnect) {\n          this.reconnect();\n        }\n      }\n    }\n\n    this.publish('error', err && err.reason ? err.reason : err);\n  };\n\n  /**\n   * Called when the transport disconnects.\n   *\n   * @api private\n   */\n\n  Socket.prototype.onDisconnect = function (reason) {\n    var wasConnected = this.connected\n      , wasConnecting = this.connecting;\n\n    this.connected = false;\n    this.connecting = false;\n    this.open = false;\n\n    if (wasConnected || wasConnecting) {\n      this.transport.close();\n      this.transport.clearTimeouts();\n      if (wasConnected) {\n        this.publish('disconnect', reason);\n\n        if ('booted' != reason && this.options.reconnect && !this.reconnecting) {\n          this.reconnect();\n        }\n      }\n    }\n  };\n\n  /**\n   * Called upon reconnection.\n   *\n   * @api private\n   */\n\n  Socket.prototype.reconnect = function () {\n    this.reconnecting = true;\n    this.reconnectionAttempts = 0;\n    this.reconnectionDelay = this.options['reconnection delay'];\n\n    var self = this\n      , maxAttempts = this.options['max reconnection attempts']\n      , tryMultiple = this.options['try multiple transports']\n      , limit = this.options['reconnection limit'];\n\n    function reset () {\n      if (self.connected) {\n        for (var i in self.namespaces) {\n          if (self.namespaces.hasOwnProperty(i) && '' !== i) {\n              self.namespaces[i].packet({ type: 'connect' });\n          }\n        }\n        self.publish('reconnect', self.transport.name, self.reconnectionAttempts);\n      }\n\n      clearTimeout(self.reconnectionTimer);\n\n      self.removeListener('connect_failed', maybeReconnect);\n      self.removeListener('connect', maybeReconnect);\n\n      self.reconnecting = false;\n\n      delete self.reconnectionAttempts;\n      delete self.reconnectionDelay;\n      delete self.reconnectionTimer;\n      delete self.redoTransports;\n\n      self.options['try multiple transports'] = tryMultiple;\n    };\n\n    function maybeReconnect () {\n      if (!self.reconnecting) {\n        return;\n      }\n\n      if (self.connected) {\n        return reset();\n      };\n\n      if (self.connecting && self.reconnecting) {\n        return self.reconnectionTimer = setTimeout(maybeReconnect, 1000);\n      }\n\n      if (self.reconnectionAttempts++ >= maxAttempts) {\n        if (!self.redoTransports) {\n          self.on('connect_failed', maybeReconnect);\n          self.options['try multiple transports'] = true;\n          self.transports = self.origTransports;\n          self.transport = self.getTransport();\n          self.redoTransports = true;\n          self.connect();\n        } else {\n          self.publish('reconnect_failed');\n          reset();\n        }\n      } else {\n        if (self.reconnectionDelay < limit) {\n          self.reconnectionDelay *= 2; // exponential back off\n        }\n\n        self.connect();\n        self.publish('reconnecting', self.reconnectionDelay, self.reconnectionAttempts);\n        self.reconnectionTimer = setTimeout(maybeReconnect, self.reconnectionDelay);\n      }\n    };\n\n    this.options['try multiple transports'] = false;\n    this.reconnectionTimer = setTimeout(maybeReconnect, this.reconnectionDelay);\n\n    this.on('connect', maybeReconnect);\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.SocketNamespace = SocketNamespace;\n\n  /**\n   * Socket namespace constructor.\n   *\n   * @constructor\n   * @api public\n   */\n\n  function SocketNamespace (socket, name) {\n    this.socket = socket;\n    this.name = name || '';\n    this.flags = {};\n    this.json = new Flag(this, 'json');\n    this.ackPackets = 0;\n    this.acks = {};\n  };\n\n  /**\n   * Apply EventEmitter mixin.\n   */\n\n  io.util.mixin(SocketNamespace, io.EventEmitter);\n\n  /**\n   * Copies emit since we override it\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.$emit = io.EventEmitter.prototype.emit;\n\n  /**\n   * Creates a new namespace, by proxying the request to the socket. This\n   * allows us to use the synax as we do on the server.\n   *\n   * @api public\n   */\n\n  SocketNamespace.prototype.of = function () {\n    return this.socket.of.apply(this.socket, arguments);\n  };\n\n  /**\n   * Sends a packet.\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.packet = function (packet) {\n    packet.endpoint = this.name;\n    this.socket.packet(packet);\n    this.flags = {};\n    return this;\n  };\n\n  /**\n   * Sends a message\n   *\n   * @api public\n   */\n\n  SocketNamespace.prototype.send = function (data, fn) {\n    var packet = {\n        type: this.flags.json ? 'json' : 'message'\n      , data: data\n    };\n\n    if ('function' == typeof fn) {\n      packet.id = ++this.ackPackets;\n      packet.ack = true;\n      this.acks[packet.id] = fn;\n    }\n\n    return this.packet(packet);\n  };\n\n  /**\n   * Emits an event\n   *\n   * @api public\n   */\n  \n  SocketNamespace.prototype.emit = function (name) {\n    var args = Array.prototype.slice.call(arguments, 1)\n      , lastArg = args[args.length - 1]\n      , packet = {\n            type: 'event'\n          , name: name\n        };\n\n    if ('function' == typeof lastArg) {\n      packet.id = ++this.ackPackets;\n      packet.ack = 'data';\n      this.acks[packet.id] = lastArg;\n      args = args.slice(0, args.length - 1);\n    }\n\n    packet.args = args;\n\n    return this.packet(packet);\n  };\n\n  /**\n   * Disconnects the namespace\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.disconnect = function () {\n    if (this.name === '') {\n      this.socket.disconnect();\n    } else {\n      this.packet({ type: 'disconnect' });\n      this.$emit('disconnect');\n    }\n\n    return this;\n  };\n\n  /**\n   * Handles a packet\n   *\n   * @api private\n   */\n\n  SocketNamespace.prototype.onPacket = function (packet) {\n    var self = this;\n\n    function ack () {\n      self.packet({\n          type: 'ack'\n        , args: io.util.toArray(arguments)\n        , ackId: packet.id\n      });\n    };\n\n    switch (packet.type) {\n      case 'connect':\n        this.$emit('connect');\n        break;\n\n      case 'disconnect':\n        if (this.name === '') {\n          this.socket.onDisconnect(packet.reason || 'booted');\n        } else {\n          this.$emit('disconnect', packet.reason);\n        }\n        break;\n\n      case 'message':\n      case 'json':\n        var params = ['message', packet.data];\n\n        if (packet.ack == 'data') {\n          params.push(ack);\n        } else if (packet.ack) {\n          this.packet({ type: 'ack', ackId: packet.id });\n        }\n\n        this.$emit.apply(this, params);\n        break;\n\n      case 'event':\n        var params = [packet.name].concat(packet.args);\n\n        if (packet.ack == 'data')\n          params.push(ack);\n\n        this.$emit.apply(this, params);\n        break;\n\n      case 'ack':\n        if (this.acks[packet.ackId]) {\n          this.acks[packet.ackId].apply(this, packet.args);\n          delete this.acks[packet.ackId];\n        }\n        break;\n\n      case 'error':\n        if (packet.advice){\n          this.socket.onError(packet);\n        } else {\n          if (packet.reason == 'unauthorized') {\n            this.$emit('connect_failed', packet.reason);\n          } else {\n            this.$emit('error', packet.reason);\n          }\n        }\n        break;\n    }\n  };\n\n  /**\n   * Flag interface.\n   *\n   * @api private\n   */\n\n  function Flag (nsp, name) {\n    this.namespace = nsp;\n    this.name = name;\n  };\n\n  /**\n   * Send a message\n   *\n   * @api public\n   */\n\n  Flag.prototype.send = function () {\n    this.namespace.flags[this.name] = true;\n    this.namespace.send.apply(this.namespace, arguments);\n  };\n\n  /**\n   * Emit an event\n   *\n   * @api public\n   */\n\n  Flag.prototype.emit = function () {\n    this.namespace.flags[this.name] = true;\n    this.namespace.emit.apply(this.namespace, arguments);\n  };\n\n})(\n    'undefined' != typeof io ? io : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.websocket = WS;\n\n  /**\n   * The WebSocket transport uses the HTML5 WebSocket API to establish an\n   * persistent connection with the Socket.IO server. This transport will also\n   * be inherited by the FlashSocket fallback as it provides a API compatible\n   * polyfill for the WebSockets.\n   *\n   * @constructor\n   * @extends {io.Transport}\n   * @api public\n   */\n\n  function WS (socket) {\n    io.Transport.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from Transport.\n   */\n\n  io.util.inherit(WS, io.Transport);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  WS.prototype.name = 'websocket';\n\n  /**\n   * Initializes a new `WebSocket` connection with the Socket.IO server. We attach\n   * all the appropriate listeners to handle the responses from the server.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  WS.prototype.open = function () {\n    var query = io.util.query(this.socket.options.query)\n      , self = this\n      , Socket\n\n\n    if (!Socket) {\n      Socket = global.MozWebSocket || global.WebSocket;\n    }\n\n    this.websocket = new Socket(this.prepareUrl() + query);\n\n    this.websocket.onopen = function () {\n      self.onOpen();\n      self.socket.setBuffer(false);\n    };\n    this.websocket.onmessage = function (ev) {\n      self.onData(ev.data);\n    };\n    this.websocket.onclose = function () {\n      self.onClose();\n      self.socket.setBuffer(true);\n    };\n    this.websocket.onerror = function (e) {\n      self.onError(e);\n    };\n\n    return this;\n  };\n\n  /**\n   * Send a message to the Socket.IO server. The message will automatically be\n   * encoded in the correct message format.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  // Do to a bug in the current IDevices browser, we need to wrap the send in a \n  // setTimeout, when they resume from sleeping the browser will crash if \n  // we don't allow the browser time to detect the socket has been closed\n  if (io.util.ua.iDevice) {\n    WS.prototype.send = function (data) {\n      var self = this;\n      setTimeout(function() {\n         self.websocket.send(data);\n      },0);\n      return this;\n    };\n  } else {\n    WS.prototype.send = function (data) {\n      this.websocket.send(data);\n      return this;\n    };\n  }\n\n  /**\n   * Payload\n   *\n   * @api private\n   */\n\n  WS.prototype.payload = function (arr) {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      this.packet(arr[i]);\n    }\n    return this;\n  };\n\n  /**\n   * Disconnect the established `WebSocket` connection.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  WS.prototype.close = function () {\n    this.websocket.close();\n    return this;\n  };\n\n  /**\n   * Handle the errors that `WebSocket` might be giving when we\n   * are attempting to connect or send messages.\n   *\n   * @param {Error} e The error.\n   * @api private\n   */\n\n  WS.prototype.onError = function (e) {\n    this.socket.onError(e);\n  };\n\n  /**\n   * Returns the appropriate scheme for the URI generation.\n   *\n   * @api private\n   */\n  WS.prototype.scheme = function () {\n    return this.socket.options.secure ? 'wss' : 'ws';\n  };\n\n  /**\n   * Checks if the browser has support for native `WebSockets` and that\n   * it's not the polyfill created for the FlashSocket transport.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  WS.check = function () {\n    return ('WebSocket' in global && !('__addTask' in WebSocket))\n          || 'MozWebSocket' in global;\n  };\n\n  /**\n   * Check if the `WebSocket` transport support cross domain communications.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  WS.xdomainCheck = function () {\n    return true;\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('websocket');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.flashsocket = Flashsocket;\n\n  /**\n   * The FlashSocket transport. This is a API wrapper for the HTML5 WebSocket\n   * specification. It uses a .swf file to communicate with the server. If you want\n   * to serve the .swf file from a other server than where the Socket.IO script is\n   * coming from you need to use the insecure version of the .swf. More information\n   * about this can be found on the github page.\n   *\n   * @constructor\n   * @extends {io.Transport.websocket}\n   * @api public\n   */\n\n  function Flashsocket () {\n    io.Transport.websocket.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from Transport.\n   */\n\n  io.util.inherit(Flashsocket, io.Transport.websocket);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  Flashsocket.prototype.name = 'flashsocket';\n\n  /**\n   * Disconnect the established `FlashSocket` connection. This is done by adding a \n   * new task to the FlashSocket. The rest will be handled off by the `WebSocket` \n   * transport.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  Flashsocket.prototype.open = function () {\n    var self = this\n      , args = arguments;\n\n    WebSocket.__addTask(function () {\n      io.Transport.websocket.prototype.open.apply(self, args);\n    });\n    return this;\n  };\n  \n  /**\n   * Sends a message to the Socket.IO server. This is done by adding a new\n   * task to the FlashSocket. The rest will be handled off by the `WebSocket` \n   * transport.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  Flashsocket.prototype.send = function () {\n    var self = this, args = arguments;\n    WebSocket.__addTask(function () {\n      io.Transport.websocket.prototype.send.apply(self, args);\n    });\n    return this;\n  };\n\n  /**\n   * Disconnects the established `FlashSocket` connection.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  Flashsocket.prototype.close = function () {\n    WebSocket.__tasks.length = 0;\n    io.Transport.websocket.prototype.close.call(this);\n    return this;\n  };\n\n  /**\n   * The WebSocket fall back needs to append the flash container to the body\n   * element, so we need to make sure we have access to it. Or defer the call\n   * until we are sure there is a body element.\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  Flashsocket.prototype.ready = function (socket, fn) {\n    function init () {\n      var options = socket.options\n        , port = options['flash policy port']\n        , path = [\n              'http' + (options.secure ? 's' : '') + ':/'\n            , options.host + ':' + options.port\n            , options.resource\n            , 'static/flashsocket'\n            , 'WebSocketMain' + (socket.isXDomain() ? 'Insecure' : '') + '.swf'\n          ];\n\n      // Only start downloading the swf file when the checked that this browser\n      // actually supports it\n      if (!Flashsocket.loaded) {\n        if (typeof WEB_SOCKET_SWF_LOCATION === 'undefined') {\n          // Set the correct file based on the XDomain settings\n          WEB_SOCKET_SWF_LOCATION = path.join('/');\n        }\n\n        if (port !== 843) {\n          WebSocket.loadFlashPolicyFile('xmlsocket://' + options.host + ':' + port);\n        }\n\n        WebSocket.__initialize();\n        Flashsocket.loaded = true;\n      }\n\n      fn.call(self);\n    }\n\n    var self = this;\n    if (document.body) return init();\n\n    io.util.load(init);\n  };\n\n  /**\n   * Check if the FlashSocket transport is supported as it requires that the Adobe\n   * Flash Player plug-in version `10.0.0` or greater is installed. And also check if\n   * the polyfill is correctly loaded.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  Flashsocket.check = function () {\n    if (\n        typeof WebSocket == 'undefined'\n      || !('__initialize' in WebSocket) || !swfobject\n    ) return false;\n\n    return swfobject.getFlashPlayerVersion().major >= 10;\n  };\n\n  /**\n   * Check if the FlashSocket transport can be used as cross domain / cross origin \n   * transport. Because we can't see which type (secure or insecure) of .swf is used\n   * we will just return true.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  Flashsocket.xdomainCheck = function () {\n    return true;\n  };\n\n  /**\n   * Disable AUTO_INITIALIZATION\n   */\n\n  if (typeof window != 'undefined') {\n    WEB_SOCKET_DISABLE_AUTO_INITIALIZATION = true;\n  }\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('flashsocket');\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/> \n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\nif ('undefined' != typeof window) {\nvar swfobject=function(){var D=\"undefined\",r=\"object\",S=\"Shockwave Flash\",W=\"ShockwaveFlash.ShockwaveFlash\",q=\"application/x-shockwave-flash\",R=\"SWFObjectExprInst\",x=\"onreadystatechange\",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):false,X=!+\"\\v1\",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\");ag[0]=parseInt(ab.replace(/^(.*)\\..*$/,\"$1\"),10);ag[1]=parseInt(ab.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0}}else{if(typeof O[(['Active'].concat('Object').join('X'))]!=D){try{var ad=new window[(['Active'].concat('Object').join('X'))](W);if(ad){ab=ad.GetVariable(\"$version\");if(ab){X=true;ab=ab.split(\" \")[1].split(\",\");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState==\"complete\")||(typeof j.readyState==D&&(j.getElementsByTagName(\"body\")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener(\"DOMContentLoaded\",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState==\"complete\"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll(\"left\")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName(\"body\")[0].appendChild(C(\"span\"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener(\"load\",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener(\"load\",Y,false)}else{if(typeof O.attachEvent!=D){i(O,\"onload\",Y)}else{if(typeof O.onload==\"function\"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName(\"body\")[0];var aa=C(r);aa.setAttribute(\"type\",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable(\"$version\");if(ab){ab=ab.split(\" \")[1].split(\",\");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute(\"width\")||\"0\";ai.height=ae.getAttribute(\"height\")||\"0\";if(ae.getAttribute(\"class\")){ai.styleclass=ae.getAttribute(\"class\")}if(ae.getAttribute(\"align\")){ai.align=ae.getAttribute(\"align\")}var ah={};var X=ae.getElementsByTagName(\"param\");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute(\"name\").toLowerCase()!=\"movie\"){ah[X[ad].getAttribute(\"name\")]=X[ad].getAttribute(\"value\")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName==\"OBJECT\"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F(\"6.0.65\")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName==\"OBJECT\"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width=\"310\"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height=\"137\"}j.title=j.title.slice(0,47)+\" - Flash Player Installation\";var ad=M.ie&&M.win?(['Active'].concat('').join('X')):\"PlugIn\",ac=\"MMredirectURL=\"+O.location.toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+ad+\"&MMdoctitle=\"+j.title;if(typeof ab.flashvars!=D){ab.flashvars+=\"&\"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C(\"div\");X+=\"SWFObjectNew\";Y.setAttribute(\"id\",X);ae.parentNode.insertBefore(Y,ae);ae.style.display=\"none\";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C(\"div\");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display=\"none\";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C(\"div\");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName==\"PARAM\")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah=\"\";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()==\"data\"){ag.movie=ai[ae]}else{if(ae.toLowerCase()==\"styleclass\"){ah+=' class=\"'+ai[ae]+'\"'}else{if(ae.toLowerCase()!=\"classid\"){ah+=\" \"+ae+'=\"'+ai[ae]+'\"'}}}}}var af=\"\";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name=\"'+ad+'\" value=\"'+ag[ad]+'\" />'}}aa.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+ah+\">\"+af+\"</object>\";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute(\"type\",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()==\"styleclass\"){Z.setAttribute(\"class\",ai[ac])}else{if(ac.toLowerCase()!=\"classid\"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!=\"movie\"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C(\"param\");aa.setAttribute(\"name\",X);aa.setAttribute(\"value\",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName==\"OBJECT\"){if(M.ie&&M.win){X.style.display=\"none\";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]==\"function\"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(\".\");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName(\"head\")[0];if(!aa){return}var X=(ad&&typeof ad==\"string\")?ad:\"screen\";if(ab){n=null;G=null}if(!n||G!=X){var Z=C(\"style\");Z.setAttribute(\"type\",\"text/css\");Z.setAttribute(\"media\",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+\" {\"+Y+\"}\"))}}}function w(Z,X){if(!m){return}var Y=X?\"visible\":\"hidden\";if(J&&c(Z)){c(Z).style.visibility=Y}else{v(\"#\"+Z,\"visibility:\"+Y)}}function L(Y){var Z=/[\\\\\\\"<>\\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent(\"onunload\",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+=\"\";ag+=\"\";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+=\"&\"+ai+\"=\"+Z[ai]}else{am.flashvars=ai+\"=\"+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\\?/.test(Z)){Z=Z.split(\"?\")[1]}if(aa==null){return L(Z)}var Y=Z.split(\"&\");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf(\"=\"))==aa){return L(Y[X].substring((Y[X].indexOf(\"=\")+1)))}}}return\"\"},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display=\"block\"}}if(E){E(B)}}a=false}}}}();\n}\n// Copyright: Hiroshi Ichikawa <http://gimite.net/en/>\n// License: New BSD License\n// Reference: http://dev.w3.org/html5/websockets/\n// Reference: http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol\n\n(function() {\n  \n  if ('undefined' == typeof window || window.WebSocket) return;\n\n  var console = window.console;\n  if (!console || !console.log || !console.error) {\n    console = {log: function(){ }, error: function(){ }};\n  }\n  \n  if (!swfobject.hasFlashPlayerVersion(\"10.0.0\")) {\n    console.error(\"Flash Player >= 10.0.0 is required.\");\n    return;\n  }\n  if (location.protocol == \"file:\") {\n    console.error(\n      \"WARNING: web-socket-js doesn't work in file:///... URL \" +\n      \"unless you set Flash Security Settings properly. \" +\n      \"Open the page via Web server i.e. http://...\");\n  }\n\n  /**\n   * This class represents a faux web socket.\n   * @param {string} url\n   * @param {array or string} protocols\n   * @param {string} proxyHost\n   * @param {int} proxyPort\n   * @param {string} headers\n   */\n  WebSocket = function(url, protocols, proxyHost, proxyPort, headers) {\n    var self = this;\n    self.__id = WebSocket.__nextId++;\n    WebSocket.__instances[self.__id] = self;\n    self.readyState = WebSocket.CONNECTING;\n    self.bufferedAmount = 0;\n    self.__events = {};\n    if (!protocols) {\n      protocols = [];\n    } else if (typeof protocols == \"string\") {\n      protocols = [protocols];\n    }\n    // Uses setTimeout() to make sure __createFlash() runs after the caller sets ws.onopen etc.\n    // Otherwise, when onopen fires immediately, onopen is called before it is set.\n    setTimeout(function() {\n      WebSocket.__addTask(function() {\n        WebSocket.__flash.create(\n            self.__id, url, protocols, proxyHost || null, proxyPort || 0, headers || null);\n      });\n    }, 0);\n  };\n\n  /**\n   * Send data to the web socket.\n   * @param {string} data  The data to send to the socket.\n   * @return {boolean}  True for success, false for failure.\n   */\n  WebSocket.prototype.send = function(data) {\n    if (this.readyState == WebSocket.CONNECTING) {\n      throw \"INVALID_STATE_ERR: Web Socket connection has not been established\";\n    }\n    // We use encodeURIComponent() here, because FABridge doesn't work if\n    // the argument includes some characters. We don't use escape() here\n    // because of this:\n    // https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Functions#escape_and_unescape_Functions\n    // But it looks decodeURIComponent(encodeURIComponent(s)) doesn't\n    // preserve all Unicode characters either e.g. \"\\uffff\" in Firefox.\n    // Note by wtritch: Hopefully this will not be necessary using ExternalInterface.  Will require\n    // additional testing.\n    var result = WebSocket.__flash.send(this.__id, encodeURIComponent(data));\n    if (result < 0) { // success\n      return true;\n    } else {\n      this.bufferedAmount += result;\n      return false;\n    }\n  };\n\n  /**\n   * Close this web socket gracefully.\n   */\n  WebSocket.prototype.close = function() {\n    if (this.readyState == WebSocket.CLOSED || this.readyState == WebSocket.CLOSING) {\n      return;\n    }\n    this.readyState = WebSocket.CLOSING;\n    WebSocket.__flash.close(this.__id);\n  };\n\n  /**\n   * Implementation of {@link <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration\">DOM 2 EventTarget Interface</a>}\n   *\n   * @param {string} type\n   * @param {function} listener\n   * @param {boolean} useCapture\n   * @return void\n   */\n  WebSocket.prototype.addEventListener = function(type, listener, useCapture) {\n    if (!(type in this.__events)) {\n      this.__events[type] = [];\n    }\n    this.__events[type].push(listener);\n  };\n\n  /**\n   * Implementation of {@link <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration\">DOM 2 EventTarget Interface</a>}\n   *\n   * @param {string} type\n   * @param {function} listener\n   * @param {boolean} useCapture\n   * @return void\n   */\n  WebSocket.prototype.removeEventListener = function(type, listener, useCapture) {\n    if (!(type in this.__events)) return;\n    var events = this.__events[type];\n    for (var i = events.length - 1; i >= 0; --i) {\n      if (events[i] === listener) {\n        events.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  /**\n   * Implementation of {@link <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration\">DOM 2 EventTarget Interface</a>}\n   *\n   * @param {Event} event\n   * @return void\n   */\n  WebSocket.prototype.dispatchEvent = function(event) {\n    var events = this.__events[event.type] || [];\n    for (var i = 0; i < events.length; ++i) {\n      events[i](event);\n    }\n    var handler = this[\"on\" + event.type];\n    if (handler) handler(event);\n  };\n\n  /**\n   * Handles an event from Flash.\n   * @param {Object} flashEvent\n   */\n  WebSocket.prototype.__handleEvent = function(flashEvent) {\n    if (\"readyState\" in flashEvent) {\n      this.readyState = flashEvent.readyState;\n    }\n    if (\"protocol\" in flashEvent) {\n      this.protocol = flashEvent.protocol;\n    }\n    \n    var jsEvent;\n    if (flashEvent.type == \"open\" || flashEvent.type == \"error\") {\n      jsEvent = this.__createSimpleEvent(flashEvent.type);\n    } else if (flashEvent.type == \"close\") {\n      // TODO implement jsEvent.wasClean\n      jsEvent = this.__createSimpleEvent(\"close\");\n    } else if (flashEvent.type == \"message\") {\n      var data = decodeURIComponent(flashEvent.message);\n      jsEvent = this.__createMessageEvent(\"message\", data);\n    } else {\n      throw \"unknown event type: \" + flashEvent.type;\n    }\n    \n    this.dispatchEvent(jsEvent);\n  };\n  \n  WebSocket.prototype.__createSimpleEvent = function(type) {\n    if (document.createEvent && window.Event) {\n      var event = document.createEvent(\"Event\");\n      event.initEvent(type, false, false);\n      return event;\n    } else {\n      return {type: type, bubbles: false, cancelable: false};\n    }\n  };\n  \n  WebSocket.prototype.__createMessageEvent = function(type, data) {\n    if (document.createEvent && window.MessageEvent && !window.opera) {\n      var event = document.createEvent(\"MessageEvent\");\n      event.initMessageEvent(\"message\", false, false, data, null, null, window, null);\n      return event;\n    } else {\n      // IE and Opera, the latter one truncates the data parameter after any 0x00 bytes.\n      return {type: type, data: data, bubbles: false, cancelable: false};\n    }\n  };\n  \n  /**\n   * Define the WebSocket readyState enumeration.\n   */\n  WebSocket.CONNECTING = 0;\n  WebSocket.OPEN = 1;\n  WebSocket.CLOSING = 2;\n  WebSocket.CLOSED = 3;\n\n  WebSocket.__flash = null;\n  WebSocket.__instances = {};\n  WebSocket.__tasks = [];\n  WebSocket.__nextId = 0;\n  \n  /**\n   * Load a new flash security policy file.\n   * @param {string} url\n   */\n  WebSocket.loadFlashPolicyFile = function(url){\n    WebSocket.__addTask(function() {\n      WebSocket.__flash.loadManualPolicyFile(url);\n    });\n  };\n\n  /**\n   * Loads WebSocketMain.swf and creates WebSocketMain object in Flash.\n   */\n  WebSocket.__initialize = function() {\n    if (WebSocket.__flash) return;\n    \n    if (WebSocket.__swfLocation) {\n      // For backword compatibility.\n      window.WEB_SOCKET_SWF_LOCATION = WebSocket.__swfLocation;\n    }\n    if (!window.WEB_SOCKET_SWF_LOCATION) {\n      console.error(\"[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf\");\n      return;\n    }\n    var container = document.createElement(\"div\");\n    container.id = \"webSocketContainer\";\n    // Hides Flash box. We cannot use display: none or visibility: hidden because it prevents\n    // Flash from loading at least in IE. So we move it out of the screen at (-100, -100).\n    // But this even doesn't work with Flash Lite (e.g. in Droid Incredible). So with Flash\n    // Lite, we put it at (0, 0). This shows 1x1 box visible at left-top corner but this is\n    // the best we can do as far as we know now.\n    container.style.position = \"absolute\";\n    if (WebSocket.__isFlashLite()) {\n      container.style.left = \"0px\";\n      container.style.top = \"0px\";\n    } else {\n      container.style.left = \"-100px\";\n      container.style.top = \"-100px\";\n    }\n    var holder = document.createElement(\"div\");\n    holder.id = \"webSocketFlash\";\n    container.appendChild(holder);\n    document.body.appendChild(container);\n    // See this article for hasPriority:\n    // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html\n    swfobject.embedSWF(\n      WEB_SOCKET_SWF_LOCATION,\n      \"webSocketFlash\",\n      \"1\" /* width */,\n      \"1\" /* height */,\n      \"10.0.0\" /* SWF version */,\n      null,\n      null,\n      {hasPriority: true, swliveconnect : true, allowScriptAccess: \"always\"},\n      null,\n      function(e) {\n        if (!e.success) {\n          console.error(\"[WebSocket] swfobject.embedSWF failed\");\n        }\n      });\n  };\n  \n  /**\n   * Called by Flash to notify JS that it's fully loaded and ready\n   * for communication.\n   */\n  WebSocket.__onFlashInitialized = function() {\n    // We need to set a timeout here to avoid round-trip calls\n    // to flash during the initialization process.\n    setTimeout(function() {\n      WebSocket.__flash = document.getElementById(\"webSocketFlash\");\n      WebSocket.__flash.setCallerUrl(location.href);\n      WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);\n      for (var i = 0; i < WebSocket.__tasks.length; ++i) {\n        WebSocket.__tasks[i]();\n      }\n      WebSocket.__tasks = [];\n    }, 0);\n  };\n  \n  /**\n   * Called by Flash to notify WebSockets events are fired.\n   */\n  WebSocket.__onFlashEvent = function() {\n    setTimeout(function() {\n      try {\n        // Gets events using receiveEvents() instead of getting it from event object\n        // of Flash event. This is to make sure to keep message order.\n        // It seems sometimes Flash events don't arrive in the same order as they are sent.\n        var events = WebSocket.__flash.receiveEvents();\n        for (var i = 0; i < events.length; ++i) {\n          WebSocket.__instances[events[i].webSocketId].__handleEvent(events[i]);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }, 0);\n    return true;\n  };\n  \n  // Called by Flash.\n  WebSocket.__log = function(message) {\n    console.log(decodeURIComponent(message));\n  };\n  \n  // Called by Flash.\n  WebSocket.__error = function(message) {\n    console.error(decodeURIComponent(message));\n  };\n  \n  WebSocket.__addTask = function(task) {\n    if (WebSocket.__flash) {\n      task();\n    } else {\n      WebSocket.__tasks.push(task);\n    }\n  };\n  \n  /**\n   * Test if the browser is running flash lite.\n   * @return {boolean} True if flash lite is running, false otherwise.\n   */\n  WebSocket.__isFlashLite = function() {\n    if (!window.navigator || !window.navigator.mimeTypes) {\n      return false;\n    }\n    var mimeType = window.navigator.mimeTypes[\"application/x-shockwave-flash\"];\n    if (!mimeType || !mimeType.enabledPlugin || !mimeType.enabledPlugin.filename) {\n      return false;\n    }\n    return mimeType.enabledPlugin.filename.match(/flashlite/i) ? true : false;\n  };\n  \n  if (!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION) {\n    if (window.addEventListener) {\n      window.addEventListener(\"load\", function(){\n        WebSocket.__initialize();\n      }, false);\n    } else {\n      window.attachEvent(\"onload\", function(){\n        WebSocket.__initialize();\n      });\n    }\n  }\n  \n})();\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   *\n   * @api public\n   */\n\n  exports.XHR = XHR;\n\n  /**\n   * XHR constructor\n   *\n   * @costructor\n   * @api public\n   */\n\n  function XHR (socket) {\n    if (!socket) return;\n\n    io.Transport.apply(this, arguments);\n    this.sendBuffer = [];\n  };\n\n  /**\n   * Inherits from Transport.\n   */\n\n  io.util.inherit(XHR, io.Transport);\n\n  /**\n   * Establish a connection\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  XHR.prototype.open = function () {\n    this.socket.setBuffer(false);\n    this.onOpen();\n    this.get();\n\n    // we need to make sure the request succeeds since we have no indication\n    // whether the request opened or not until it succeeded.\n    this.setCloseTimeout();\n\n    return this;\n  };\n\n  /**\n   * Check if we need to send data to the Socket.IO server, if we have data in our\n   * buffer we encode it and forward it to the `post` method.\n   *\n   * @api private\n   */\n\n  XHR.prototype.payload = function (payload) {\n    var msgs = [];\n\n    for (var i = 0, l = payload.length; i < l; i++) {\n      msgs.push(io.parser.encodePacket(payload[i]));\n    }\n\n    this.send(io.parser.encodePayload(msgs));\n  };\n\n  /**\n   * Send data to the Socket.IO server.\n   *\n   * @param data The message\n   * @returns {Transport}\n   * @api public\n   */\n\n  XHR.prototype.send = function (data) {\n    this.post(data);\n    return this;\n  };\n\n  /**\n   * Posts a encoded message to the Socket.IO server.\n   *\n   * @param {String} data A encoded message.\n   * @api private\n   */\n\n  function empty () { };\n\n  XHR.prototype.post = function (data) {\n    var self = this;\n    this.socket.setBuffer(true);\n\n    function stateChange () {\n      if (this.readyState == 4) {\n        this.onreadystatechange = empty;\n        self.posting = false;\n\n        if (this.status == 200){\n          self.socket.setBuffer(false);\n        } else {\n          self.onClose();\n        }\n      }\n    }\n\n    function onload () {\n      this.onload = empty;\n      self.socket.setBuffer(false);\n    };\n\n    this.sendXHR = this.request('POST');\n\n    if (global.XDomainRequest && this.sendXHR instanceof XDomainRequest) {\n      this.sendXHR.onload = this.sendXHR.onerror = onload;\n    } else {\n      this.sendXHR.onreadystatechange = stateChange;\n    }\n\n    this.sendXHR.send(data);\n  };\n\n  /**\n   * Disconnects the established `XHR` connection.\n   *\n   * @returns {Transport}\n   * @api public\n   */\n\n  XHR.prototype.close = function () {\n    this.onClose();\n    return this;\n  };\n\n  /**\n   * Generates a configured XHR request\n   *\n   * @param {String} url The url that needs to be requested.\n   * @param {String} method The method the request should use.\n   * @returns {XMLHttpRequest}\n   * @api private\n   */\n\n  XHR.prototype.request = function (method) {\n    var req = io.util.request(this.socket.isXDomain())\n      , query = io.util.query(this.socket.options.query, 't=' + +new Date);\n\n    req.open(method || 'GET', this.prepareUrl() + query, true);\n\n    if (method == 'POST') {\n      try {\n        if (req.setRequestHeader) {\n          req.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        } else {\n          // XDomainRequest\n          req.contentType = 'text/plain';\n        }\n      } catch (e) {}\n    }\n\n    return req;\n  };\n\n  /**\n   * Returns the scheme to use for the transport URLs.\n   *\n   * @api private\n   */\n\n  XHR.prototype.scheme = function () {\n    return this.socket.options.secure ? 'https' : 'http';\n  };\n\n  /**\n   * Check if the XHR transports are supported\n   *\n   * @param {Boolean} xdomain Check if we support cross domain requests.\n   * @returns {Boolean}\n   * @api public\n   */\n\n  XHR.check = function (socket, xdomain) {\n    try {\n      var request = io.util.request(xdomain),\n          usesXDomReq = (global.XDomainRequest && request instanceof XDomainRequest),\n          socketProtocol = (socket && socket.options && socket.options.secure ? 'https:' : 'http:'),\n          isXProtocol = (global.location && socketProtocol != global.location.protocol);\n      if (request && !(usesXDomReq && isXProtocol)) {\n        return true;\n      }\n    } catch(e) {}\n\n    return false;\n  };\n\n  /**\n   * Check if the XHR transport supports cross domain requests.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  XHR.xdomainCheck = function (socket) {\n    return XHR.check(socket, true);\n  };\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports.htmlfile = HTMLFile;\n\n  /**\n   * The HTMLFile transport creates a `forever iframe` based transport\n   * for Internet Explorer. Regular forever iframe implementations will \n   * continuously trigger the browsers buzy indicators. If the forever iframe\n   * is created inside a `htmlfile` these indicators will not be trigged.\n   *\n   * @constructor\n   * @extends {io.Transport.XHR}\n   * @api public\n   */\n\n  function HTMLFile (socket) {\n    io.Transport.XHR.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from XHR transport.\n   */\n\n  io.util.inherit(HTMLFile, io.Transport.XHR);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  HTMLFile.prototype.name = 'htmlfile';\n\n  /**\n   * Creates a new Ac...eX `htmlfile` with a forever loading iframe\n   * that can be used to listen to messages. Inside the generated\n   * `htmlfile` a reference will be made to the HTMLFile transport.\n   *\n   * @api private\n   */\n\n  HTMLFile.prototype.get = function () {\n    this.doc = new window[(['Active'].concat('Object').join('X'))]('htmlfile');\n    this.doc.open();\n    this.doc.write('<html></html>');\n    this.doc.close();\n    this.doc.parentWindow.s = this;\n\n    var iframeC = this.doc.createElement('div');\n    iframeC.className = 'socketio';\n\n    this.doc.body.appendChild(iframeC);\n    this.iframe = this.doc.createElement('iframe');\n\n    iframeC.appendChild(this.iframe);\n\n    var self = this\n      , query = io.util.query(this.socket.options.query, 't='+ +new Date);\n\n    this.iframe.src = this.prepareUrl() + query;\n\n    io.util.on(window, 'unload', function () {\n      self.destroy();\n    });\n  };\n\n  /**\n   * The Socket.IO server will write script tags inside the forever\n   * iframe, this function will be used as callback for the incoming\n   * information.\n   *\n   * @param {String} data The message\n   * @param {document} doc Reference to the context\n   * @api private\n   */\n\n  HTMLFile.prototype._ = function (data, doc) {\n    // unescape all forward slashes. see GH-1251\n    data = data.replace(/\\\\\\//g, '/');\n    this.onData(data);\n    try {\n      var script = doc.getElementsByTagName('script')[0];\n      script.parentNode.removeChild(script);\n    } catch (e) { }\n  };\n\n  /**\n   * Destroy the established connection, iframe and `htmlfile`.\n   * And calls the `CollectGarbage` function of Internet Explorer\n   * to release the memory.\n   *\n   * @api private\n   */\n\n  HTMLFile.prototype.destroy = function () {\n    if (this.iframe){\n      try {\n        this.iframe.src = 'about:blank';\n      } catch(e){}\n\n      this.doc = null;\n      this.iframe.parentNode.removeChild(this.iframe);\n      this.iframe = null;\n\n      CollectGarbage();\n    }\n  };\n\n  /**\n   * Disconnects the established connection.\n   *\n   * @returns {Transport} Chaining.\n   * @api public\n   */\n\n  HTMLFile.prototype.close = function () {\n    this.destroy();\n    return io.Transport.XHR.prototype.close.call(this);\n  };\n\n  /**\n   * Checks if the browser supports this transport. The browser\n   * must have an `Ac...eXObject` implementation.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  HTMLFile.check = function (socket) {\n    if (typeof window != \"undefined\" && (['Active'].concat('Object').join('X')) in window){\n      try {\n        var a = new window[(['Active'].concat('Object').join('X'))]('htmlfile');\n        return a && io.Transport.XHR.check(socket);\n      } catch(e){}\n    }\n    return false;\n  };\n\n  /**\n   * Check if cross domain requests are supported.\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  HTMLFile.xdomainCheck = function () {\n    // we can probably do handling for sub-domains, we should\n    // test that it's cross domain but a subdomain here\n    return false;\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('htmlfile');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n\n  /**\n   * Expose constructor.\n   */\n\n  exports['xhr-polling'] = XHRPolling;\n\n  /**\n   * The XHR-polling transport uses long polling XHR requests to create a\n   * \"persistent\" connection with the server.\n   *\n   * @constructor\n   * @api public\n   */\n\n  function XHRPolling () {\n    io.Transport.XHR.apply(this, arguments);\n  };\n\n  /**\n   * Inherits from XHR transport.\n   */\n\n  io.util.inherit(XHRPolling, io.Transport.XHR);\n\n  /**\n   * Merge the properties from XHR transport\n   */\n\n  io.util.merge(XHRPolling, io.Transport.XHR);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  XHRPolling.prototype.name = 'xhr-polling';\n\n  /**\n   * Indicates whether heartbeats is enabled for this transport\n   *\n   * @api private\n   */\n\n  XHRPolling.prototype.heartbeats = function () {\n    return false;\n  };\n\n  /** \n   * Establish a connection, for iPhone and Android this will be done once the page\n   * is loaded.\n   *\n   * @returns {Transport} Chaining.\n   * @api public\n   */\n\n  XHRPolling.prototype.open = function () {\n    var self = this;\n\n    io.Transport.XHR.prototype.open.call(self);\n    return false;\n  };\n\n  /**\n   * Starts a XHR request to wait for incoming messages.\n   *\n   * @api private\n   */\n\n  function empty () {};\n\n  XHRPolling.prototype.get = function () {\n    if (!this.isOpen) return;\n\n    var self = this;\n\n    function stateChange () {\n      if (this.readyState == 4) {\n        this.onreadystatechange = empty;\n\n        if (this.status == 200) {\n          self.onData(this.responseText);\n          self.get();\n        } else {\n          self.onClose();\n        }\n      }\n    };\n\n    function onload () {\n      this.onload = empty;\n      this.onerror = empty;\n      self.retryCounter = 1;\n      self.onData(this.responseText);\n      self.get();\n    };\n\n    function onerror () {\n      self.retryCounter ++;\n      if(!self.retryCounter || self.retryCounter > 3) {\n        self.onClose();  \n      } else {\n        self.get();\n      }\n    };\n\n    this.xhr = this.request();\n\n    if (global.XDomainRequest && this.xhr instanceof XDomainRequest) {\n      this.xhr.onload = onload;\n      this.xhr.onerror = onerror;\n    } else {\n      this.xhr.onreadystatechange = stateChange;\n    }\n\n    this.xhr.send(null);\n  };\n\n  /**\n   * Handle the unclean close behavior.\n   *\n   * @api private\n   */\n\n  XHRPolling.prototype.onClose = function () {\n    io.Transport.XHR.prototype.onClose.call(this);\n\n    if (this.xhr) {\n      this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = empty;\n      try {\n        this.xhr.abort();\n      } catch(e){}\n      this.xhr = null;\n    }\n  };\n\n  /**\n   * Webkit based browsers show a infinit spinner when you start a XHR request\n   * before the browsers onload event is called so we need to defer opening of\n   * the transport until the onload event is called. Wrapping the cb in our\n   * defer method solve this.\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  XHRPolling.prototype.ready = function (socket, fn) {\n    var self = this;\n\n    io.util.defer(function () {\n      fn.call(self);\n    });\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('xhr-polling');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n\n/**\n * socket.io\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n(function (exports, io, global) {\n  /**\n   * There is a way to hide the loading indicator in Firefox. If you create and\n   * remove a iframe it will stop showing the current loading indicator.\n   * Unfortunately we can't feature detect that and UA sniffing is evil.\n   *\n   * @api private\n   */\n\n  var indicator = global.document && \"MozAppearance\" in\n    global.document.documentElement.style;\n\n  /**\n   * Expose constructor.\n   */\n\n  exports['jsonp-polling'] = JSONPPolling;\n\n  /**\n   * The JSONP transport creates an persistent connection by dynamically\n   * inserting a script tag in the page. This script tag will receive the\n   * information of the Socket.IO server. When new information is received\n   * it creates a new script tag for the new data stream.\n   *\n   * @constructor\n   * @extends {io.Transport.xhr-polling}\n   * @api public\n   */\n\n  function JSONPPolling (socket) {\n    io.Transport['xhr-polling'].apply(this, arguments);\n\n    this.index = io.j.length;\n\n    var self = this;\n\n    io.j.push(function (msg) {\n      self._(msg);\n    });\n  };\n\n  /**\n   * Inherits from XHR polling transport.\n   */\n\n  io.util.inherit(JSONPPolling, io.Transport['xhr-polling']);\n\n  /**\n   * Transport name\n   *\n   * @api public\n   */\n\n  JSONPPolling.prototype.name = 'jsonp-polling';\n\n  /**\n   * Posts a encoded message to the Socket.IO server using an iframe.\n   * The iframe is used because script tags can create POST based requests.\n   * The iframe is positioned outside of the view so the user does not\n   * notice it's existence.\n   *\n   * @param {String} data A encoded message.\n   * @api private\n   */\n\n  JSONPPolling.prototype.post = function (data) {\n    var self = this\n      , query = io.util.query(\n             this.socket.options.query\n          , 't='+ (+new Date) + '&i=' + this.index\n        );\n\n    if (!this.form) {\n      var form = document.createElement('form')\n        , area = document.createElement('textarea')\n        , id = this.iframeId = 'socketio_iframe_' + this.index\n        , iframe;\n\n      form.className = 'socketio';\n      form.style.position = 'absolute';\n      form.style.top = '0px';\n      form.style.left = '0px';\n      form.style.display = 'none';\n      form.target = id;\n      form.method = 'POST';\n      form.setAttribute('accept-charset', 'utf-8');\n      area.name = 'd';\n      form.appendChild(area);\n      document.body.appendChild(form);\n\n      this.form = form;\n      this.area = area;\n    }\n\n    this.form.action = this.prepareUrl() + query;\n\n    function complete () {\n      initIframe();\n      self.socket.setBuffer(false);\n    };\n\n    function initIframe () {\n      if (self.iframe) {\n        self.form.removeChild(self.iframe);\n      }\n\n      try {\n        // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n        iframe = document.createElement('<iframe name=\"'+ self.iframeId +'\">');\n      } catch (e) {\n        iframe = document.createElement('iframe');\n        iframe.name = self.iframeId;\n      }\n\n      iframe.id = self.iframeId;\n\n      self.form.appendChild(iframe);\n      self.iframe = iframe;\n    };\n\n    initIframe();\n\n    // we temporarily stringify until we figure out how to prevent\n    // browsers from turning `\\n` into `\\r\\n` in form inputs\n    this.area.value = io.JSON.stringify(data);\n\n    try {\n      this.form.submit();\n    } catch(e) {}\n\n    if (this.iframe.attachEvent) {\n      iframe.onreadystatechange = function () {\n        if (self.iframe.readyState == 'complete') {\n          complete();\n        }\n      };\n    } else {\n      this.iframe.onload = complete;\n    }\n\n    this.socket.setBuffer(true);\n  };\n\n  /**\n   * Creates a new JSONP poll that can be used to listen\n   * for messages from the Socket.IO server.\n   *\n   * @api private\n   */\n\n  JSONPPolling.prototype.get = function () {\n    var self = this\n      , script = document.createElement('script')\n      , query = io.util.query(\n             this.socket.options.query\n          , 't='+ (+new Date) + '&i=' + this.index\n        );\n\n    if (this.script) {\n      this.script.parentNode.removeChild(this.script);\n      this.script = null;\n    }\n\n    script.async = true;\n    script.src = this.prepareUrl() + query;\n    script.onerror = function () {\n      self.onClose();\n    };\n\n    var insertAt = document.getElementsByTagName('script')[0];\n    insertAt.parentNode.insertBefore(script, insertAt);\n    this.script = script;\n\n    if (indicator) {\n      setTimeout(function () {\n        var iframe = document.createElement('iframe');\n        document.body.appendChild(iframe);\n        document.body.removeChild(iframe);\n      }, 100);\n    }\n  };\n\n  /**\n   * Callback function for the incoming message stream from the Socket.IO server.\n   *\n   * @param {String} data The message\n   * @api private\n   */\n\n  JSONPPolling.prototype._ = function (msg) {\n    this.onData(msg);\n    if (this.isOpen) {\n      this.get();\n    }\n    return this;\n  };\n\n  /**\n   * The indicator hack only works after onload\n   *\n   * @param {Socket} socket The socket instance that needs a transport\n   * @param {Function} fn The callback\n   * @api private\n   */\n\n  JSONPPolling.prototype.ready = function (socket, fn) {\n    var self = this;\n    if (!indicator) return fn.call(this);\n\n    io.util.load(function () {\n      fn.call(self);\n    });\n  };\n\n  /**\n   * Checks if browser supports this transport.\n   *\n   * @return {Boolean}\n   * @api public\n   */\n\n  JSONPPolling.check = function () {\n    return 'document' in global;\n  };\n\n  /**\n   * Check if cross domain requests are supported\n   *\n   * @returns {Boolean}\n   * @api public\n   */\n\n  JSONPPolling.xdomainCheck = function () {\n    return true;\n  };\n\n  /**\n   * Add the transport to your public io.transports array.\n   *\n   * @api private\n   */\n\n  io.transports.push('jsonp-polling');\n\n})(\n    'undefined' != typeof io ? io.Transport : module.exports\n  , 'undefined' != typeof io ? io : module.parent.exports\n  , this\n);\n\nif (typeof define === \"function\" && define.amd) {\n  define([], function () { return io; });\n}\n})();","// created by @HenrikJoreteg\nvar prefix;\nvar version;\n\nif (window.mozRTCPeerConnection || navigator.mozGetUserMedia) {\n    prefix = 'moz';\n    version = parseInt(navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1], 10);\n} else if (window.webkitRTCPeerConnection || navigator.webkitGetUserMedia) {\n    prefix = 'webkit';\n    version = navigator.userAgent.match(/Chrom(e|ium)/) && parseInt(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)[2], 10);\n}\n\nvar PC = window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\nvar IceCandidate = window.mozRTCIceCandidate || window.RTCIceCandidate;\nvar SessionDescription = window.mozRTCSessionDescription || window.RTCSessionDescription;\nvar MediaStream = window.webkitMediaStream || window.MediaStream;\nvar screenSharing = window.location.protocol === 'https:' &&\n    ((prefix === 'webkit' && version >= 26) ||\n     (prefix === 'moz' && version >= 33))\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\nvar videoEl = document.createElement('video');\nvar supportVp8 = videoEl && videoEl.canPlayType && videoEl.canPlayType('video/webm; codecs=\"vp8\", vorbis') === \"probably\";\nvar getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia;\n\n// export support flags and constructors.prototype && PC\nmodule.exports = {\n    prefix: prefix,\n    browserVersion: version,\n    support: !!PC && supportVp8 && !!getUserMedia,\n    // new support style\n    supportRTCPeerConnection: !!PC,\n    supportVp8: supportVp8,\n    supportGetUserMedia: !!getUserMedia,\n    supportDataChannel: !!(PC && PC.prototype && PC.prototype.createDataChannel),\n    supportWebAudio: !!(AudioContext && AudioContext.prototype.createMediaStreamSource),\n    supportMediaStream: !!(MediaStream && MediaStream.prototype.removeTrack),\n    supportScreenSharing: !!screenSharing,\n    // old deprecated style. Dont use this anymore\n    dataChannel: !!(PC && PC.prototype && PC.prototype.createDataChannel),\n    webAudio: !!(AudioContext && AudioContext.prototype.createMediaStreamSource),\n    mediaStream: !!(MediaStream && MediaStream.prototype.removeTrack),\n    screenSharing: !!screenSharing,\n    // constructors\n    AudioContext: AudioContext,\n    PeerConnection: PC,\n    SessionDescription: SessionDescription,\n    IceCandidate: IceCandidate,\n    MediaStream: MediaStream,\n    getUserMedia: getUserMedia\n};\n","/*\r\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\r\non @visionmedia's Emitter from UI Kit.\r\n\r\nWhy? I wanted it standalone.\r\n\r\nI also wanted support for wildcard emitters like this:\r\n\r\nemitter.on('*', function (eventName, other, event, payloads) {\r\n\r\n});\r\n\r\nemitter.on('somenamespace*', function (eventName, payloads) {\r\n\r\n});\r\n\r\nPlease note that callbacks triggered by wildcard registered events also get\r\nthe event name as the first argument.\r\n*/\r\n\r\nmodule.exports = WildEmitter;\r\n\r\nfunction WildEmitter() { }\r\n\r\nWildEmitter.mixin = function (constructor) {\r\n    var prototype = constructor.prototype || constructor;\r\n\r\n    prototype.isWildEmitter= true;\r\n\r\n    // Listen on the given `event` with `fn`. Store a group name if present.\r\n    prototype.on = function (event, groupName, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        func._groupName = group;\r\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\r\n        return this;\r\n    };\r\n\r\n    // Adds an `event` listener that will be invoked a single\r\n    // time then automatically removed.\r\n    prototype.once = function (event, groupName, fn) {\r\n        var self = this,\r\n            hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        function on() {\r\n            self.off(event, on);\r\n            func.apply(this, arguments);\r\n        }\r\n        this.on(event, group, on);\r\n        return this;\r\n    };\r\n\r\n    // Unbinds an entire group\r\n    prototype.releaseGroup = function (groupName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item, i, len, handlers;\r\n        for (item in this.callbacks) {\r\n            handlers = this.callbacks[item];\r\n            for (i = 0, len = handlers.length; i < len; i++) {\r\n                if (handlers[i]._groupName === groupName) {\r\n                    //console.log('removing');\r\n                    // remove it and shorten the array we're looping through\r\n                    handlers.splice(i, 1);\r\n                    i--;\r\n                    len--;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Remove the given callback for `event` or all\r\n    // registered callbacks.\r\n    prototype.off = function (event, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var callbacks = this.callbacks[event],\r\n            i;\r\n\r\n        if (!callbacks) return this;\r\n\r\n        // remove all handlers\r\n        if (arguments.length === 1) {\r\n            delete this.callbacks[event];\r\n            return this;\r\n        }\r\n\r\n        // remove specific handler\r\n        i = callbacks.indexOf(fn);\r\n        callbacks.splice(i, 1);\r\n        if (callbacks.length === 0) {\r\n            delete this.callbacks[event];\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /// Emit `event` with the given args.\r\n    // also calls any `*` handlers\r\n    prototype.emit = function (event) {\r\n        this.callbacks = this.callbacks || {};\r\n        var args = [].slice.call(arguments, 1),\r\n            callbacks = this.callbacks[event],\r\n            specialCallbacks = this.getWildcardCallbacks(event),\r\n            i,\r\n            len,\r\n            item,\r\n            listeners;\r\n\r\n        if (callbacks) {\r\n            listeners = callbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, args);\r\n            }\r\n        }\r\n\r\n        if (specialCallbacks) {\r\n            len = specialCallbacks.length;\r\n            listeners = specialCallbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, [event].concat(args));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Helper for for finding special wildcard event handlers that match the event\r\n    prototype.getWildcardCallbacks = function (eventName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item,\r\n            split,\r\n            result = [];\r\n\r\n        for (item in this.callbacks) {\r\n            split = item.split('*');\r\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\r\n                result = result.concat(this.callbacks[item]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n};\r\n\r\nWildEmitter.mixin(WildEmitter);\r\n","var util = require('util');\nvar webrtc = require('webrtcsupport');\nvar PeerConnection = require('rtcpeerconnection');\nvar WildEmitter = require('wildemitter');\nvar FileTransfer = require('filetransfer');\n\n// the inband-v1 protocol is sending metadata inband in a serialized JSON object\n// followed by the actual data. Receiver closes the datachannel upon completion\nvar INBAND_FILETRANSFER_V1 = 'https://simplewebrtc.com/protocol/filetransfer#inband-v1';\n\nfunction Peer(options) {\n    var self = this;\n\n    // call emitter constructor\n    WildEmitter.call(this);\n\n    this.id = options.id;\n    this.parent = options.parent;\n    this.type = options.type || 'video';\n    this.oneway = options.oneway || false;\n    this.sharemyscreen = options.sharemyscreen || false;\n    this.browserPrefix = options.prefix;\n    this.stream = options.stream;\n    this.enableDataChannels = options.enableDataChannels === undefined ? this.parent.config.enableDataChannels : options.enableDataChannels;\n    this.receiveMedia = options.receiveMedia || this.parent.config.receiveMedia;\n    this.channels = {};\n    this.sid = options.sid || Date.now().toString();\n    // Create an RTCPeerConnection via the polyfill\n    this.pc = new PeerConnection(this.parent.config.peerConnectionConfig, this.parent.config.peerConnectionConstraints);\n    this.pc.on('ice', this.onIceCandidate.bind(this));\n    this.pc.on('offer', function (offer) {\n        if (self.parent.config.nick) offer.nick = self.parent.config.nick;\n        self.send('offer', offer);\n    });\n    this.pc.on('answer', function (answer) {\n        if (self.parent.config.nick) answer.nick = self.parent.config.nick;\n        self.send('answer', answer);\n    });\n    this.pc.on('addStream', this.handleRemoteStreamAdded.bind(this));\n    this.pc.on('addChannel', this.handleDataChannelAdded.bind(this));\n    this.pc.on('removeStream', this.handleStreamRemoved.bind(this));\n    // Just fire negotiation needed events for now\n    // When browser re-negotiation handling seems to work\n    // we can use this as the trigger for starting the offer/answer process\n    // automatically. We'll just leave it be for now while this stabalizes.\n    this.pc.on('negotiationNeeded', this.emit.bind(this, 'negotiationNeeded'));\n    this.pc.on('iceConnectionStateChange', this.emit.bind(this, 'iceConnectionStateChange'));\n    this.pc.on('iceConnectionStateChange', function () {\n        switch (self.pc.iceConnectionState) {\n        case 'failed':\n            // currently, in chrome only the initiator goes to failed\n            // so we need to signal this to the peer\n            if (self.pc.pc.peerconnection.localDescription.type === 'offer') {\n                self.parent.emit('iceFailed', self);\n                self.send('connectivityError');\n            }\n            break;\n        }\n    });\n    this.pc.on('signalingStateChange', this.emit.bind(this, 'signalingStateChange'));\n    this.logger = this.parent.logger;\n\n    // handle screensharing/broadcast mode\n    if (options.type === 'screen') {\n        if (this.parent.localScreen && this.sharemyscreen) {\n            this.logger.log('adding local screen stream to peer connection');\n            this.pc.addStream(this.parent.localScreen);\n            this.broadcaster = options.broadcaster;\n        }\n    } else {\n        this.parent.localStreams.forEach(function (stream) {\n            self.pc.addStream(stream);\n        });\n    }\n\n    this.on('channelOpen', function (channel) {\n        if (channel.protocol === INBAND_FILETRANSFER_V1) {\n            channel.onmessage = function (event) {\n                var metadata = JSON.parse(event.data);\n                var receiver = new FileTransfer.Receiver();\n                receiver.receive(metadata, channel);\n                self.emit('fileTransfer', metadata, receiver);\n                receiver.on('receivedFile', function (file, metadata) {\n                    receiver.channel.close();\n                });\n            };\n        }\n    });\n\n    // proxy events to parent\n    this.on('*', function () {\n        self.parent.emit.apply(self.parent, arguments);\n    });\n}\n\nutil.inherits(Peer, WildEmitter);\n\nPeer.prototype.handleMessage = function (message) {\n    var self = this;\n\n    this.logger.log('getting', message.type, message);\n\n    if (message.prefix) this.browserPrefix = message.prefix;\n\n    if (message.type === 'offer') {\n        if (!this.nick) this.nick = message.payload.nick;\n        delete message.payload.nick;\n        // workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1064247\n        message.payload.sdp = message.payload.sdp.replace('a=fmtp:0 profile-level-id=0x42e00c;packetization-mode=1\\r\\n', '');\n        this.pc.handleOffer(message.payload, function (err) {\n            if (err) {\n                return;\n            }\n            // auto-accept\n            self.pc.answer(self.receiveMedia, function (err, sessionDescription) {\n                //self.send('answer', sessionDescription);\n            });\n        });\n    } else if (message.type === 'answer') {\n        if (!this.nick) this.nick = message.payload.nick;\n        delete message.payload.nick;\n        this.pc.handleAnswer(message.payload);\n    } else if (message.type === 'candidate') {\n        this.pc.processIce(message.payload);\n    } else if (message.type === 'connectivityError') {\n        this.parent.emit('connectivityError', self);\n    } else if (message.type === 'mute') {\n        this.parent.emit('mute', {id: message.from, name: message.payload.name});\n    } else if (message.type === 'unmute') {\n        this.parent.emit('unmute', {id: message.from, name: message.payload.name});\n    }\n};\n\n// send via signalling channel\nPeer.prototype.send = function (messageType, payload) {\n    var message = {\n        to: this.id,\n        sid: this.sid,\n        broadcaster: this.broadcaster,\n        roomType: this.type,\n        type: messageType,\n        payload: payload,\n        prefix: webrtc.prefix\n    };\n    this.logger.log('sending', messageType, message);\n    this.parent.emit('message', message);\n};\n\n// send via data channel\n// returns true when message was sent and false if channel is not open\nPeer.prototype.sendDirectly = function (channel, messageType, payload) {\n    var message = {\n        type: messageType,\n        payload: payload\n    };\n    this.logger.log('sending via datachannel', channel, messageType, message);\n    var dc = this.getDataChannel(channel);\n    if (dc.readyState != 'open') return false;\n    dc.send(JSON.stringify(message));\n    return true;\n};\n\n// Internal method registering handlers for a data channel and emitting events on the peer\nPeer.prototype._observeDataChannel = function (channel) {\n    var self = this;\n    channel.onclose = this.emit.bind(this, 'channelClose', channel);\n    channel.onerror = this.emit.bind(this, 'channelError', channel);\n    channel.onmessage = function (event) {\n        self.emit('channelMessage', self, channel.label, JSON.parse(event.data), channel, event);\n    };\n    channel.onopen = this.emit.bind(this, 'channelOpen', channel);\n};\n\n// Fetch or create a data channel by the given name\nPeer.prototype.getDataChannel = function (name, opts) {\n    if (!webrtc.supportDataChannel) return this.emit('error', new Error('createDataChannel not supported'));\n    var channel = this.channels[name];\n    opts || (opts = {});\n    if (channel) return channel;\n    // if we don't have one by this label, create it\n    channel = this.channels[name] = this.pc.createDataChannel(name, opts);\n    this._observeDataChannel(channel);\n    return channel;\n};\n\nPeer.prototype.onIceCandidate = function (candidate) {\n    if (this.closed) return;\n    if (candidate) {\n        var pcConfig = this.parent.config.peerConnectionConfig;\n        if (webrtc.prefix === 'moz' && pcConfig && pcConfig.iceTransports &&\n                candidate.candidate && candidate.candidate.candidate &&\n                candidate.candidate.candidate.indexOf(pcConfig.iceTransports) < 0) {\n            this.logger.log('Ignoring ice candidate not matching pcConfig iceTransports type: ', pcConfig.iceTransports);\n        } else {\n            this.send('candidate', candidate);\n        }\n    } else {\n        this.logger.log(\"End of candidates.\");\n    }\n};\n\nPeer.prototype.start = function () {\n    var self = this;\n\n    // well, the webrtc api requires that we either\n    // a) create a datachannel a priori\n    // b) do a renegotiation later to add the SCTP m-line\n    // Let's do (a) first...\n    if (this.enableDataChannels) {\n        this.getDataChannel('simplewebrtc');\n    }\n\n    this.pc.offer(this.receiveMedia, function (err, sessionDescription) {\n        //self.send('offer', sessionDescription);\n    });\n};\n\nPeer.prototype.icerestart = function () {\n    var constraints = this.receiveMedia;\n    constraints.mandatory.IceRestart = true;\n    this.pc.offer(constraints, function (err, success) { });\n};\n\nPeer.prototype.end = function () {\n    if (this.closed) return;\n    this.pc.close();\n    this.handleStreamRemoved();\n};\n\nPeer.prototype.handleRemoteStreamAdded = function (event) {\n    var self = this;\n    if (this.stream) {\n        this.logger.warn('Already have a remote stream');\n    } else {\n        this.stream = event.stream;\n        // FIXME: addEventListener('ended', ...) would be nicer\n        // but does not work in firefox\n        this.stream.onended = function () {\n            self.end();\n        };\n        this.parent.emit('peerStreamAdded', this);\n    }\n};\n\nPeer.prototype.handleStreamRemoved = function () {\n    this.parent.peers.splice(this.parent.peers.indexOf(this), 1);\n    this.closed = true;\n    this.parent.emit('peerStreamRemoved', this);\n};\n\nPeer.prototype.handleDataChannelAdded = function (channel) {\n    this.channels[channel.label] = channel;\n    this._observeDataChannel(channel);\n};\n\nPeer.prototype.sendFile = function (file) {\n    var sender = new FileTransfer.Sender();\n    var dc = this.getDataChannel('filetransfer' + (new Date()).getTime(), {\n        protocol: INBAND_FILETRANSFER_V1\n    });\n    // override onopen\n    dc.onopen = function () {\n        dc.send(JSON.stringify({\n            size: file.size,\n            name: file.name\n        }));\n        sender.send(file, dc);\n    };\n    // override onclose\n    dc.onclose = function () {\n        console.log('sender received transfer');\n        sender.emit('complete');\n    };\n    return sender;\n};\n\nmodule.exports = Peer;\n","var WebRTC = require('./webrtc');\nvar WildEmitter = require('wildemitter');\nvar webrtcSupport = require('webrtcsupport');\nvar attachMediaStream = require('attachmediastream');\nvar mockconsole = require('mockconsole');\nvar SocketIoConnection = require('./socketioconnection');\n\nfunction SimpleWebRTC(opts) {\n    var self = this;\n    var options = opts || {};\n    var config = this.config = {\n            url: 'https://signaling.simplewebrtc.com:443/',\n            socketio: {/* 'force new connection':true*/},\n            connection: null,\n            debug: false,\n            localVideoEl: '',\n            remoteVideosEl: '',\n            enableDataChannels: true,\n            autoRequestMedia: false,\n            autoRemoveVideos: true,\n            adjustPeerVolume: true,\n            peerVolumeWhenSpeaking: 0.25,\n            media: {\n                video: true,\n                audio: true\n            },\n            receiveMedia: { // FIXME: remove old chrome <= 37 constraints format\n                mandatory: {\n                    OfferToReceiveAudio: true,\n                    OfferToReceiveVideo: true\n                }\n            },\n            localVideo: {\n                autoplay: true,\n                mirror: true,\n                muted: true\n            }\n        };\n    var item, connection;\n\n    // We also allow a 'logger' option. It can be any object that implements\n    // log, warn, and error methods.\n    // We log nothing by default, following \"the rule of silence\":\n    // http://www.linfo.org/rule_of_silence.html\n    this.logger = function () {\n        // we assume that if you're in debug mode and you didn't\n        // pass in a logger, you actually want to log as much as\n        // possible.\n        if (opts.debug) {\n            return opts.logger || console;\n        } else {\n        // or we'll use your logger which should have its own logic\n        // for output. Or we'll return the no-op.\n            return opts.logger || mockconsole;\n        }\n    }();\n\n    // set our config from options\n    for (item in options) {\n        this.config[item] = options[item];\n    }\n\n    // attach detected support for convenience\n    this.capabilities = webrtcSupport;\n\n    // call WildEmitter constructor\n    WildEmitter.call(this);\n\n    // create default SocketIoConnection if it's not passed in\n    if (this.config.connection === null) {\n        connection = this.connection = new SocketIoConnection(this.config);\n    } else {\n        connection = this.connection = this.config.connection;\n    }\n\n    connection.on('connect', function () {\n        self.emit('connectionReady', connection.getSessionid());\n        self.sessionReady = true;\n        self.testReadiness();\n    });\n\n    connection.on('message', function (message) {\n        var peers = self.webrtc.getPeers(message.from, message.roomType);\n        var peer;\n\n        if (message.type === 'offer') {\n            if (peers.length) {\n                peers.forEach(function (p) {\n                    if (p.sid == message.sid) peer = p;\n                });\n                //if (!peer) peer = peers[0]; // fallback for old protocol versions\n            }\n            if (!peer) {\n                peer = self.webrtc.createPeer({\n                    id: message.from,\n                    sid: message.sid,\n                    type: message.roomType,\n                    enableDataChannels: self.config.enableDataChannels && message.roomType !== 'screen',\n                    sharemyscreen: message.roomType === 'screen' && !message.broadcaster,\n                    broadcaster: message.roomType === 'screen' && !message.broadcaster ? self.connection.getSessionid() : null\n                });\n                self.emit('createdPeer', peer);\n            }\n            peer.handleMessage(message);\n        } else if (peers.length) {\n            peers.forEach(function (peer) {\n                if (message.sid) {\n                    if (peer.sid === message.sid) {\n                        peer.handleMessage(message);\n                    }\n                } else {\n                    peer.handleMessage(message);\n                }\n            });\n        }\n    });\n\n    connection.on('remove', function (room) {\n        if (room.id !== self.connection.getSessionid()) {\n            self.webrtc.removePeers(room.id, room.type);\n        }\n    });\n\n    // instantiate our main WebRTC helper\n    // using same logger from logic here\n    opts.logger = this.logger;\n    opts.debug = false;\n    this.webrtc = new WebRTC(opts);\n\n    // attach a few methods from underlying lib to simple.\n    ['mute', 'unmute', 'pauseVideo', 'resumeVideo', 'pause', 'resume', 'sendToAll', 'sendDirectlyToAll', 'getPeers'].forEach(function (method) {\n        self[method] = self.webrtc[method].bind(self.webrtc);\n    });\n\n    // proxy events from WebRTC\n    this.webrtc.on('*', function () {\n        self.emit.apply(self, arguments);\n    });\n\n    // log all events in debug mode\n    if (config.debug) {\n        this.on('*', this.logger.log.bind(this.logger, 'SimpleWebRTC event:'));\n    }\n\n    // check for readiness\n    this.webrtc.on('localStream', function () {\n        self.testReadiness();\n    });\n\n    this.webrtc.on('message', function (payload) {\n        self.connection.emit('message', payload);\n    });\n\n    this.webrtc.on('peerStreamAdded', this.handlePeerStreamAdded.bind(this));\n    this.webrtc.on('peerStreamRemoved', this.handlePeerStreamRemoved.bind(this));\n\n    // echo cancellation attempts\n    if (this.config.adjustPeerVolume) {\n        this.webrtc.on('speaking', this.setVolumeForAll.bind(this, this.config.peerVolumeWhenSpeaking));\n        this.webrtc.on('stoppedSpeaking', this.setVolumeForAll.bind(this, 1));\n    }\n\n    connection.on('stunservers', function (args) {\n        // resets/overrides the config\n        self.webrtc.config.peerConnectionConfig.iceServers = args;\n        self.emit('stunservers', args);\n    });\n    connection.on('turnservers', function (args) {\n        // appends to the config\n        self.webrtc.config.peerConnectionConfig.iceServers = self.webrtc.config.peerConnectionConfig.iceServers.concat(args);\n        self.emit('turnservers', args);\n    });\n\n    this.webrtc.on('iceFailed', function (peer) {\n        // local ice failure\n    });\n    this.webrtc.on('connectivityError', function (peer) {\n        // remote ice failure\n    });\n\n\n    // sending mute/unmute to all peers\n    this.webrtc.on('audioOn', function () {\n        self.webrtc.sendToAll('unmute', {name: 'audio'});\n    });\n    this.webrtc.on('audioOff', function () {\n        self.webrtc.sendToAll('mute', {name: 'audio'});\n    });\n    this.webrtc.on('videoOn', function () {\n        self.webrtc.sendToAll('unmute', {name: 'video'});\n    });\n    this.webrtc.on('videoOff', function () {\n        self.webrtc.sendToAll('mute', {name: 'video'});\n    });\n\n    // screensharing events\n    this.webrtc.on('localScreen', function (stream) {\n        var item,\n            el = document.createElement('video'),\n            container = self.getRemoteVideoContainer();\n\n        el.oncontextmenu = function () { return false; };\n        el.id = 'localScreen';\n        attachMediaStream(stream, el);\n        if (container) {\n            container.appendChild(el);\n        }\n\n        self.emit('localScreenAdded', el);\n        self.connection.emit('shareScreen');\n\n        self.webrtc.peers.forEach(function (existingPeer) {\n            var peer;\n            if (existingPeer.type === 'video') {\n                peer = self.webrtc.createPeer({\n                    id: existingPeer.id,\n                    type: 'screen',\n                    sharemyscreen: true,\n                    enableDataChannels: false,\n                    receiveMedia: {\n                        mandatory: {\n                            OfferToReceiveAudio: false,\n                            OfferToReceiveVideo: false\n                        }\n                    },\n                    broadcaster: self.connection.getSessionid(),\n                });\n                self.emit('createdPeer', peer);\n                peer.start();\n            }\n        });\n    });\n    this.webrtc.on('localScreenStopped', function (stream) {\n        self.stopScreenShare();\n        /*\n        self.connection.emit('unshareScreen');\n        self.webrtc.peers.forEach(function (peer) {\n            if (peer.sharemyscreen) {\n                peer.end();\n            }\n        });\n        */\n    });\n\n    this.webrtc.on('channelMessage', function (peer, label, data) {\n        if (data.type == 'volume') {\n            self.emit('remoteVolumeChange', peer, data.volume);\n        }\n    });\n\n    if (this.config.autoRequestMedia) this.startLocalVideo();\n}\n\n\nSimpleWebRTC.prototype = Object.create(WildEmitter.prototype, {\n    constructor: {\n        value: SimpleWebRTC\n    }\n});\n\nSimpleWebRTC.prototype.leaveRoom = function () {\n    if (this.roomName) {\n        this.connection.emit('leave');\n        this.webrtc.peers.forEach(function (peer) {\n            peer.end();\n        });\n        if (this.getLocalScreen()) {\n            this.stopScreenShare();\n        }\n        this.emit('leftRoom', this.roomName);\n        this.roomName = undefined;\n    }\n};\n\nSimpleWebRTC.prototype.disconnect = function () {\n    this.connection.disconnect();\n    delete this.connection;\n};\n\nSimpleWebRTC.prototype.handlePeerStreamAdded = function (peer) {\n    var self = this;\n    var container = this.getRemoteVideoContainer();\n    var video = attachMediaStream(peer.stream);\n\n    // store video element as part of peer for easy removal\n    peer.videoEl = video;\n    video.id = this.getDomId(peer);\n\n    if (container) container.appendChild(video);\n\n    this.emit('videoAdded', video, peer);\n\n    // send our mute status to new peer if we're muted\n    // currently called with a small delay because it arrives before\n    // the video element is created otherwise (which happens after\n    // the async setRemoteDescription-createAnswer)\n    window.setTimeout(function () {\n        if (!self.webrtc.isAudioEnabled()) {\n            peer.send('mute', {name: 'audio'});\n        }\n        if (!self.webrtc.isVideoEnabled()) {\n            peer.send('mute', {name: 'video'});\n        }\n    }, 250);\n};\n\nSimpleWebRTC.prototype.handlePeerStreamRemoved = function (peer) {\n    var container = this.getRemoteVideoContainer();\n    var videoEl = peer.videoEl;\n    if (this.config.autoRemoveVideos && container && videoEl) {\n        container.removeChild(videoEl);\n    }\n    if (videoEl) this.emit('videoRemoved', videoEl, peer);\n};\n\nSimpleWebRTC.prototype.getDomId = function (peer) {\n    return [peer.id, peer.type, peer.broadcaster ? 'broadcasting' : 'incoming'].join('_');\n};\n\n// set volume on video tag for all peers takse a value between 0 and 1\nSimpleWebRTC.prototype.setVolumeForAll = function (volume) {\n    this.webrtc.peers.forEach(function (peer) {\n        if (peer.videoEl) peer.videoEl.volume = volume;\n    });\n};\n\nSimpleWebRTC.prototype.joinRoom = function (name, cb) {\n    var self = this;\n    this.roomName = name;\n    this.connection.emit('join', name, function (err, roomDescription) {\n        if (err) {\n            self.emit('error', err);\n        } else {\n            var id,\n                client,\n                type,\n                peer;\n            for (id in roomDescription.clients) {\n                client = roomDescription.clients[id];\n                for (type in client) {\n                    if (client[type]) {\n                        peer = self.webrtc.createPeer({\n                            id: id,\n                            type: type,\n                            enableDataChannels: self.config.enableDataChannels && type !== 'screen',\n                            receiveMedia: {\n                                mandatory: {\n                                    OfferToReceiveAudio: type !== 'screen' && self.config.receiveMedia.mandatory.OfferToReceiveAudio,\n                                    OfferToReceiveVideo: self.config.receiveMedia.mandatory.OfferToReceiveVideo\n                                }\n                            }\n                        });\n                        self.emit('createdPeer', peer);\n                        peer.start();\n                    }\n                }\n            }\n        }\n\n        if (cb) cb(err, roomDescription);\n        self.emit('joinedRoom', name);\n    });\n};\n\nSimpleWebRTC.prototype.getEl = function (idOrEl) {\n    if (typeof idOrEl === 'string') {\n        return document.getElementById(idOrEl);\n    } else {\n        return idOrEl;\n    }\n};\n\nSimpleWebRTC.prototype.startLocalVideo = function () {\n    var self = this;\n    this.webrtc.startLocalMedia(this.config.media, function (err, stream) {\n        if (err) {\n            self.emit('localMediaError', err);\n        } else {\n            attachMediaStream(stream, self.getLocalVideoContainer(), self.config.localVideo);\n        }\n    });\n};\n\nSimpleWebRTC.prototype.stopLocalVideo = function () {\n    this.webrtc.stopLocalMedia();\n};\n\n// this accepts either element ID or element\n// and either the video tag itself or a container\n// that will be used to put the video tag into.\nSimpleWebRTC.prototype.getLocalVideoContainer = function () {\n    var el = this.getEl(this.config.localVideoEl);\n    if (el && el.tagName === 'VIDEO') {\n        el.oncontextmenu = function () { return false; };\n        return el;\n    } else if (el) {\n        var video = document.createElement('video');\n        video.oncontextmenu = function () { return false; };\n        el.appendChild(video);\n        return video;\n    } else {\n        return;\n    }\n};\n\nSimpleWebRTC.prototype.getRemoteVideoContainer = function () {\n    return this.getEl(this.config.remoteVideosEl);\n};\n\nSimpleWebRTC.prototype.shareScreen = function (cb) {\n    this.webrtc.startScreenShare(cb);\n};\n\nSimpleWebRTC.prototype.getLocalScreen = function () {\n    return this.webrtc.localScreen;\n};\n\nSimpleWebRTC.prototype.stopScreenShare = function () {\n    this.connection.emit('unshareScreen');\n    var videoEl = document.getElementById('localScreen');\n    var container = this.getRemoteVideoContainer();\n    var stream = this.getLocalScreen();\n\n    if (this.config.autoRemoveVideos && container && videoEl) {\n        container.removeChild(videoEl);\n    }\n\n    // a hack to emit the event the removes the video\n    // element that we want\n    if (videoEl) this.emit('videoRemoved', videoEl);\n    if (stream) stream.stop();\n    this.webrtc.peers.forEach(function (peer) {\n        if (peer.broadcaster) {\n            peer.end();\n        }\n    });\n    //delete this.webrtc.localScreen;\n};\n\nSimpleWebRTC.prototype.testReadiness = function () {\n    var self = this;\n    if (this.webrtc.localStream && this.sessionReady) {\n        self.emit('readyToCall', self.connection.getSessionid());\n    }\n};\n\nSimpleWebRTC.prototype.createRoom = function (name, cb) {\n    if (arguments.length === 2) {\n        this.connection.emit('create', name, cb);\n    } else {\n        this.connection.emit('create', name);\n    }\n};\n\nSimpleWebRTC.prototype.sendFile = function () {\n    if (!webrtcSupport.dataChannel) {\n        return this.emit('error', new Error('DataChannelNotSupported'));\n    }\n\n};\n\nmodule.exports = SimpleWebRTC;\n","var io = require('socket.io-client');\n\nfunction SocketIoConnection(config) {\n    this.connection = io.connect(config.url, config.socketio);\n}\n\nSocketIoConnection.prototype.on = function (ev, fn) {\n    this.connection.on(ev, fn);\n};\n\nSocketIoConnection.prototype.emit = function () {\n    this.connection.emit.apply(this.connection, arguments);\n};\n\nSocketIoConnection.prototype.getSessionid = function () {\n    return this.connection.socket.sessionid;\n};\n\nSocketIoConnection.prototype.disconnect = function () {\n    return this.connection.disconnect();\n};\n\nmodule.exports = SocketIoConnection;\n","var util = require('util');\nvar webrtc = require('webrtcsupport');\nvar WildEmitter = require('wildemitter');\nvar mockconsole = require('mockconsole');\nvar localMedia = require('localmedia');\nvar Peer = require('./peer');\n\n\nfunction WebRTC(opts) {\n    var self = this;\n    var options = opts || {};\n    var config = this.config = {\n            debug: false,\n            // makes the entire PC config overridable\n            peerConnectionConfig: {\n                iceServers: [{\"url\": \"stun:stun.l.google.com:19302\"}]\n            },\n            peerConnectionConstraints: {\n                optional: [\n                    {DtlsSrtpKeyAgreement: true}\n                ]\n            },\n            receiveMedia: {\n                mandatory: {\n                    OfferToReceiveAudio: true,\n                    OfferToReceiveVideo: true\n                }\n            },\n            enableDataChannels: true\n        };\n    var item;\n\n    // expose screensharing check\n    this.screenSharingSupport = webrtc.screenSharing;\n\n    // We also allow a 'logger' option. It can be any object that implements\n    // log, warn, and error methods.\n    // We log nothing by default, following \"the rule of silence\":\n    // http://www.linfo.org/rule_of_silence.html\n    this.logger = function () {\n        // we assume that if you're in debug mode and you didn't\n        // pass in a logger, you actually want to log as much as\n        // possible.\n        if (opts.debug) {\n            return opts.logger || console;\n        } else {\n        // or we'll use your logger which should have its own logic\n        // for output. Or we'll return the no-op.\n            return opts.logger || mockconsole;\n        }\n    }();\n\n    // set options\n    for (item in options) {\n        this.config[item] = options[item];\n    }\n\n    // check for support\n    if (!webrtc.support) {\n        this.logger.error('Your browser doesn\\'t seem to support WebRTC');\n    }\n\n    // where we'll store our peer connections\n    this.peers = [];\n\n    // call localMedia constructor\n    localMedia.call(this, this.config);\n\n    this.on('speaking', function () {\n        if (!self.hardMuted) {\n            // FIXME: should use sendDirectlyToAll, but currently has different semantics wrt payload\n            self.peers.forEach(function (peer) {\n                if (peer.enableDataChannels) {\n                    var dc = peer.getDataChannel('hark');\n                    if (dc.readyState != 'open') return;\n                    dc.send(JSON.stringify({type: 'speaking'}));\n                }\n            });\n        }\n    });\n    this.on('stoppedSpeaking', function () {\n        if (!self.hardMuted) {\n            // FIXME: should use sendDirectlyToAll, but currently has different semantics wrt payload\n            self.peers.forEach(function (peer) {\n                if (peer.enableDataChannels) {\n                    var dc = peer.getDataChannel('hark');\n                    if (dc.readyState != 'open') return;\n                    dc.send(JSON.stringify({type: 'stoppedSpeaking'}));\n                }\n            });\n        }\n    });\n    this.on('volumeChange', function (volume, treshold) {\n        if (!self.hardMuted) {\n            // FIXME: should use sendDirectlyToAll, but currently has different semantics wrt payload\n            self.peers.forEach(function (peer) {\n                if (peer.enableDataChannels) {\n                    var dc = peer.getDataChannel('hark');\n                    if (dc.readyState != 'open') return;\n                    dc.send(JSON.stringify({type: 'volume', volume: volume }));\n                }\n            });\n        }\n    });\n\n    // log events in debug mode\n    if (this.config.debug) {\n        this.on('*', function (event, val1, val2) {\n            var logger;\n            // if you didn't pass in a logger and you explicitly turning on debug\n            // we're just going to assume you're wanting log output with console\n            if (self.config.logger === mockconsole) {\n                logger = console;\n            } else {\n                logger = self.logger;\n            }\n            logger.log('event:', event, val1, val2);\n        });\n    }\n}\n\nutil.inherits(WebRTC, localMedia);\n\nWebRTC.prototype.createPeer = function (opts) {\n    var peer;\n    opts.parent = this;\n    peer = new Peer(opts);\n    this.peers.push(peer);\n    return peer;\n};\n\n// removes peers\nWebRTC.prototype.removePeers = function (id, type) {\n    this.getPeers(id, type).forEach(function (peer) {\n        peer.end();\n    });\n};\n\n// fetches all Peer objects by session id and/or type\nWebRTC.prototype.getPeers = function (sessionId, type) {\n    return this.peers.filter(function (peer) {\n        return (!sessionId || peer.id === sessionId) && (!type || peer.type === type);\n    });\n};\n\n// sends message to all\nWebRTC.prototype.sendToAll = function (message, payload) {\n    this.peers.forEach(function (peer) {\n        peer.send(message, payload);\n    });\n};\n\n// sends message to all using a datachannel\n// only sends to anyone who has an open datachannel\nWebRTC.prototype.sendDirectlyToAll = function (channel, message, payload) {\n    this.peers.forEach(function (peer) {\n        if (peer.enableDataChannels) {\n            peer.sendDirectly(channel, message, payload);\n        }\n    });\n};\n\nmodule.exports = WebRTC;\n","/* global Y */\n'use strict'\n\nvar SimpleWebRTC = require('simplewebrtc')\n\nfunction extend (Y) {\n  class WebRTC extends Y.AbstractConnector {\n    constructor (y, options) {\n      if (options === undefined) {\n        throw new Error('Options must not be undefined!')\n      }\n      if (options.room == null) {\n        throw new Error('You must define a room name!')\n      }\n      options.role = 'slave'\n      super(y, options)\n      this.webrtcOptions = {\n        url: options.url || 'http://yatta.ninja:8888',\n        room: options.room\n      }\n      var swr = new SimpleWebRTC(this.webrtcOptions)\n      this.swr = swr\n      var self = this\n      swr.once('connectionReady', function (userId) {\n        // SimpleWebRTC (swr) is initialized\n        swr.joinRoom(self.webrtcOptions.room)\n\n        swr.once('joinedRoom', function () {\n          self.setUserId(userId)\n          /*\n          var i\n          // notify the connector class about all the users that already\n          // joined the session\n          for(i in self.swr.webrtc.peers){\n            self.userJoined(self.swr.webrtc.peers[i].id, \"master\")\n          }*/\n          swr.on('channelMessage', function (peer, room_, message) {\n            // The client received a message\n            // Check if the connector is already initialized,\n            // only then forward the message to the connector class\n            if (message.type != null) {\n              self.receiveMessage(peer.id, message.payload)\n            }\n          })\n        })\n\n        swr.on('createdPeer', function (peer) {\n          // a new peer/client joined the session.\n          // Notify the connector class, if the connector\n          // is already initialized\n          self.userJoined(peer.id, 'master')\n        })\n\n        swr.on('peerStreamRemoved', function (peer) {\n          // a client left the session.\n          // Notify the connector class, if the connector\n          // is already initialized\n          self.userLeft(peer.id)\n        })\n      })\n    }\n    disconnect () {\n      this.swr.leaveRoom()\n      super.disconnect()\n    }\n    reconnect () {\n      this.swr.joinRoom(this.webrtcOptions.room)\n      super.reconnect()\n    }\n    send (uid, message) {\n      var self = this\n      // we have to make sure that the message is sent under all circumstances\n      var send = function () {\n        // check if the clients still exists\n        var peer = self.swr.webrtc.getPeers(uid)[0]\n        var success\n        if (peer) {\n          // success is true, if the message is successfully sent\n          success = peer.sendDirectly('simplewebrtc', 'yjs', message)\n        }\n        if (!success) {\n          // resend the message if it didn't work\n          setTimeout(send, 500)\n        }\n      }\n      // try to send the message\n      send()\n    }\n    broadcast (message) {\n      this.swr.sendDirectlyToAll('simplewebrtc', 'yjs', message)\n    }\n    isDisconnected () {\n      return false\n    }\n  }\n  Y.extend('webrtc', WebRTC)\n}\n\nmodule.exports = extend\nif (typeof Y !== 'undefined') {\n  extend(Y)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n"],"sourceRoot":"/source/"}